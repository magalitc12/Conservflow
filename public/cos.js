webpackJsonp([16],{JEKS:function(t,s,o){"use strict";Object.defineProperty(s,"__esModule",{value:!0});s.default={components:{barchart:function(t){return o.e(18).then(function(){return t(o("GAk/"))}.bind(null,o)).catch(o.oe)}},data:function(){return{list_proyectos:[],list_costos:[],isLoading:!1,proyecto:{},isObtener_loading:!1,total:0}},methods:{ObtenerProyectos:function(){var t=this;this.isObtener_loading=!0,axios.get("generales/proyectos/0").then(function(s){t.isObtener_loading=!1,s.data.status?t.list_proyectos=s.data.proyectos:toastr.error(s.data.mensaje)})},ObtenerTotales:function(){var t=this;null!=this.proyecto&&null!=this.proyecto.id&&(this.isObtener_loading=!0,this.list_costos=[],this.total=0,axios.get("costos/proyecto/viaticos/"+this.proyecto.id).then(function(s){if(t.isObtener_loading=!1,s.data.status){t.list_costos=s.data.costos.conceptos,t.total=s.data.costos.total;var o=[],a=[];s.data.costos.conceptos.forEach(function(t){o.push(t.nombre),a.push(t.subtotal)}),t.$refs.barchart_costos.Mostrar("asdasd",o,a)}else toastr.error(s.data.mensaje)}))}},mounted:function(){this.ObtenerProyectos(),this.proyecto={id:340,nombre_corto:"L1 Y L2, Dos Bocas."}}}},ZjdE:function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,o=t._self._c||s;return o("main",{staticClass:"main",staticStyle:{height:"90vh"}},[o("div",{staticClass:"card"},[o("div",{staticClass:"card-header"},[t._v("Costo de Proyecto")]),t._v(" "),o("div",{staticClass:"card-body"},[o("div",{staticClass:"form-group row"},[o("label",{staticClass:"col-md-1 form-control-label",attrs:{for:"tipo_partida"}},[t._v("Proyecto")]),t._v(" "),o("div",{staticClass:"col-md-5"},[o("v-select",{attrs:{options:t.list_proyectos,label:"nombre_corto"},model:{value:t.proyecto,callback:function(s){t.proyecto=s},expression:"proyecto"}})],1),t._v(" "),o("div",{staticClass:"col-md-2"},[o("button",{staticClass:"btn btn-dark",on:{click:t.ObtenerTotales}},[t._v("Buscar")])])]),t._v(" "),o("br"),t._v(" "),o("vue-element-loading",{attrs:{active:t.isObtener_loading}}),t._v(" "),o("div",{staticClass:"row"},[o("div",{staticClass:"col"},[o("table",{staticClass:"table table-sm"},[t._m(0),t._v(" "),o("tbody",[t._l(t.list_costos,function(s,a){return o("tr",{key:a,attrs:{scope:"row"}},[o("td",[t._v(t._s(a+1))]),t._v(" "),o("td",[t._v(t._s(s.nombre))]),t._v(" "),o("td",[t._v("$ "+t._s(Intl.NumberFormat("en-US").format(s.subtotal)))]),t._v(" "),o("td",[t._v("0")])])}),t._v(" "),o("tr",[o("td",{staticClass:"font-weight-bold",attrs:{colspan:"2"}},[t._v("Costo Total")]),t._v(" "),o("td"),t._v(" "),o("td",[t._v("$ "+t._s(Intl.NumberFormat("en-US").format(t.total)))])])],2)])]),t._v(" "),o("div",{staticClass:"col"},[o("barchart",{ref:"barchart_costos"})],1)])],1)])])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("thead",{staticClass:"thead-dark"},[s("tr",[s("td",{staticClass:"font-weight-bold",attrs:{scope:"col"}},[this._v("#")]),this._v(" "),s("td",{staticClass:"font-weight-bold",attrs:{scope:"col"}},[this._v("Concepto")]),this._v(" "),s("td",{staticClass:"font-weight-bold",attrs:{scope:"col"}},[this._v("Subtotal")]),this._v(" "),s("td",{staticClass:"font-weight-bold",attrs:{scope:"col"}},[this._v("Total")])])])}]}},opCB:function(t,s,o){var a=o("VU/8")(o("JEKS"),o("ZjdE"),!1,null,null,null);t.exports=a.exports}});