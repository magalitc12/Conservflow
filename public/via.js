webpackJsonp([12],{"00Zj":function(t,e){t.exports=function(){return{dateColumns:[],listColumns:{},datepickerOptions:{locale:{cancelLabel:"Clear"}},datepickerPerColumnOptions:{},initialPage:1,perPage:10,perPageValues:[10,25,50,100],groupBy:!1,collapseGroups:!1,destroyEventBus:!1,sendEmptyFilters:!1,params:{},sortable:!0,filterable:!0,groupMeta:[],initFilters:{},customFilters:[],templates:{},debounce:250,dateFormat:"DD/MM/YYYY",dateFormatPerColumn:{},toMomentFormat:!1,skin:"table table-striped table-bordered table-hover table-sm",skinBusqueda:"table table-striped table-bordered table-hover table-sm busqueda",columnsDisplay:{},columnsDropdown:!1,texts:{count:"Mostrando del {from} al  {to} de {count} registros|{count} registros|Un registro",first:"Primero",last:"Ultimo",filter:"Buscar:",filterPlaceholder:"Buscar...",limit:"Registros:",page:"Pagina:",noResults:"No se encontraron registros",filterBy:"Filtrar por {column}",loading:"Cargando...",defaultOption:"Seleccionar {column}",columns:"Columnas"},sortIcon:{base:"fa",up:"fa-chevron-up",down:"fa-chevron-down",is:"fa-sort"},sortingAlgorithm:function(t,e){return t.sort(this.getSortFn(e))},customSorting:{},multiSorting:{},clientMultiSorting:!0,serverMultiSorting:!1,filterByColumn:!1,highlightMatches:!1,orderBy:!1,descOrderColumns:[],footerHeadings:!1,headings:{},headingsTooltips:{},pagination:{dropdown:!1,chunk:10,edge:!1,align:"center",nav:"fixed"},childRow:!1,childRowTogglerFirst:!0,uniqueKey:"id",requestFunction:!1,requestAdapter:function(t){return t},responseAdapter:function(t){var e=this.getResponseData(t);return{data:e.data,count:e.count}},requestKeys:{query:"query",limit:"limit",orderBy:"orderBy",ascending:"ascending",page:"page",byColumn:"byColumn"},rowClassCallback:!1,preserveState:!1,saveState:!1,storage:"local",columnsClasses:{},columnCondicion:[{id:1,text:"Activo"},{id:0,text:"Desactivado"}]}}},"0rCr":function(t,e,i){var o=i("VU/8")(i("ceeO"),i("MAM4"),!1,null,null,null);t.exports=o.exports},"6ucc":function(t,e,i){var o=i("VU/8")(i("zgo/"),i("83dt"),!1,null,null,null);t.exports=o.exports},"83dt":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[0!=t.tipo_viatico?[i("div",{staticClass:"form-row"},[i("div",{staticClass:"form-group col-md-6"},[i("label",[t._v(" Beneficiario")]),t._v(" "),i("v-select",{attrs:{options:t.optionsvs_benficiario_uno,label:"name",name:"proyecto","data-vv-name":"proyecto"},on:{input:t.buscar_uno},model:{value:t.solicitud.beneficiariosuno,callback:function(e){t.$set(t.solicitud,"beneficiariosuno",e)},expression:"solicitud.beneficiariosuno"}})],1),t._v(" "),i("div",{staticClass:"form-group col-md-6"},[i("label",[t._v(" Banco beneficiario")]),t._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.solicitud.datos_bancos_beneficiariosuno,expression:"solicitud.datos_bancos_beneficiariosuno"}],staticClass:"form-control",attrs:{name:"datos bancarios","data-vv-name":"Proyecto"},on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.solicitud,"datos_bancos_beneficiariosuno",e.target.multiple?i:i[0])},function(e){return t.enviar_uno(e)}]}},[t._l(t.listaDatosBancariosuno,function(e){return i("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.bnombre))])}),t._v(" "),i("option",{attrs:{value:"0"}},[t._v("OTRO")])],2),t._v(" "),i("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("datos bancarios")))])])])]:t._e(),t._v(" "),0==t.tipo_viatico?[i("div",{staticClass:"form-row"},[i("div",{staticClass:"form-group col-md-6"},[i("label",[t._v(" Beneficiario")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.solicitud.beneficiariosuno,expression:"solicitud.beneficiariosuno"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.solicitud.beneficiariosuno},on:{input:function(e){e.target.composing||t.$set(t.solicitud,"beneficiariosuno",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"form-group col-md-6"},[i("label",[t._v(" Banco")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.solicitud.datos_bancos_beneficiariosuno,expression:"solicitud.datos_bancos_beneficiariosuno"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.solicitud.datos_bancos_beneficiariosuno},on:{input:function(e){e.target.composing||t.$set(t.solicitud,"datos_bancos_beneficiariosuno",e.target.value)}}})])])]:t._e(),t._v(" "),i("div",{staticClass:"form-row"},[i("div",{staticClass:"form-group col-md-6"},[i("label",[t._v("CUENTA")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.solicitud.cuentauno,expression:"solicitud.cuentauno"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.solicitud.cuentauno},on:{input:function(e){e.target.composing||t.$set(t.solicitud,"cuentauno",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"form-group col-md-6"},[i("label",[t._v("CLABE")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.solicitud.claveuno,expression:"solicitud.claveuno"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.solicitud.claveuno},on:{input:function(e){e.target.composing||t.$set(t.solicitud,"claveuno",e.target.value)}}})])]),t._v(" "),i("div",{staticClass:"form-row"},[i("div",{staticClass:"form-group col-md-6"},[i("label",[t._v("TARJETA")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.solicitud.clavecuentatarjetauno,expression:"solicitud.clavecuentatarjetauno"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.solicitud.clavecuentatarjetauno},on:{input:function(e){e.target.composing||t.$set(t.solicitud,"clavecuentatarjetauno",e.target.value)}}})]),t._v(" "),"0"===t.solicitud.datos_bancos_beneficiariosuno&&t.tipo_viatico>0?[i("div",{staticClass:"form-group col-md-6"},[i("label",[t._v("BANCO")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.solicitud.banco,expression:"solicitud.banco"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.solicitud.banco},on:{input:function(e){e.target.composing||t.$set(t.solicitud,"banco",e.target.value)}}})])]:t._e(),t._v(" "),i("div",{staticClass:"form-group col-md-6"},[i("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.quitar_uno()}}},[i("i",{staticClass:"fas fa-trash"}),t._v(" Limpiar")])])],2),t._v(" "),i("hr")],2)},staticRenderFns:[]}},"87Iu":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i("dlh+"),a=i("00Zj").call(this);e.default={data:function(){return{PermisosCrud:{},timbre_modal:0,tipo:"",unidadtemporal:{},empresa:"1",ver:1,tabs:1,isLoading:!1,tituloModal:"",modal:0,tipoAccion:0,isEnabled:!0,data_detalle:"",isObtener_Loading:!1,isGuardar_Loading:!1,solicitud:{id:"",fecha:"",fecha_pago:"",proyecto_id:"",personal_servicio_viaticos_id:"",empleado_elabora_id:"",empleado_revisa_id:"",empleado_autoriza_id:"",empleado_supervisor_id:"",beneficiario_uno:[],detalles_listado:[],detalles_totales:[],detalles_conceptos:[],origen_destino:"",origen_destino_destino:"",fecha_salida:"",hora_estimada_salida:"",fecha_operacion:"",fecha_retorno:"",total_personas:""},list_unidades:[],vehiculos_itinerario_viaticos:[],vehiculos_temporal:{unidad:"",km_inicial:"",empleado_operador_id:"",empleado_operador_name:""},optionsvs_proyecto:[],vs_options:[],columns:["solicitud.id","solicitud.folio","solicitud.tipo","solicitud.fecha_solicitud","solicitud.fecha_pago","detalle.transferencia","detalle.efectivo","detalle.total","descarga","nombre_beneficiario","solicitud.nombre_elabora","solicitud.estado"],tableData:[],options:{headings:{"solicitud.id":"Acciones","solicitud.folio":"Folio","solicitud.fecha_solicitud":"Fecha solicitada","solicitud.fecha_pago":"Fecha requerida de pago","detalle.transferencia":"Transferencia","detalle.efectivo":"Efectivo","detalle.total":"Total","solicitud.nombre_revisa":"Revisa","solicitud.nombre_autoriza":"Autoriza","solicitud.estado":"Estado","solicitud.tipo":"Tipo",nombre_beneficiario:"Beneficiario","solicitud.nombre_elabora":"Elabora"},perPage:10,perPageValues:[],skin:a.skin,sortIcon:a.sortIcon,filterByColumn:!0,listColumns:{"solicitud.tipo":[{id:1,text:"REEMBOLSO"},{id:2,text:"VIATICOS"},{id:0,text:"SINDICATO"}]},texts:a.texts}}},components:{beneficiario:function(t){return new Promise(function(t){t()}).then(function(){return t(i("6ucc"))}.bind(null,i)).catch(i.oe)},detallesv:function(t){return new Promise(function(t){t()}).then(function(){return t(i("tfws"))}.bind(null,i)).catch(i.oe)}},methods:{getData:function(){this.ver=1,this.PermisosCrud=o.a.getCRUD(this.$route.path)},sumarTotalPersona:function(){this.solicitud.total_personas=1},sumarTotalPersonas:function(){this.solicitud.personal_servicio_viaticos_id.length,this.solicitud.total_personas="",this.solicitud.total_personas=1+this.solicitud.personal_servicio_viaticos_id.length},diaActual:function(){var t=new Date,e=t.getDate(),i=t.getMonth()+1,o=t.getFullYear();e<10&&(e="0"+e),i<10&&(i="0"+i),t=o+"-"+i+"-"+e,this.solicitud.fecha=t,this.solicitud.fecha_salida=t},verdiferencia:function(){new Date(this.solicitud.fecha).getTime()>new Date(this.solicitud.fecha_retorno)&&toastr.warning("La fecha de salida no puede ser menor a la fecha salida")},componenteBeneficiario:function(){this.$refs.beneficiario.getDatos(this.empresa,this.tipo,this.vs_options),this.$refs.detallesv.getDatos(this.tipo)},ObtenerUnidades:function(){var t=this;axios.get("vehiculos/combustible/obtenerunidades").then(function(e){e.data.status?t.list_unidades=e.data.unidades:toastr.error(e.data.mensaje)})},abrirModal:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(""===this.empresa)toastr.warning("Seleccione una empresa");else switch(this.ObtenerProyectos(),this.ObtenerEmpleados(),this.ObtenerUnidades(),t){case"solicitud":switch(e){case"registrar":this.isEnabled=!0,o.a.resetObject(this.solicitud),this.modal=1,this.diaActual(),this.tituloModal="Registrar solicitud de viaticos",this.tipoAccion=1,this.solicitud.empleado_autoriza_id={id:461,name:"BRIGIDA MARTINEZ HERRERA"};break;case"actualizar":this.isEnabled=!1,o.a.resetObject(this.solicitud),this.tituloModal="Actualizar solicitud de viaticos",this.modal=1,this.tipoAccion=2,this.tipo=i.solicitud.tipo,this.solicitud.fecha=i.solicitud.fecha_solicitud,this.solicitud.fecha_pago=i.solicitud.fecha_pago,this.solicitud.proyecto_id={id:i.solicitud.proyecto_id,nombre_corto:i.solicitud.nombre_proyecto},this.$refs.beneficiario.setDatos(i.beneficiarios,i.solicitud.tipo,this.empresa),this.$refs.detallesv.setDatos(i.detalles_listado,i.solicitud.tipo),this.solicitud.origen_destino=i.solicitud.origen_destino,this.solicitud.origen_destino_destino=i.solicitud.origen_destino_destino,this.solicitud.fecha_salida=i.solicitud.fecha_salida,this.solicitud.hora_estimada_salida=i.solicitud.hora_estimada_salida,this.solicitud.fecha_operacion=i.solicitud.fecha_operacion,this.solicitud.fecha_retorno=i.solicitud.fecha_retorno,this.vehiculos_itinerario_viaticos=[];for(var a=0;a<i.vehiculo.length;a++){this.vehiculos_itinerario_viaticos.push({unidad:i.vehiculo[a].unidad,km_inicial:i.vehiculo[a].km_inicial,empleado_operador_id:i.vehiculo[a].empleado_operador_id,empleado_operador_name:i.vehiculo[a].nombre_operador})}this.solicitud.total_personas=i.solicitud.total_personas,this.solicitud.empleado_supervisor_id={id:i.solicitud.empleado_supervisor_id,name:i.solicitud.nombre_supervisor},this.solicitud.empleado_elabora_id={id:i.solicitud.empleado_elabora_id,name:i.solicitud.nombre_elabora},this.solicitud.empleado_revisa_id={id:i.solicitud.empleado_revisa_id,name:i.solicitud.nombre_revisa},this.solicitud.empleado_autoriza_id={id:i.solicitud.empleado_autoriza_id,name:i.solicitud.nombre_autoriza},this.solicitud.id=i.solicitud.id;var s=[];for(a=0;a<i.empleados.length;a++)s.push({id:i.empleados[a].empleado_id,name:i.empleados[a].nombre_empleado});this.solicitud.personal_servicio_viaticos_id=s}}},cerrarModal:function(){this.modal=0,this.$refs.beneficiario.quitar_uno(),this.vehiculos_itinerario_viaticos=[],o.a.resetObject(this.solicitud)},enviouno:function(t){this.solicitud.beneficiario_uno=t},envio_u:function(t){this.solicitud.detalles_listado=t},envio_d:function(t){this.solicitud.detalles_totales=t},envio_c:function(t){this.solicitud.detalles_conceptos=t},crear:function(){null!=this.unidadtemporal&&(null!=this.unidadtemporal.id?null!=this.vehiculos_temporal.empleado_operador_id.id?(this.vehiculos_itinerario_viaticos.push({unidad:this.unidadtemporal.modelo,km_inicial:this.unidadtemporal.placas,empleado_operador_id:this.vehiculos_temporal.empleado_operador_id.id,empleado_operador_name:this.vehiculos_temporal.empleado_operador_id.name,temp:!0}),this.unidadtemporal={},this.vehiculos_temporal={}):toastr.warning("Seleccione el operador"):toastr.warning("Seleccione una unidad"))},guardar:function(t){var e=this;this.$validator.validate().then(function(i){if(i){e.isGuardar_Loading=!0,axios({method:t?"POST":"PUT",url:t?"/solicitudviaticos":"/solicitudviaticos/"+e.solicitud.id,data:{id:e.solicitud.id,fecha_solicitud:e.solicitud.fecha,fecha_pago:e.solicitud.fecha_pago,proyecto_id:e.solicitud.proyecto_id.id,personal_servicio_viaticos_id:""==e.solicitud.personal_servicio_viaticos_id?[]:e.solicitud.personal_servicio_viaticos_id,empleado_elabora_id:e.solicitud.empleado_elabora_id.id,empleado_revisa_id:e.solicitud.empleado_revisa_id.id,empleado_autoriza_id:e.solicitud.empleado_autoriza_id.id,empleado_supervisor_id:""==e.solicitud.empleado_supervisor_id?"":e.solicitud.empleado_supervisor_id.id,beneficiario_uno:e.solicitud.beneficiario_uno,detalles_totales:e.solicitud.detalles_totales,detalles_listado:e.solicitud.detalles_listado,detalles_conceptos:e.solicitud.detalles_conceptos,origen_destino:e.solicitud.origen_destino,origen_destino_destino:e.solicitud.origen_destino_destino,fecha_salida:e.solicitud.fecha_salida,hora_estimada_salida:e.solicitud.hora_estimada_salida,fecha_operacion:e.solicitud.fecha_operacion,fecha_retorno:e.solicitud.fecha_retorno,total_personas:e.solicitud.total_personas,vehiculos_itinerario_viaticos:e.vehiculos_itinerario_viaticos,empresa:e.empresa,tipo:e.tipo}}).then(function(i){if(e.isGuardar_Loading=!1,i.data.status){toastr.success(t?"Solicitud creada exitosamente":"Solicitud actualizada exitosamente","Correcto");var o=e;e.ObtenerSolicitudes(),o.cerrarModal(),o.getData()}else toastr.error("Error al guardar la solicitud")}).catch(function(t){console.error(t)})}else toastr.warning("Complete los campos requeridos")})},limpiarBeneficiarioUno:function(){this.solicitud.beneficiario_uno=null},limpiarBeneficiarioDos:function(){this.solicitud.beneficiario_dos=null},maestro:function(){this.ver=1},enviaRevision:function(t,e){var i=this;this.isLoading=!0,swal({title:"Esta seguro(a) de enviar?",type:"warning",showCancelButton:!0,confirmButtonColor:"#4dbd74",cancelButtonColor:"#f86c6b",confirmButtonText:"Aceptar!",cancelButtonText:"Cancelar",reverseButtons:!0}).then(function(o){o.value?axios.post("/estadosviaticos",{id:t,edo:e,empresa:i.empresa}).then(function(t){i.isLoading=!1,t.data.status?(2==e&&toastr.success("Solicitud de viaticos enviada a revisión","Correcto"),i.getData(),i.ObtenerSolicitudes()):toastr.warning(t.data.respuesta,"Atención")}).catch(function(t){console.log(t)}):i.isLoading=!1})},decargarForVia:function(t,e){window.open("/descargarformatoviatico/"+t+"&"+e,"_blank")},descargarnForFij:function(t,e){window.open("/descargarnformatofij/"+t+"&"+e,"_blank")},ObtenerProyectos:function(){var t=this;axios.get("generales/proyectos/1").then(function(e){t.optionsvs_proyecto=e.data.proyectos})},ObtenerEmpleados:function(){var t=this;axios.get("rh/empleados/obtenerporempresa/"+this.empresa).then(function(e){var i=[];e.data.empleados.forEach(function(t){i.push({id:t.id,name:t.nombre+" "+t.ap_paterno+" "+t.ap_materno})}),t.vs_options=i})},ObtenerSolicitudes:function(){var t=this;this.isObtener_Loading=!0,axios.get("solicitud/viaticos/conserflow/"+this.empresa).then(function(e){t.isObtener_Loading=!1,e.data.status?t.tableData=e.data.viaticos:toastr.error(e.data.mensaje)})},eliminar:function(t,e){var i=this;axios.get("eliminar/solicitud/viaticos/"+t+"&"+e).then(function(t){toastr.success("Eliminado Correctamente"),i.ObtenerSolicitudes()}).catch(function(t){console.error(t)})}},mounted:function(){this.getData(),this.ObtenerSolicitudes()}}},"8MmR":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});i("dlh+"),i("00Zj").call(this);e.default={data:function(){return{tipo:"",listaConceptos:[],listado:{tranferencia:[],efectivo:[],conceptos:[]},listado_temporal:{tranferencia:"",efectivo:"",conceptos:""},totales:{totaltranferencia:"",totalefectivo:"",totalgeneral:""}}},computed:{totalTransferencia:function(){var t=this;return this.listado.tranferencia.reduce(function(e,i){return t.totales.totaltranferencia=e+parseFloat(i)},0)},totalEfectivo:function(){var t=this;return this.listado.efectivo.reduce(function(e,i){return t.totales.totalefectivo=e+parseFloat(i)},0)},totalGeneral:function(){return this.totales.totalgeneral=parseFloat(this.totales.totaltranferencia)+parseFloat(this.totales.totalefectivo)}},methods:{getDatos:function(t){this.tipo=t,this.listado.tranferencia=[],this.listado.efectivo=[],this.listado.conceptos=[],this.listaConceptos=[],t>0&&this.getData()},getData:function(){var t=this;axios.get("conceptosviaticos").then(function(e){for(var i=0;i<e.data.length;i++)t.listado.tranferencia.push(0),t.listado.efectivo.push(0),t.listado.conceptos.push(e.data[i].id);t.listaConceptos=e.data}).catch(function(t){console.log(t)})},enviar:function(){this.$emit("listado",this.listado),this.$emit("totales",this.totales),this.$emit("conceptos",this.conceptos)},setDatos:function(t,e){console.log(t,"datos reci");var i=[],o=[],a=[];this.tipo=e;for(var s=0;s<t.length;s++)i.push(t[s].transferencia_electronica),o.push(t[s].efectivo),0==e?a.push(t[s].catalogo_concepto_viaticos):a.push(s+1);console.log(i),console.log(o),console.log(a),this.listado.tranferencia=i,this.listado.efectivo=o,this.listado.conceptos=a;this.enviar()},crear:function(){this.listado.tranferencia.push(this.listado_temporal.tranferencia),this.listado.efectivo.push(this.listado_temporal.efectivo),this.listado.conceptos.push(this.listado_temporal.conceptos),this.listado_temporal.tranferencia="",this.listado_temporal.efectivo="",this.listado_temporal.conceptos="";this.enviar()},deleteu:function(t){this.listado.tranferencia.splice(t,1),this.listado.efectivo.splice(t,1),this.listado.conceptos.splice(t,1)}},mounted:function(){this.getData()}}},DlIy:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.tipo>0?[i("div",{staticClass:"table-responsive"},[i("table",{staticClass:"table"},[t._m(0),t._v(" "),t._l(t.listaConceptos,function(e){return i("tr",[i("td",{attrs:{scope:"row"}},[i("label",[t._v(t._s(e.nombre))])]),t._v(" "),i("td",[t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model.number",value:t.listado.tranferencia[e.id-1],expression:"listado.tranferencia[item.id - 1]",modifiers:{number:!0}}],staticClass:"form-control col-md-6",attrs:{type:"number",step:".01"},domProps:{value:t.listado.tranferencia[e.id-1]},on:{input:[function(i){i.target.composing||t.$set(t.listado.tranferencia,e.id-1,t._n(i.target.value))},t.enviar],blur:function(e){return t.$forceUpdate()}}})]),t._v(" "),i("td",[t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model.number",value:t.listado.efectivo[e.id-1],expression:"listado.efectivo[item.id - 1]",modifiers:{number:!0}}],staticClass:"form-control col-md-6",attrs:{type:"number",step:".01"},domProps:{value:t.listado.efectivo[e.id-1]},on:{input:[function(i){i.target.composing||t.$set(t.listado.efectivo,e.id-1,t._n(i.target.value))},t.enviar],blur:function(e){return t.$forceUpdate()}}})]),t._v(" "),i("td",[t._v(" "+t._s((parseFloat(t.listado.tranferencia[e.id-1])+parseFloat(t.listado.efectivo[e.id-1])).toFixed(2)))])])}),t._v(" "),t._m(1),t._v(" "),i("tr",[t._m(2),t._v(" "),i("td",[i("b",[t._v(t._s(t.totalTransferencia.toFixed(2)))])]),t._v(" "),i("td",[i("b",[t._v(t._s(t.totalEfectivo.toFixed(2)))])]),t._v(" "),i("td",[i("b",[t._v(t._s(t.totalGeneral.toFixed(2)))])])])],2)])]:t._e(),t._v(" "),0==t.tipo?[t._m(3),t._v(" "),t._l(t.listado.conceptos,function(e,o){return i("li",{staticClass:"list-group-item"},[i("div",{staticClass:"form-row"},[i("div",{staticClass:"form-group col-md-4"},[i("label",[t._v(t._s(t.listado.conceptos[o]))])]),t._v(" "),i("div",{staticClass:"form-group col-md-2"},[i("label",[t._v(t._s(t.listado.tranferencia[o]))])]),t._v(" "),i("div",{staticClass:"form-group col-md-2"},[i("label",[t._v(t._s(t.listado.efectivo[o]))])]),t._v(" "),i("div",{staticClass:"form-group col-md-2"},[i("label",[t._v(t._s(parseFloat(t.listado.tranferencia[o])+parseFloat(t.listado.efectivo[o])))])]),t._v(" "),i("div",{staticClass:"form-group col-md-2"},[i("a",{on:{click:function(e){return t.deleteu(o)}}},[i("span",{staticClass:"fas fa-trash",attrs:{"arial-hidden":"true"}})])])])])}),t._v(" "),i("div",{staticClass:"form-row"},[i("div",{staticClass:"form-group col-md-4"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.listado_temporal.conceptos,expression:"listado_temporal.conceptos"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Concepto"},domProps:{value:t.listado_temporal.conceptos},on:{input:function(e){e.target.composing||t.$set(t.listado_temporal,"conceptos",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"form-group col-md-2"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.listado_temporal.tranferencia,expression:"listado_temporal.tranferencia"}],staticClass:"form-control",attrs:{type:"number",placeholder:"Tranferencia"},domProps:{value:t.listado_temporal.tranferencia},on:{input:function(e){e.target.composing||t.$set(t.listado_temporal,"tranferencia",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"form-group col-md-2"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.listado_temporal.efectivo,expression:"listado_temporal.efectivo"}],staticClass:"form-control",attrs:{type:"number",placeholder:"Efectivo"},domProps:{value:t.listado_temporal.efectivo},on:{input:function(e){e.target.composing||t.$set(t.listado_temporal,"efectivo",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"form-group col-md-2"},[t._v("\n       \n      ")]),t._v(" "),i("div",{staticClass:"form-group col-md-2"},[i("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.crear()}}},[i("i",{staticClass:"fas fa-plus"}),t._v(" Crear")])])])]:t._e()],2)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("th",{attrs:{scope:"col"}},[this._v("Concepto")]),this._v(" "),e("th",{attrs:{scope:"col"}},[this._v("T.E (Transferencia Electronica)")]),this._v(" "),e("th",{attrs:{scope:"col"}},[this._v("Efectivo")]),this._v(" "),e("th",{attrs:{scope:"col"}},[this._v("Total")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",{attrs:{colspan:"4"}},[this._v(" ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",[e("b",[this._v("Total")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"form-row"},[i("div",{staticClass:"form-group col-md-4"},[i("label",[i("b",[t._v("Concepto")])])]),t._v(" "),i("div",{staticClass:"form-group col-md-2"},[i("label",[i("b",[t._v("T.E (Transferencia Electronica)")])])]),t._v(" "),i("div",{staticClass:"form-group col-md-2"},[i("label",[i("b",[t._v("Efectivo")])])]),t._v(" "),i("div",{staticClass:"form-group col-md-2"},[i("label",[i("b",[t._v("Total")])])]),t._v(" "),i("div",{staticClass:"form-group col-md-2"},[i("label",[i("b",[t._v("ACCIONES")])])])])}]}},MAM4:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("main",{staticClass:"main"},[i("div",{directives:[{name:"show",rawName:"v-show",value:1==t.tipoCardDepositos,expression:"tipoCardDepositos==1"}],staticClass:"card"},[i("div",{staticClass:"card-header"},[i("i",{staticClass:"fa fa-align-justify"}),t._v(" SOLICITUDES DE VIÁTICOS\r\n            "),t.PermisosCRUD.Create?[i("button",{staticClass:"btn btn-dark float-sm-right",attrs:{type:"button"},on:{click:function(e){return t.AbrirModalDepositos(!0)}}},[i("i",{staticClass:"fas fa-plus mr-1"}),t._v("Nuevo\r\n                ")])]:t._e()],2),t._v(" "),i("div",{staticClass:"card-body"},[i("vue-element-loading",{attrs:{active:t.isObtenerSolicitudes_loading}}),t._v(" "),i("v-client-table",{attrs:{columns:t.columns_solicitudes,data:t.list_solicitudes,options:t.options_solicitudes},scopedSlots:t._u([{key:"sv_id",fn:function(e){return[i("div",{staticClass:"btn-group",attrs:{role:"group"}},[i("div",{staticClass:"btn-group dropup",attrs:{role:"group"}},[i("button",{staticClass:"btn btn-outline-dark dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[i("i",{staticClass:"fas fa-grip-horizontal"}),t._v(" Acciones\r\n                            ")]),t._v(" "),i("div",{staticClass:"dropdown-menu"},[i("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(i){return t.VerDepositos(e.row)}}},[i("i",{staticClass:"fas fa-list"}),t._v(" Ver depósitos\r\n                                ")])])])])]}},{key:"total_pedido",fn:function(e){return[t._v("\r\n                    "+t._s(new Intl.NumberFormat("en-US").format(e.row.total_pedido))+"\r\n                ")]}},{key:"total_enviado",fn:function(e){return[t._v("\r\n                    "+t._s(new Intl.NumberFormat("en-US").format(e.row.total_enviado))+"\r\n                ")]}},{key:"doc",fn:function(e){return[i("button",{staticClass:"btn btn-sm btn-dark",on:{click:function(i){return t.DescargarSolicitud(e.row.sv_id)}}},[i("i",{staticClass:"fas fa-download"})])]}},{key:"estado",fn:function(e){return[e.row.total_pedido===e.row.total_enviado?[i("button",{staticClass:"btn btn-sm btn-outline-success"},[t._v("Pagado\r\n                        ")])]:[i("button",{staticClass:"btn btn-sm btn-outline-warning"},[t._v("Pendiente de pago\r\n                        ")])]]}}])})],1)]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:2==t.tipoCardDepositos,expression:"tipoCardDepositos==2"}],staticClass:"card"},[i("div",{staticClass:"card-header"},[i("i",{staticClass:"fa fa-align-justify"}),t._v(" DEPÓSITOS DE VIÁTICOS\r\n            "),t.solicitud.folio?i("span",[t._v("- "+t._s(t.solicitud.folio))]):t._e(),t._v(" "),i("button",{staticClass:"btn btn-dark float-sm-right",attrs:{type:"button"},on:{click:function(e){t.tipoCardDepositos=1}}},[i("i",{staticClass:"fas fa-arrow-left mr-1"}),t._v("Regresar\r\n            ")]),t._v(" "),t.PermisosCRUD.Create?[i("button",{staticClass:"btn btn-dark float-sm-right",attrs:{type:"button"},on:{click:function(e){return t.AbrirModalDepositos(!0)}}},[i("i",{staticClass:"fas fa-plus mr-1"}),t._v("Nuevo\r\n                ")])]:t._e()],2),t._v(" "),i("div",{staticClass:"card-body"},[i("vue-element-loading",{attrs:{active:t.isObtenerdepositos_loading}}),t._v(" "),i("v-client-table",{attrs:{columns:t.columns_depositos,data:t.list_depositos,options:t.options_depositos},scopedSlots:t._u([{key:"vd_id",fn:function(e){return[i("div",{staticClass:"btn-group",attrs:{role:"group"}},[i("div",{staticClass:"btn-group dropup",attrs:{role:"group"}},[i("button",{staticClass:"btn btn-outline-dark dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[i("i",{staticClass:"fas fa-grip-horizontal"}),t._v(" Acciones\r\n                            ")]),t._v(" "),i("div",{staticClass:"dropdown-menu"},[i("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(i){return t.AbrirModalDepositos(!1,e.row)}}},[i("i",{staticClass:"fas fa-edit"}),t._v(" Actualizar\r\n                                ")])])])])]}},{key:"comprobante",fn:function(e){return[i("button",{staticClass:"btn btn-sm btn-dark",on:{click:function(i){return t.DescargarComprobante(e.row.comprobante)}}},[i("i",{staticClass:"fas fa-download"})])]}}])})],1)]),t._v(" "),t.ver_modal_depositos?i("div",{staticClass:"modal fade",class:{mostrar:t.ver_modal_depositos},staticStyle:{display:"none"},attrs:{tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel","aria-hidden":"true"}},[i("div",{staticClass:"modal-dialog modal-dark modal-lg",attrs:{role:"document"}},[i("div",{staticClass:"modal-content"},[i("div",[i("div",{staticClass:"modal-header"},[i("h4",{staticClass:"modal-title",domProps:{textContent:t._s(t.tituloModal_depositos)}}),t._v(" "),i("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.CerrarModalDepositos()}}},[i("span",{attrs:{"aria-hidden":"true"}},[t._v("X")])])]),t._v(" "),i("div",{staticClass:"modal-body"},[i("vue-element-loading",{attrs:{active:t.isGuardardepositos_loading}}),t._v(" "),t.ver_modal_depositos?i("div",[i("div",{staticClass:"form-group row"},[i("label",{staticClass:"col-md-3 form-control-label"},[t._v("Fecha")]),t._v(" "),i("div",{staticClass:"col-md-3"},[i("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.depositos.fecha,expression:"depositos.fecha"}],staticClass:"form-control",attrs:{type:"date","data-vv-name":"Fecha"},domProps:{value:t.depositos.fecha},on:{input:function(e){e.target.composing||t.$set(t.depositos,"fecha",e.target.value)}}}),t._v(" "),i("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Fecha")))])])]),t._v(" "),i("div",{staticClass:"form-group row"},[i("label",{staticClass:"col-md-3 form-control-label"},[t._v("Solicitud")]),t._v(" "),i("div",{staticClass:"col-md-8"},[i("v-select",{attrs:{label:"folio",options:t.list_folios,"data-vv-name":"Solicitud"},model:{value:t.solicitud,callback:function(e){t.solicitud=e},expression:"solicitud"}}),t._v(" "),i("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Solicitud")))])],1),t._v(" "),i("button",{staticClass:"btn btn-dark",on:{click:t.ObtenerDetalles}},[i("i",{staticClass:"fas fa-search"})])]),t._v(" "),t._m(0),t._v(" "),t.list_conceptos?t._l(t.list_conceptos,function(e,o){return i("div",{key:o,staticClass:"form-group row"},[i("label",{staticClass:"col-md-3 form-control-label"},[t._v(t._s(e.nombre))]),t._v(" "),i("div",{staticClass:"col-md-3"},[i("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:e.abono,expression:"c.abono"}],staticClass:"form-control",attrs:{type:"number",min:"0",max:e.transferencia_pendiente,"data-vv-name":e.nombre},domProps:{value:e.abono},on:{input:function(i){i.target.composing||t.$set(e,"abono",i.target.value)}}}),t._v(" "),i("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first(e.nombre)))])]),t._v(" "),i("label",{staticClass:"col-md-2 text-center"},[t._v("-"+t._s(e.transferencia_pendiente)+"-")])])}):t._e(),t._v(" "),i("div",{staticClass:"form-group row"},[i("label",{staticClass:"col-md-3 form-control-label"},[t._v("Total")]),t._v(" "),i("div",{staticClass:"col-md-3"},[i("label",{staticClass:"form-control",attrs:{readonly:""},domProps:{textContent:t._s(t.total_abono)}}),t._v(" "),i("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Total")))])])]),t._v(" "),i("div",{staticClass:"form-group row"},[i("label",{staticClass:"col-md-3 form-control-label"},[t._v("Banco")]),t._v(" "),i("div",{staticClass:"col-md-3"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.depositos.banco,expression:"depositos.banco"}],staticClass:"form-control",on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.depositos,"banco",e.target.multiple?i:i[0])}}},[i("option",{attrs:{value:"BBVA"}},[t._v("BBVA")]),t._v(" "),i("option",{attrs:{value:"SANTANDER"}},[t._v("SANTANDER")])]),t._v(" "),i("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Banco")))])])]),t._v(" "),i("div",{staticClass:"form-group row"},[i("label",{staticClass:"col-md-3 form-control-label"},[t._v("Folio Transacción")]),t._v(" "),i("div",{staticClass:"col-md-4"},[i("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.depositos.folio_comprobante,expression:"depositos.folio_comprobante"}],staticClass:"form-control",attrs:{type:"text",maxlength:"50","data-vv-name":"Folio"},domProps:{value:t.depositos.folio_comprobante},on:{input:function(e){e.target.composing||t.$set(t.depositos,"folio_comprobante",e.target.value)}}}),t._v(" "),i("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Folio")))])])]),t._v(" "),i("div",{staticClass:"form-group row"},[i("label",{staticClass:"col-md-3 form-control-label"},[t._v("Comprobante")]),t._v(" "),i("div",{staticClass:"col-md-5"},[i("input",{ref:"comprobante",staticClass:"form-control",attrs:{type:"file",accept:"application/pdf"},on:{change:t.CargarComprobante}}),t._v(" "),i("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Comprobante")))])])]),t._v(" "),i("div",{staticClass:"form-group row"},[i("label",{staticClass:"col-md-3 form-control-label"},[t._v("Observaciones")]),t._v(" "),i("div",{staticClass:"col-md-10"},[i("textarea",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.depositos.observaciones,expression:"depositos.observaciones"}],staticClass:"form-control",attrs:{maxlength:"150",minlength:"1","data-vv-name":"Observaciones",autocomplete:"off",cols:"30",rows:"4"},domProps:{value:t.depositos.observaciones},on:{input:function(e){e.target.composing||t.$set(t.depositos,"observaciones",e.target.value)}}}),t._v(" "),i("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Observaciones")))])])])],2):t._e()],1),t._v(" "),i("div",{staticClass:"modal-footer"},[i("vue-element-loading",{attrs:{active:t.isGuardardepositos_loading}}),t._v(" "),i("div",[i("button",{staticClass:"btn btn-outline-dark",attrs:{type:"button"},on:{click:function(e){return t.CerrarModalDepositos()}}},[i("i",{staticClass:"fas fa-window-close"}),t._v(" Cerrar\r\n                            ")]),t._v(" "),1==t.tipoAccion_depositos?i("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.RegistrarDepositos(!0)}}},[i("i",{staticClass:"fas fa-save"}),t._v(" Guardar\r\n                            ")]):t._e(),t._v(" "),2==t.tipoAccion_depositos?i("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.RegistrarDepositos(!1)}}},[i("i",{staticClass:"fas fa-save"}),t._v(" Actualizar\r\n                            ")]):t._e()])],1)])])])]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-group row"},[e("label",{staticClass:"font-weight-bold text-center col-md-3 form-control-label"}),this._v(" "),e("label",{staticClass:"font-weight-bold text-center col-md-3 form-control-label"},[this._v("Depositado")]),this._v(" "),e("label",{staticClass:"font-weight-bold text-center col-md-3 form-control-label"},[this._v("Pendiente")])])}]}},SldL:function(t,e){!function(e){"use strict";var i,o=Object.prototype,a=o.hasOwnProperty,s="function"==typeof Symbol?Symbol:{},r=s.iterator||"@@iterator",n=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag",c="object"==typeof t,d=e.regeneratorRuntime;if(d)c&&(t.exports=d);else{(d=e.regeneratorRuntime=c?t.exports:{}).wrap=C;var u="suspendedStart",p="suspendedYield",v="executing",_="completed",m={},f={};f[r]=function(){return this};var h=Object.getPrototypeOf,b=h&&h(h(F([])));b&&b!==o&&a.call(b,r)&&(f=b);var g=D.prototype=w.prototype=Object.create(f);x.prototype=g.constructor=D,D.constructor=x,D[l]=x.displayName="GeneratorFunction",d.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===x||"GeneratorFunction"===(e.displayName||e.name))},d.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,D):(t.__proto__=D,l in t||(t[l]="GeneratorFunction")),t.prototype=Object.create(g),t},d.awrap=function(t){return{__await:t}},O(E.prototype),E.prototype[n]=function(){return this},d.AsyncIterator=E,d.async=function(t,e,i,o){var a=new E(C(t,e,i,o));return d.isGeneratorFunction(e)?a:a.next().then(function(t){return t.done?t.value:a.next()})},O(g),g[l]="Generator",g[r]=function(){return this},g.toString=function(){return"[object Generator]"},d.keys=function(t){var e=[];for(var i in t)e.push(i);return e.reverse(),function i(){for(;e.length;){var o=e.pop();if(o in t)return i.value=o,i.done=!1,i}return i.done=!0,i}},d.values=F,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=i,this.done=!1,this.delegate=null,this.method="next",this.arg=i,this.tryEntries.forEach(P),!t)for(var e in this)"t"===e.charAt(0)&&a.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=i)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function o(o,a){return n.type="throw",n.arg=t,e.next=o,a&&(e.method="next",e.arg=i),!!a}for(var s=this.tryEntries.length-1;s>=0;--s){var r=this.tryEntries[s],n=r.completion;if("root"===r.tryLoc)return o("end");if(r.tryLoc<=this.prev){var l=a.call(r,"catchLoc"),c=a.call(r,"finallyLoc");if(l&&c){if(this.prev<r.catchLoc)return o(r.catchLoc,!0);if(this.prev<r.finallyLoc)return o(r.finallyLoc)}else if(l){if(this.prev<r.catchLoc)return o(r.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return o(r.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&a.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var s=o;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=e&&e<=s.finallyLoc&&(s=null);var r=s?s.completion:{};return r.type=t,r.arg=e,s?(this.method="next",this.next=s.finallyLoc,m):this.complete(r)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),P(i),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var o=i.completion;if("throw"===o.type){var a=o.arg;P(i)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,o){return this.delegate={iterator:F(t),resultName:e,nextLoc:o},"next"===this.method&&(this.arg=i),m}}}function C(t,e,i,o){var a=e&&e.prototype instanceof w?e:w,s=Object.create(a.prototype),r=new N(o||[]);return s._invoke=function(t,e,i){var o=u;return function(a,s){if(o===v)throw new Error("Generator is already running");if(o===_){if("throw"===a)throw s;return $()}for(i.method=a,i.arg=s;;){var r=i.delegate;if(r){var n=k(r,i);if(n){if(n===m)continue;return n}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(o===u)throw o=_,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);o=v;var l=y(t,e,i);if("normal"===l.type){if(o=i.done?_:p,l.arg===m)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(o=_,i.method="throw",i.arg=l.arg)}}}(t,i,r),s}function y(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(t){return{type:"throw",arg:t}}}function w(){}function x(){}function D(){}function O(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function E(t){var e;this._invoke=function(i,o){function s(){return new Promise(function(e,s){!function e(i,o,s,r){var n=y(t[i],t,o);if("throw"!==n.type){var l=n.arg,c=l.value;return c&&"object"==typeof c&&a.call(c,"__await")?Promise.resolve(c.__await).then(function(t){e("next",t,s,r)},function(t){e("throw",t,s,r)}):Promise.resolve(c).then(function(t){l.value=t,s(l)},r)}r(n.arg)}(i,o,e,s)})}return e=e?e.then(s,s):s()}}function k(t,e){var o=t.iterator[e.method];if(o===i){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=i,k(t,e),"throw"===e.method))return m;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var a=y(o,t.iterator,e.arg);if("throw"===a.type)return e.method="throw",e.arg=a.arg,e.delegate=null,m;var s=a.arg;return s?s.done?(e[t.resultName]=s.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=i),e.delegate=null,m):s:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,m)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function F(t){if(t){var e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,s=function e(){for(;++o<t.length;)if(a.call(t,o))return e.value=t[o],e.done=!1,e;return e.value=i,e.done=!0,e};return s.next=s}}return{next:$}}function $(){return{value:i,done:!0}}}(function(){return this}()||Function("return this")())},Xxa5:function(t,e,i){t.exports=i("jyFz")},ceeO:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i("Xxa5"),a=i.n(o),s=i("dlh+"),r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])}return t};function n(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,i){return function o(a,s){try{var r=e[a](s),n=r.value}catch(t){return void i(t)}if(!r.done)return Promise.resolve(n).then(function(t){o("next",t)},function(t){o("throw",t)});t(n)}("next")})}}var l=i("00Zj").call(this);e.default={data:function(){return{url_depositos:"viaticos/depositos",tipoAccion_depositos:1,tipoCardDepositos:1,PermisosCRUD:{},ver_modal_depositos:!1,tituloModal_depositos:"",depositos_id:0,isGuardardepositos_loading:!1,isObtenerdepositos_loading:!1,columns_depositos:["vd_id","fecha","banco","cantidad","comprobante","observaciones"],list_depositos:[],list_folios:[],solicitud:{},comprobante:{},list_conceptos:[],depositos:{fecha:"",solicitud:{},total:0,banco:"BBVA",folio:"-",observaciones:"-"},options_depositos:{headings:{vd_id:"Acciones"},perPage:20,perPageValues:[],skin:l.skin,sortIcon:l.sortIcon,filterByColumn:!0,texts:l.texts},isObtenerSolicitudes_loading:!1,columns_solicitudes:["sv_id","fecha_solicitud","folio","beneficiario","elabora","total_pedido","total_enviado","doc","estado"],list_solicitudes:[],options_solicitudes:{headings:{sv_id:"Acciones",doc:"Solicitud"},perPage:10,perPageValues:[],skin:l.skin,sortIcon:l.sortIcon,filterByColumn:!0,texts:l.texts}}},computed:{total_abono:function(){return this.list_conceptos.reduce(function(t,e){return t+parseFloat(e.abono)},0)}},methods:{ObtenerDepositos:function(t){var e=this;this.isObtenerdepositos_loading=!0,axios.get(this.url_depositos+"/obtener/"+t).then(function(t){e.isObtenerdepositos_loading=!1,t.data.status?e.list_depositos=t.data.depositos:toastr.error(t.data.mensaje)})},LimpiarModel:function(){this.solicitud={},this.depositos={fecha:"",solicitud:{},total:0,banco:"BBVA",folio:"-",observaciones:"-"},this.list_conceptos=[]},AbrirModalDepositos:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.$validator.resume(),this.ver_modal_depositos=!0,t?(this.LimpiarModel(),this.tituloModal_depositos="Registrar Depósitos Viáticos",this.tipoAccion_depositos=1):(this.tituloModal_depositos="Actualizar Depósitos Viáticos",this.tipoAccion_depositos=2,this.depositos=r({},e))},RegistrarDepositos:function(){var t=n(a.a.mark(function t(e){var i,o=this;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return 0==this.total_depositos&&toastr.warning("Ingrese una cantidad"),t.next=3,this.$validator.validate();case 3:if(t.sent){t.next=6;break}return t.abrupt("return");case 6:if(!(this.total_abono<=0)){t.next=9;break}return toastr.warning("Ingrese una cantidad válida"),t.abrupt("return");case 9:if(0!=this.$refs.comprobante.files.length){t.next=12;break}return toastr.warning("Ingrese el comprobante"),t.abrupt("return");case 12:i=new FormData,e||i.append("vd_id",this.depositos.vd_id),i.append("fecha",this.depositos.fecha),i.append("solicitud_id",this.solicitud.id),i.append("banco",this.depositos.banco),i.append("observaciones",this.depositos.observaciones),i.append("conceptos",JSON.stringify(this.list_conceptos)),i.append("comprobante_doc",this.$refs.comprobante.files[0]),i.append("folio_comprobante",this.depositos.folio_comprobante),this.isGuardardepositos_loading=!0,axios.post(this.url_depositos+"/guardar",i).then(function(t){o.isGuardardepositos_loading=!1,t.data.status?(toastr.success("Guardado correctamente"),o.ObtenerDepositos(),o.CerrarModalDepositos(),o.ObtenerSolicitudes()):toastr.error(t.data.mensaje)});case 23:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),CerrarModalDepositos:function(){this.$validator.pause(),this.ver_modal_depositos=!1,this.depositos={}},ObtenerFolios:function(){var t=this;this.isObtener_loading=!0,axios.get("viaticos/depositos/obtenerfolios").then(function(e){t.isObtener_loading=!1,e.data.status?t.list_folios=e.data.folios:toastr.error(e.data.mensaje)})},ObtenerDetalles:function(){var t=n(a.a.mark(function t(){var e,i;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(console.error(this.solicitud),null!=this.solicitud){t.next=3;break}return t.abrupt("return");case 3:if(null!=this.solicitud.id){t.next=5;break}return t.abrupt("return");case 5:return this.isGuardardepositos_loading=!0,this.list_conceptos=[],t.next=9,axios.get("viaticos/solcitud/detalles/"+this.solicitud.id);case 9:e=t.sent,i=e.data,this.isGuardardepositos_loading=!1,i.status?this.list_conceptos=i.detalles:toastr.error(i.mensaje);case 13:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),CargarComprobante:function(){this.comprobante=this.$refs.comprobante.files[0]},ObtenerSolicitudes:function(){var t=this;this.isObtenerSolicitudes_loading=!0,axios.get(this.url_depositos+"/solicitudes").then(function(e){t.isObtenerSolicitudes_loading=!1,e.data.status?t.list_solicitudes=e.data.solicitudes:toastr.error(e.data.mensaje)})},VerDepositos:function(t){this.tipoCardDepositos=2,this.solicitud={id:t.sv_id,folio:t.folio},this.ObtenerDepositos(t.sv_id)},DescargarSolictitud:function(t){window.open("descargarformatoviatico/"+t+"&1","_blank")},DescargarComprobante:function(t){window.open(this.url_depositos+"/comprobante/"+t)}},mounted:function(){this.PermisosCRUD=s.a.getCRUD(this.$route.path),this.ObtenerFolios(),this.ObtenerSolicitudes()}}},"dlh+":function(t,e,i){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.a={resetObject:function(t){for(var e in t)"string"==typeof t[e]?t[e]="":"number"==typeof t[e]?t[e]=0:void 0===o(t[e])?t[e]=null:"object"===o(t[e])&&(t[e]={})},getCRUD:function(t){var e=new FormData;e.append("ruta",t),e.append("identificador",1);var i={Create:!1,Read:!1,Update:!1,Delete:!1,Download:!1,Upload:!1};return axios.post("/CRUD",e).then(function(t){for(var e=0;e<t.data.length;e++)1==t.data[e].control_id&&(i.Create=!0),2==t.data[e].control_id&&(i.Read=!0),3==t.data[e].control_id&&(i.Update=!0),4==t.data[e].control_id&&(i.Delete=!0),5==t.data[e].control_id&&(i.Download=!0),6==t.data[e].control_id&&(i.Upload=!0)}).catch(function(t){console.log(t)}),i}}},jyFz:function(t,e,i){var o=function(){return this}()||Function("return this")(),a=o.regeneratorRuntime&&Object.getOwnPropertyNames(o).indexOf("regeneratorRuntime")>=0,s=a&&o.regeneratorRuntime;if(o.regeneratorRuntime=void 0,t.exports=i("SldL"),a)o.regeneratorRuntime=s;else try{delete o.regeneratorRuntime}catch(t){o.regeneratorRuntime=void 0}},pQvu:function(t,e,i){var o=i("VU/8")(i("87Iu"),i("w8rR"),!1,null,null,null);t.exports=o.exports},tfws:function(t,e,i){var o=i("VU/8")(i("8MmR"),i("DlIy"),!1,null,null,null);t.exports=o.exports},w8rR:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("main",{staticClass:"main"},[i("div",{staticClass:"container-fluid"},[i("div",{directives:[{name:"show",rawName:"v-show",value:1==t.ver,expression:"ver == 1"}],staticClass:"card"},[i("div",{staticClass:"card-header"},[i("i",{staticClass:"fa fa-align-justify"}),t._v(" Solicitudes "+t._s(1==t.empresa?"CONSERFLOW":2==t.empresa?"CSCT":"")+"\r\n                "),i("div",{staticClass:"dropdown"},[i("button",{staticClass:"btn btn-secondary dropdown-toggle float-sm-right",attrs:{type:"button",id:"dropdownMenu2","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("\r\n                        Empresa\r\n                    ")]),t._v(" "),i("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenu2"}},[i("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(e){t.empresa=1,t.ObtenerSolicitudes()}}},[t._v("Conserflow")]),t._v(" "),i("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(e){t.empresa=2,t.ObtenerSolicitudes()}}},[t._v("CSCT")])])]),t._v(" "),i("button",{staticClass:"btn btn-dark float-sm-right",attrs:{type:"button"},on:{click:function(e){return t.abrirModal("solicitud","registrar")}}},[i("i",{staticClass:"fas fa-plus"}),t._v("Nuevo\r\n                ")])]),t._v(" "),i("div",{staticClass:"card-body"},[i("vue-element-loading",{attrs:{active:t.isObtener_Loading}}),t._v(" "),i("v-client-table",{ref:"myTable",attrs:{columns:t.columns,data:t.tableData,options:t.options},scopedSlots:t._u([{key:"solicitud.id",fn:function(e){return[i("div",{staticClass:"btn-group",attrs:{role:"group","aria-label":"Button group with nested dropdown"}},[i("div",{staticClass:"btn-group dropup",attrs:{role:"group"}},[i("button",{staticClass:"btn btn-outline-dark dropdown-toggle",attrs:{id:"btnGroupDrop1",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[i("i",{staticClass:"fas fa-grip-horizontal"})]),t._v(" "),i("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"btnGroupDrop1"}},[0==e.row.solicitud.eliminado?[1==e.row.solicitud.estado?[i("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(i){return i.preventDefault(),t.abrirModal("solicitud","actualizar",e.row)}}},[i("i",{staticClass:"fas fa-edit"}),t._v("Actualizar Solicitud\r\n                                            ")]),t._v(" "),i("button",{directives:[{name:"show",rawName:"v-show",value:t.PermisosCrud.Delete,expression:"PermisosCrud.Delete"}],staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(i){return i.preventDefault(),t.eliminar(e.row.solicitud.id,t.empresa)}}},[i("i",{staticClass:"fas fa-trash"}),t._v("Eliminar\r\n                                            ")]),t._v(" "),i("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(i){return i.preventDefault(),t.enviaRevision(e.row.solicitud.id,2)}}},[i("i",{staticClass:"far fa-paper-plane"}),t._v("Cerrar\r\n                                            ")])]:t._e()]:t._e()],2)])])]}},{key:"solicitud.estado",fn:function(e){return[1==e.row.solicitud.eliminado?[i("span",{staticClass:"btn btn-outline-danger"},[t._v("Eliminado")])]:t._e(),t._v(" "),0==e.row.solicitud.eliminado?[6==e.row.solicitud.estado?[i("span",{staticClass:"btn btn-outline-info"},[t._v("Finalizado")])]:t._e(),t._v(" "),5==e.row.solicitud.estado?[i("span",{staticClass:"btn btn-outline-info"},[t._v("Pagos "),i("br"),t._v(" agendados")])]:t._e(),t._v(" "),4==e.row.solicitud.estado?[i("span",{staticClass:"btn btn-outline-info"},[t._v("En espera "),i("br"),t._v(" de pagos")])]:t._e(),t._v(" "),3==e.row.solicitud.estado?[i("span",{staticClass:"btn btn-outline-warning"},[t._v("En Autorizacion")])]:t._e(),t._v(" "),2==e.row.solicitud.estado?[i("span",{staticClass:"btn btn-outline-warning"},[t._v("En revisión")])]:t._e(),t._v(" "),1==e.row.solicitud.estado?[i("span",{staticClass:"btn btn-outline-success"},[t._v("Nuevo")])]:t._e(),t._v(" "),0==e.row.solicitud.estado?[i("span",{staticClass:"btn btn-outline-danger"},[t._v("No autorizado")])]:t._e()]:t._e()]}},{key:"solicitud.tipo",fn:function(e){return[0==e.row.solicitud.tipo?[t._v("\r\n                            SINDICATO\r\n                        ")]:t._e(),t._v(" "),1==e.row.solicitud.tipo?[t._v("\r\n                            REEMBOLSO\r\n                        ")]:t._e(),t._v(" "),2==e.row.solicitud.tipo?[t._v("\r\n                            VIATICOS\r\n                        ")]:t._e()]}},{key:"descarga",fn:function(e){return[0==e.row.solicitud.tipo?[i("button",{staticClass:"btn btn-outline-dark",attrs:{type:"button"},on:{click:function(i){return t.descargarnForFij(e.row.solicitud.id,t.empresa)}}},[i("i",{staticClass:"fas fa-file-pdf"}),i("i",{staticClass:"fas fa-download"})])]:t._e(),t._v(" "),1==e.row.solicitud.tipo?[i("button",{staticClass:"btn btn-outline-dark",attrs:{type:"button"},on:{click:function(i){return t.decargarForVia(e.row.solicitud.id,t.empresa)}}},[i("i",{staticClass:"fas fa-file-pdf"}),i("i",{staticClass:"fas fa-download"})])]:t._e(),t._v(" "),2==e.row.solicitud.tipo?[i("button",{staticClass:"btn btn-outline-dark",attrs:{type:"button"},on:{click:function(i){return t.decargarForVia(e.row.solicitud.id,t.empresa)}}},[i("i",{staticClass:"fas fa-file-pdf"}),i("i",{staticClass:"fas fa-download"})])]:t._e()]}}])})],1)]),t._v(" "),i("div",{staticClass:"modal fade",class:{mostrar:t.modal},staticStyle:{display:"none"},attrs:{tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel","arial-hidden":"true"}},[i("div",{staticClass:"modal-dialog modal-dark modal-lg",attrs:{role:"document"}},[i("div",{staticClass:"modal-content"},[i("div",{staticClass:"modal-header"},[i("h4",{staticClass:"modal-title"},[t._v(t._s(t.tituloModal)+" "+t._s(1==t.empresa?"Conserflow":"CSCT"))]),t._v(" "),i("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.cerrarModal()}}},[i("span",{attrs:{"arial-hidden":"true"}},[t._v("X")])])]),t._v(" "),i("div",{staticClass:"modal-body"},[i("vue-element-loading",{attrs:{active:t.isGuardar_Loading}}),t._v(" "),i("div",{staticClass:"form-row"},[i("div",{staticClass:"form-group col-md-6"},[i("label",[t._v("Tipo")]),t._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.tipo,expression:"tipo"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{disabled:!t.isEnabled,"data-vv-name":"tipo"},on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.tipo=e.target.multiple?i:i[0]},function(e){return t.componenteBeneficiario()}]}},[i("option",{attrs:{value:"0"}},[t._v("SINDICATO")]),t._v(" "),i("option",{attrs:{value:"1"}},[t._v("REEMBOLSO")]),t._v(" "),i("option",{attrs:{value:"2"}},[t._v("VIATICOS")])]),t._v(" "),i("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("tipo")))])]),t._v(" "),i("div",{staticClass:"form-group col-md-6"},[i("label",[t._v("Fecha solicitud")]),t._v(" "),i("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.solicitud.fecha,expression:"solicitud.fecha"}],staticClass:"form-control",attrs:{type:"date","data-vv-name":"Fecha solicitud"},domProps:{value:t.solicitud.fecha},on:{input:function(e){e.target.composing||t.$set(t.solicitud,"fecha",e.target.value)}}}),t._v(" "),i("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Fecha solicitud")))])])]),t._v(" "),i("div",{staticClass:"form-row"},[i("div",{staticClass:"form-group col-md-6"},[i("label",[t._v("Fecha requerida de pago")]),t._v(" "),i("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.solicitud.fecha_pago,expression:"solicitud.fecha_pago"}],staticClass:"form-control",attrs:{type:"date","data-vv-name":"Fecha de pago"},domProps:{value:t.solicitud.fecha_pago},on:{input:function(e){e.target.composing||t.$set(t.solicitud,"fecha_pago",e.target.value)}}}),t._v(" "),i("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Fecha de pago")))])]),t._v(" "),i("div",{staticClass:"form-group col-md-6"},[i("label",[t._v("Proyecto")]),t._v(" "),i("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{disabled:!t.isEnabled,options:t.optionsvs_proyecto,label:"nombre_corto","data-vv-name":"Proyecto"},model:{value:t.solicitud.proyecto_id,callback:function(e){t.$set(t.solicitud,"proyecto_id",e)},expression:"solicitud.proyecto_id"}}),t._v(" "),i("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Proyecto")))])],1)]),t._v(" "),i("hr"),t._v(" "),i("div",{staticClass:"accordion",attrs:{id:"accordion"}},[i("div",{staticClass:"card"},[t._m(0),t._v(" "),i("div",{staticClass:"collapse",attrs:{id:"collapseOne","aria-labelledby":"headingOne","data-parent":"#accordion"}},[i("div",{staticClass:"card-body"},[i("beneficiario",{ref:"beneficiario",on:{enviarUno:function(e){return t.enviouno(e)},enviarDos:function(e){return t.enviodos(e)},limpiarUno:function(e){return t.limpiarBeneficiarioUno()},limpiarDos:function(e){return t.limpiarBeneficiarioDos()}}})],1)])]),t._v(" "),i("div",{staticClass:"card"},[t._m(1),t._v(" "),i("div",{staticClass:"collapse",attrs:{id:"collapseTwo","aria-labelledby":"headingTwo","data-parent":"#accordion"}},[i("div",{staticClass:"card-body"},[i("detallesv",{ref:"detallesv",on:{listado:function(e){return t.envio_u(e)},totales:function(e){return t.envio_d(e)},conceptos:function(e){return t.envio_c(e)}}})],1)])]),t._v(" "),t.tipo>0?[i("div",{staticClass:"card"},[t._m(2),t._v(" "),i("div",{staticClass:"collapse",attrs:{id:"collapseThree","aria-labelledby":"headingThree","data-parent":"#accordion"}},[i("div",{staticClass:"card-body"},[i("div",{staticClass:"form-row"},[t._m(3),t._v(" "),i("div",{staticClass:"form-group col-md-4"},[i("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.solicitud.origen_destino,expression:"solicitud.origen_destino"}],staticClass:"form-control",attrs:{type:"text","data-vv-name":"Origen"},domProps:{value:t.solicitud.origen_destino},on:{input:function(e){e.target.composing||t.$set(t.solicitud,"origen_destino",e.target.value)}}}),t._v(" "),i("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Origen")))])]),t._v(" "),t._m(4),t._v(" "),i("div",{staticClass:"form-group col-md-4"},[i("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.solicitud.origen_destino_destino,expression:"solicitud.origen_destino_destino"}],staticClass:"form-control",attrs:{type:"text","data-vv-name":"Destino"},domProps:{value:t.solicitud.origen_destino_destino},on:{input:function(e){e.target.composing||t.$set(t.solicitud,"origen_destino_destino",e.target.value)}}}),t._v(" "),i("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Destino")))])])]),t._v(" "),i("hr"),t._v(" "),i("div",{staticClass:"form-row"},[t._m(5),t._v(" "),i("div",{staticClass:"form-group col-md-4"},[i("div",{staticClass:"input-group"},[t._m(6),t._v(" "),i("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.solicitud.fecha_salida,expression:"solicitud.fecha_salida"}],staticClass:"form-control",attrs:{type:"date","data-vv-name":"Fecha salida"},domProps:{value:t.solicitud.fecha_salida},on:{input:function(e){e.target.composing||t.$set(t.solicitud,"fecha_salida",e.target.value)}}})]),t._v(" "),i("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Fecha salida")))]),t._v(" "),i("div",{staticClass:"input-group"},[t._m(7),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.solicitud.hora_estimada_salida,expression:"solicitud.hora_estimada_salida"}],staticClass:"form-control",attrs:{type:"time","data-vv-name":"Hora estimada de salida"},domProps:{value:t.solicitud.hora_estimada_salida},on:{input:function(e){e.target.composing||t.$set(t.solicitud,"hora_estimada_salida",e.target.value)}}})]),t._v(" "),i("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Hora estimada de salida")))])]),t._v(" "),t._m(8),t._v(" "),i("div",{staticClass:"form-group col-md-4"},[i("div",{staticClass:"input-group"},[t._m(9),t._v(" "),i("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.solicitud.fecha_operacion,expression:"solicitud.fecha_operacion"}],staticClass:"form-control",attrs:{type:"date","data-vv-name":"Fecha de operacion"},domProps:{value:t.solicitud.fecha_operacion},on:{input:function(e){e.target.composing||t.$set(t.solicitud,"fecha_operacion",e.target.value)}}})]),t._v(" "),i("span",{staticClass:"text-danger"},[t._v(" "+t._s(t.errors.first("Fecha de operacion"))+" ")]),t._v(" "),i("div",{staticClass:"input-group"},[t._m(10),t._v(" "),i("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.solicitud.fecha_retorno,expression:"solicitud.fecha_retorno"}],staticClass:"form-control",attrs:{type:"date","data-vv-name":"Fecha de retorno"},domProps:{value:t.solicitud.fecha_retorno},on:{change:function(e){return t.verdiferencia()},input:function(e){e.target.composing||t.$set(t.solicitud,"fecha_retorno",e.target.value)}}})]),t._v(" "),i("span",{staticClass:"text-danger"},[t._v(" "+t._s(t.errors.first("Fecha de retorno"))+" ")])])]),t._v(" "),i("hr"),t._v(" "),t._m(11),t._v(" "),t._l(t.vehiculos_itinerario_viaticos,function(e,o){return i("li",{key:o,staticClass:"list-group-item"},[i("div",{staticClass:"form-row"},[i("div",{staticClass:"form-group col-md-2"},[i("label",[t._v(t._s(e.km_inicial))])]),t._v(" "),i("div",{staticClass:"form-group col-md-4"},[i("label",[t._v(t._s(e.unidad))])]),t._v(" "),i("div",{staticClass:"form-group col-md-4"},[i("label",[t._v(t._s(e.empleado_operador_name))])])])])}),t._v(" "),i("div",{staticClass:"form-row"},[i("div",{staticClass:"form-group col-md-2"},[i("v-select",{attrs:{options:t.list_unidades,label:"placas"},model:{value:t.unidadtemporal,callback:function(e){t.unidadtemporal=e},expression:"unidadtemporal"}})],1),t._v(" "),i("div",{staticClass:"form-group col"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.unidadtemporal.modelo,expression:"unidadtemporal.modelo"}],staticClass:"form-control",attrs:{disabled:"",type:"text",placeholder:"Unidad"},domProps:{value:t.unidadtemporal.modelo},on:{input:function(e){e.target.composing||t.$set(t.unidadtemporal,"modelo",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"form-group col-md-4"},[i("v-select",{attrs:{options:t.vs_options,label:"name",name:"personal_servicio_viaticos_id","data-vv-name":"personal_servicio_viaticos_id"},model:{value:t.vehiculos_temporal.empleado_operador_id,callback:function(e){t.$set(t.vehiculos_temporal,"empleado_operador_id",e)},expression:"vehiculos_temporal.empleado_operador_id"}})],1),t._v(" "),i("div",{staticClass:"form-group"},[i("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.crear()}}},[i("i",{staticClass:"fas fa-plus"})])])])],2)])]),t._v(" "),i("div",{staticClass:"card"},[t._m(12),t._v(" "),i("div",{staticClass:"collapse",attrs:{id:"collapseFour","aria-labelledby":"headingFour","data-parent":"#accordion"}},[i("div",{staticClass:"card-body"},[i("div",{staticClass:"form-row"},[t._m(13),t._v(" "),i("div",{staticClass:"form-group col-md-6"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.solicitud.total_personas,expression:"solicitud.total_personas"}],staticClass:"form-control",attrs:{type:"number",name:"total_personas","data-vv-name":"total_personas",readonly:""},domProps:{value:t.solicitud.total_personas},on:{input:function(e){e.target.composing||t.$set(t.solicitud,"total_personas",e.target.value)}}})])]),t._v(" "),i("div",{staticClass:"form-row"},[t._m(14),t._v(" "),i("div",{staticClass:"form-group col-md-6"},[i("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{options:t.vs_options,label:"name","data-vv-name":"Supervisor"},on:{input:t.sumarTotalPersona},model:{value:t.solicitud.empleado_supervisor_id,callback:function(e){t.$set(t.solicitud,"empleado_supervisor_id",e)},expression:"solicitud.empleado_supervisor_id"}}),t._v(" "),i("span",{staticClass:"text-danger"},[t._v(" "+t._s(t.errors.first("Supervisor"))+" ")])],1)]),t._v(" "),i("div",{staticClass:"form-row"},[t._m(15),t._v(" "),i("div",{staticClass:"form-group col-md-6"},[i("v-select",{attrs:{multiple:"",options:t.vs_options,label:"name",name:"personal_servicio_viaticos_id","data-vv-name":"personal_servicio_viaticos_id"},on:{input:t.sumarTotalPersonas},model:{value:t.solicitud.personal_servicio_viaticos_id,callback:function(e){t.$set(t.solicitud,"personal_servicio_viaticos_id",e)},expression:"solicitud.personal_servicio_viaticos_id"}})],1)])])])])]:t._e()],2),t._v(" "),i("div",{staticClass:"form-row"},[i("div",{staticClass:"form-group col-md-6"},[i("label",[t._v("Elaboró")]),t._v(" "),i("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{options:t.vs_options,label:"name","data-vv-name":"Elabora"},model:{value:t.solicitud.empleado_elabora_id,callback:function(e){t.$set(t.solicitud,"empleado_elabora_id",e)},expression:"solicitud.empleado_elabora_id"}}),t._v(" "),i("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Elabora")))])],1),t._v(" "),i("div",{staticClass:"form-group col-md-6"},[i("label",[t._v("Revisó")]),t._v(" "),i("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{options:t.vs_options,label:"name",name:"revisa","data-vv-name":"Revisa"},model:{value:t.solicitud.empleado_revisa_id,callback:function(e){t.$set(t.solicitud,"empleado_revisa_id",e)},expression:"solicitud.empleado_revisa_id"}}),t._v(" "),i("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Revisa")))])],1)]),t._v(" "),i("div",{staticClass:"form-row"},[i("div",{staticClass:"form-group col-md-6"},[i("label",[t._v("Autorizó")]),t._v(" "),i("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{disabled:"",options:t.vs_options,label:"name",name:"autoriza","data-vv-name":"Autoriza"},model:{value:t.solicitud.empleado_autoriza_id,callback:function(e){t.$set(t.solicitud,"empleado_autoriza_id",e)},expression:"solicitud.empleado_autoriza_id"}}),t._v(" "),i("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Autoriza")))])],1)])],1),t._v(" "),i("div",{staticClass:"modal-footer"},[i("vue-element-loading",{attrs:{active:t.isGuardar_Loading}}),t._v(" "),i("div",[i("button",{staticClass:"btn btn-outline-dark",attrs:{type:"button"},on:{click:function(e){return t.cerrarModal()}}},[i("i",{staticClass:"fas fa-times"}),t._v("Cerrar")]),t._v(" "),1==t.tipoAccion?i("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.guardar(1)}}},[i("i",{staticClass:"fas fa-save"}),t._v("Guardar")]):t._e(),t._v(" "),2==t.tipoAccion?i("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.guardar(0)}}},[i("i",{staticClass:"fas fa-save"}),t._v("Actualizar")]):t._e()])],1)])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-header",attrs:{id:"headingOne"}},[e("h5",{staticClass:"mb-0"},[e("button",{staticClass:"btn btn-link",attrs:{type:"button","data-toggle":"collapse","data-target":"#collapseOne","aria-expanded":"true","aria-controls":"collapseOne"}},[this._v("\r\n                                            BENEFICIARIOS\r\n                                        ")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-header",attrs:{id:"headingTwo"}},[e("h5",{staticClass:"mb-0"},[e("button",{staticClass:"btn btn-link",attrs:{type:"button","data-toggle":"collapse","data-target":"#collapseTwo","aria-expanded":"true","aria-controls":"collapseTwo"}},[this._v("\r\n                                            DETALLE DE VIATICOS\r\n                                        ")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-header",attrs:{id:"headingThree"}},[e("h5",{staticClass:"mb-0"},[e("button",{staticClass:"btn btn-link",attrs:{type:"button","data-toggle":"collapse","data-target":"#collapseThree","aria-expanded":"true","aria-controls":"collapseThree"}},[this._v("\r\n                                                NOTAS DE ITINERIARIO Y LOGISTICA\r\n                                            ")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-group col-md-2"},[e("label",[this._v("Origen")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-group col-md-2"},[e("label",[this._v("Destino")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-group col-md-5"},[e("label",[this._v("1.- Fecha salida:")]),this._v(" "),e("label",[this._v("2.- Hora de estimada de salida:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-group-addon"},[e("span",{staticClass:"input-group-text"},[this._v("1")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-group-addon"},[e("span",{staticClass:"input-group-text"},[this._v("2")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-group col-md-5"},[e("label",[this._v("3.- Fecha de operación:")]),this._v(" "),e("label",[this._v("4.- Fecha de retorno estimada:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-group-addon"},[e("span",{staticClass:"input-group-text"},[this._v("3")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-group-addon"},[e("span",{staticClass:"input-group-text"},[this._v("4")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group col-md-2"},[e("label",[e("b",[this._v("PLACAS")])])]),this._v(" "),e("div",{staticClass:"form-group col-md-4"},[e("label",[e("b",[this._v("UNIDAD")])])]),this._v(" "),e("div",{staticClass:"form-group col-md-4"},[e("label",[e("b",[this._v("OPERADOR")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-header",attrs:{id:"headingFour"}},[e("h5",{staticClass:"mb-0"},[e("button",{staticClass:"btn btn-link",attrs:{type:"button","data-toggle":"collapse","data-target":"#collapseFour","aria-expanded":"true","aria-controls":"collapseFour"}},[this._v("\r\n                                                PERSONAL DESTINADO AL SERVICIO\r\n                                            ")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-group col-md-4"},[e("label",[this._v("Total de personas a asistir")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-group col-md-4"},[e("label",[this._v("Supervisor")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-group col-md-4"},[e("label",[this._v("Nombre del personal que asiste al servicio")])])}]}},"zgo/":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i("dlh+");i("00Zj").call(this);e.default={data:function(){return{empresa_beneficiarios:"",tipo_viatico:"",nuevo:null,solicitud:{beneficiariosuno:"",datos_bancos_beneficiariosuno:"",clavecuentatarjetauno:"",claveuno:"",cuentauno:"",banco:""},optionsvs_benficiario_uno:[],listaDatosBancariosuno:[]}},watch:{solicitud:{handler:function(t,e){var i=[];i.push({id:t.beneficiariosuno,dbemp_id:t.datos_bancos_beneficiariosuno,tarjeta:t.clavecuentatarjetauno,clave:t.claveuno,cuenta:t.cuentauno,banco:t.banco}),this.$emit("enviarUno",i)},deep:!0}},methods:{datos:function(){},getDatos:function(t,e,i){this.quitar_uno(),this.solicitud.beneficiariosuno="",this.optionsvs_benficiario_uno=[],this.empresa_beneficiarios=t,this.tipo_viatico=e,this.optionsvs_benficiario_uno=i,o.a.resetObject(this.solicitud)},buscar_uno:function(){this.listaDatosBancariosuno=[];var t=this;axios.get("/datosbanemp/"+t.solicitud.beneficiariosuno.id+"&"+t.empresa_beneficiarios+"/datosbanemp").then(function(e){t.listaDatosBancariosuno=e.data}).catch(function(t){})},enviar_uno:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.limpiaInputs();null==t||t.target.selectedIndex;0!=t.target.value&&(this.solicitud.datos_bancos_beneficiariosuno=this.listaDatosBancariosuno[t.target.selectedIndex].id,this.solicitud.clavecuentatarjetauno=this.listaDatosBancariosuno[t.target.selectedIndex].numero_tarjeta,this.solicitud.claveuno=this.listaDatosBancariosuno[t.target.selectedIndex].clabe,this.solicitud.cuentauno=this.listaDatosBancariosuno[t.target.selectedIndex].numero_cuenta,this.solicitud.banco=this.listaDatosBancariosuno[t.target.selectedIndex].bnombre);var e=[];e.push({id:this.solicitud.beneficiariosuno,dbemp_id:this.solicitud.datos_bancos_beneficiariosuno,tarjeta:this.solicitud.clavecuentatarjetauno,clave:this.solicitud.claveuno,cuenta:this.solicitud.cuentauno,banco:this.solicitud.banco}),this.$emit("enviarUno",e)},setDatos:function(t,e,i){this.nuevo=t,0!=t.length&&(this.tipo_viatico=e,this.empresa_beneficiarios=i,0==t[0].empleado_beneficiario_id?(this.solicitud.beneficiariosuno=t[0].beneficiario_externo,this.solicitud.datos_bancos_beneficiariosuno=t[0].banco_nombre):(this.solicitud.beneficiariosuno={id:t[0].empleado_beneficiario_id,name:t[0].nombre_beneficiario},this.solicitud.datos_bancos_beneficiariosuno=t[0].datos_bancarios_empleado_id),this.solicitud.clavecuentatarjetauno=t[0].tarjeta,this.solicitud.claveuno=t[0].clabe,this.solicitud.cuentauno=t[0].cuenta,this.solicitud.banco=t[0].banco_nombre)},quitar_uno:function(){this.solicitud.beneficiariosuno="",this.solicitud.datos_bancos_beneficiariosuno="",this.solicitud.clavecuentatarjetauno="",this.solicitud.claveuno="",this.solicitud.cuentauno="",this.solicitud.banco="",this.listaDatosBancariosuno=[],this.$emit("limpiarUno")},limpiaInputs:function(){this.solicitud.clavecuentatarjetauno="",this.solicitud.claveuno="",this.solicitud.cuentauno="",this.solicitud.banco=""}},mounted:function(){}}}});