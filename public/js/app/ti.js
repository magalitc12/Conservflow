/*! For license information please see ti.js.LICENSE.txt */
(self.webpackChunk=self.webpackChunk||[]).push([[18],{14941:t=>{t.exports=function(){return{dateColumns:[],listColumns:{},datepickerOptions:{locale:{cancelLabel:"Clear"}},datepickerPerColumnOptions:{},initialPage:1,perPage:10,perPageValues:[10,25,50,100],groupBy:!1,collapseGroups:!1,destroyEventBus:!1,sendEmptyFilters:!1,params:{},sortable:!0,filterable:!0,groupMeta:[],initFilters:{},customFilters:[],templates:{},debounce:250,dateFormat:"DD/MM/YYYY",dateFormatPerColumn:{},toMomentFormat:!1,skin:"table table-striped table-bordered table-hover table-sm",skinBusqueda:"table table-striped table-bordered table-hover table-sm busqueda",columnsDisplay:{},columnsDropdown:!1,texts:{count:"Mostrando del {from} al  {to} de {count} registros|{count} registros|Un registro",first:"Primero",last:"Ultimo",filter:"Buscar:",filterPlaceholder:"Buscar...",limit:"Registros:",page:"Pagina:",noResults:"No se encontraron registros",filterBy:"Filtrar por {column}",loading:"Cargando...",defaultOption:"Seleccionar {column}",columns:"Columnas"},sortIcon:{base:"fa",up:"fa-chevron-up",down:"fa-chevron-down",is:"fa-sort"},sortingAlgorithm:function(t,e){return t.sort(this.getSortFn(e))},customSorting:{},multiSorting:{},clientMultiSorting:!0,serverMultiSorting:!1,filterByColumn:!1,highlightMatches:!1,orderBy:!1,descOrderColumns:[],footerHeadings:!1,headings:{},headingsTooltips:{},pagination:{dropdown:!1,chunk:10,edge:!1,align:"center",nav:"fixed"},childRow:!1,childRowTogglerFirst:!0,uniqueKey:"id",requestFunction:!1,requestAdapter:function(t){return t},responseAdapter:function(t){var e=this.getResponseData(t);return{data:e.data,count:e.count}},requestKeys:{query:"query",limit:"limit",orderBy:"orderBy",ascending:"ascending",page:"page",byColumn:"byColumn"},rowClassCallback:!1,preserveState:!1,saveState:!1,storage:"local",columnsClasses:{},columnCondicion:[{id:1,text:"Activo"},{id:0,text:"Desactivado"}]}}},60173:(t,e,a)=>{"use strict";function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}a.d(e,{A:()=>i});const i={resetObject:function(t){for(var e in t)"string"==typeof t[e]?t[e]="":"number"==typeof t[e]?t[e]=0:void 0===o(t[e])?t[e]=null:"object"===o(t[e])&&(t[e]={})},getCRUD:function(t){var e=new FormData;e.append("ruta",t),e.append("identificador",1);var a={Create:!1,Read:!1,Update:!1,Delete:!1,Download:!1,Upload:!1};return axios.post("/CRUD",e).then((function(t){for(var e=0;e<t.data.length;e++)1==t.data[e].control_id&&(a.Create=!0),2==t.data[e].control_id&&(a.Read=!0),3==t.data[e].control_id&&(a.Update=!0),4==t.data[e].control_id&&(a.Delete=!0),5==t.data[e].control_id&&(a.Download=!0),6==t.data[e].control_id&&(a.Upload=!0)})).catch((function(t){console.log(t)})),a}}},19030:(t,e,a)=>{"use strict";a.d(e,{A:()=>r});var o=a(76798),i=a.n(o)()((function(t){return t[1]}));i.push([t.id,'@keyframes passing-through{0%{opacity:0;transform:translateY(40px)}30%,70%{opacity:1;transform:translateY(0)}to{opacity:0;transform:translateY(-40px)}}@keyframes slide-in{0%{opacity:0;transform:translateY(40px)}30%{opacity:1;transform:translateY(0)}}@keyframes pulse{0%{transform:scale(1)}10%{transform:scale(1.1)}20%{transform:scale(1)}}.dropzone,.dropzone *{box-sizing:border-box}.dropzone{background:#fff;border:2px solid rgba(0,0,0,.3);min-height:150px;padding:20px}.dropzone.dz-clickable{cursor:pointer}.dropzone.dz-clickable *{cursor:default}.dropzone.dz-clickable .dz-message,.dropzone.dz-clickable .dz-message *{cursor:pointer}.dropzone.dz-started .dz-message{display:none}.dropzone.dz-drag-hover{border-style:solid}.dropzone.dz-drag-hover .dz-message{opacity:.5}.dropzone .dz-message{margin:2em 0;text-align:center}.dropzone .dz-preview{display:inline-block;margin:16px;min-height:100px;position:relative;vertical-align:top}.dropzone .dz-preview:hover{z-index:1000}.dropzone .dz-preview.dz-file-preview .dz-image{background:#999;background:linear-gradient(180deg,#eee,#ddd);border-radius:20px}.dropzone .dz-preview.dz-file-preview .dz-details{opacity:1}.dropzone .dz-preview.dz-image-preview{background:#fff}.dropzone .dz-preview.dz-image-preview .dz-details{transition:opacity .2s linear}.dropzone .dz-preview .dz-remove{border:none;cursor:pointer;display:block;font-size:14px;text-align:center}.dropzone .dz-preview .dz-remove:hover{text-decoration:underline}.dropzone .dz-preview:hover .dz-details{opacity:1}.dropzone .dz-preview .dz-details{color:rgba(0,0,0,.9);font-size:13px;left:0;line-height:150%;max-width:100%;min-width:100%;opacity:0;padding:2em 1em;position:absolute;text-align:center;top:0;z-index:20}.dropzone .dz-preview .dz-details .dz-size{font-size:16px;margin-bottom:1em}.dropzone .dz-preview .dz-details .dz-filename{white-space:nowrap}.dropzone .dz-preview .dz-details .dz-filename:hover span{background-color:hsla(0,0%,100%,.8);border:1px solid hsla(0,0%,78%,.8)}.dropzone .dz-preview .dz-details .dz-filename:not(:hover){overflow:hidden;text-overflow:ellipsis}.dropzone .dz-preview .dz-details .dz-filename:not(:hover) span{border:1px solid transparent}.dropzone .dz-preview .dz-details .dz-filename span,.dropzone .dz-preview .dz-details .dz-size span{background-color:hsla(0,0%,100%,.4);border-radius:3px;padding:0 .4em}.dropzone .dz-preview:hover .dz-image img{filter:blur(8px);transform:scale(1.05)}.dropzone .dz-preview .dz-image{border-radius:20px;display:block;height:120px;overflow:hidden;position:relative;width:120px;z-index:10}.dropzone .dz-preview .dz-image img{display:block}.dropzone .dz-preview.dz-success .dz-success-mark{animation:passing-through 3s cubic-bezier(.77,0,.175,1)}.dropzone .dz-preview.dz-error .dz-error-mark{animation:slide-in 3s cubic-bezier(.77,0,.175,1);opacity:1}.dropzone .dz-preview .dz-error-mark,.dropzone .dz-preview .dz-success-mark{display:block;left:50%;margin-left:-27px;margin-top:-27px;opacity:0;pointer-events:none;position:absolute;top:50%;z-index:500}.dropzone .dz-preview .dz-error-mark svg,.dropzone .dz-preview .dz-success-mark svg{display:block;height:54px;width:54px}.dropzone .dz-preview.dz-processing .dz-progress{opacity:1;transition:all .2s linear}.dropzone .dz-preview.dz-complete .dz-progress{opacity:0;transition:opacity .4s ease-in}.dropzone .dz-preview:not(.dz-processing) .dz-progress{animation:pulse 6s ease infinite}.dropzone .dz-preview .dz-progress{background:hsla(0,0%,100%,.9);border-radius:8px;height:16px;left:50%;margin-left:-40px;margin-top:-8px;opacity:1;overflow:hidden;pointer-events:none;position:absolute;top:50%;-webkit-transform:scale(1);width:80px;z-index:1000}.dropzone .dz-preview .dz-progress .dz-upload{background:#333;background:linear-gradient(180deg,#666,#444);bottom:0;left:0;position:absolute;top:0;transition:width .3s ease-in-out;width:0}.dropzone .dz-preview.dz-error .dz-error-message{display:block}.dropzone .dz-preview.dz-error:hover .dz-error-message{opacity:1;pointer-events:auto}.dropzone .dz-preview .dz-error-message{background:#be2626;background:linear-gradient(180deg,#be2626,#a92222);border-radius:8px;color:#fff;display:block;display:none;font-size:13px;left:-10px;opacity:0;padding:.5em 1.2em;pointer-events:none;position:absolute;top:130px;transition:opacity .3s ease;width:140px;z-index:1000}.dropzone .dz-preview .dz-error-message:after{border-bottom:6px solid #be2626;border-left:6px solid transparent;border-right:6px solid transparent;content:"";height:0;left:64px;position:absolute;top:-6px;width:0}.vue-dropzone{border:2px solid #e5e5e5;color:#777;font-family:Arial,sans-serif;letter-spacing:.2px;transition:.2s linear}.vue-dropzone:hover{background-color:#f6f6f6}.vue-dropzone>i{color:#ccc}.vue-dropzone>.dz-preview .dz-image{border-radius:0;height:100%;width:100%}.vue-dropzone>.dz-preview .dz-image img:not([src]){height:200px;width:200px}.vue-dropzone>.dz-preview .dz-image:hover img{-webkit-filter:none;transform:none}.vue-dropzone>.dz-preview .dz-details{background-color:rgba(33,150,243,.8);bottom:0;color:#fff;text-align:left;top:0;transition:opacity .2s linear}.vue-dropzone>.dz-preview .dz-details .dz-filename{overflow:hidden}.vue-dropzone>.dz-preview .dz-details .dz-filename span,.vue-dropzone>.dz-preview .dz-details .dz-size span{background-color:transparent}.vue-dropzone>.dz-preview .dz-details .dz-filename:not(:hover) span{border:none}.vue-dropzone>.dz-preview .dz-details .dz-filename:hover span{background-color:transparent;border:none}.vue-dropzone>.dz-preview .dz-progress .dz-upload{background:#ccc}.vue-dropzone>.dz-preview .dz-remove{border:2px solid #fff;bottom:15px;color:#fff;font-size:.8rem;font-weight:800;letter-spacing:1.1px;margin-left:15px;opacity:0;padding:10px;position:absolute;text-decoration:none;text-transform:uppercase;top:inherit;z-index:30}.vue-dropzone>.dz-preview:hover .dz-remove{opacity:1}.vue-dropzone>.dz-preview .dz-error-mark,.vue-dropzone>.dz-preview .dz-success-mark{left:0;margin-left:auto;margin-top:auto;top:35%;width:100%}.vue-dropzone>.dz-preview .dz-error-mark svg,.vue-dropzone>.dz-preview .dz-success-mark svg{margin-left:auto;margin-right:auto}.vue-dropzone>.dz-preview .dz-error-message{left:0;margin-left:auto;margin-right:auto;text-align:center;width:100%}.vue-dropzone>.dz-preview .dz-error-message:after{display:none}',""]);const r=i},86407:(t,e,a)=>{"use strict";a.d(e,{A:()=>r});var o=a(76798),i=a.n(o)()((function(t){return t[1]}));i.push([t.id,".img-ver:hover{cursor:pointer;margin:1px}",""]);const r=i},98688:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>r});var o=a(14941).call(void 0);const i={data:function(){return{responsable_i:"",ruta:"",anio:2020,tamanio:"",fecha:"",ubicacion:"",responsable_r:"",observaciones:"",listaEmpleados:[],modal:0,tituloModal:"",tipoAccion:"",tableData:[],columns:["id","fecha","ubicacion","ruta","tamanio","empleado_ii","empleado_ri"],options:{headings:{id:"Acciones",tamanio:"Tamaño",empleado_ii:"Propietario",empleado_ri:"Realiza"},perPage:10,perPageValues:[],skin:o.skin,sortIcon:o.sortIcon,filterByColumn:!0,texts:o.texts}}},methods:{getData:function(){var t=this;axios.get("get/data/bitacora/resguardo/info").then((function(e){t.tableData=e.data})).catch((function(t){console.error(t)}))},getLista:function(){var t=this;this.listaEmpleados=[],axios.get("/vertodosempleados").then((function(e){e.data.forEach((function(e){t.listaEmpleados.push({id:e.id,name:e.nombre+" "+e.ap_paterno+" "+e.ap_materno})})),t.listaEmpleados.push({id:-1,name:"SERVIDOR"})})).catch((function(t){console.log(t)}))},AbrirModal:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];1==t?(this.vaciar(),this.modal=1,this.tituloModal="Guardar",this.tipoAccion=1):2==t&&(this.vaciar(),this.modal=1,this.tituloModal="Actualizar",this.tipoAccion=2,this.id=e.id,this.responsable_i={id:e.responsable_i,name:e.empleado_ii},this.ruta=e.ruta,this.tamanio=e.tamanio,this.fecha=e.fecha,this.ubicacion=e.ubicacion,this.responsable_r={id:e.responsable_r,name:e.empleado_ri},this.observaciones=e.observaciones)},vaciar:function(){this.responsable_i="",this.ruta="",this.tamanio="",this.fecha="",this.ubicacion="",this.responsable_r="",this.observaciones=""},Guardar:function(t){var e=this;this.$validator.validate().then((function(a){a&&axios({method:t?"POST":"PUT",url:t?"guardar/data/bitacora/resguardo/info":"actualizar/data/bitacora/resguardo/info",data:{id:e.id,responsable_i:e.responsable_i.id,ruta:e.ruta,tamanio:e.tamanio,fecha:e.fecha,ubicacion:e.ubicacion,responsable_r:e.responsable_r.id,observaciones:e.observaciones}}).then((function(a){toastr.success(t?"Guardado Correctamente !!!":"Actualizado Correctamente !!!"),e.getData(),e.cerrarModal()})).catch((function(t){console.error(t)}))}))},cerrarModal:function(){this.modal=0},descargar:function(){window.open("descargar/data/bitacora/resguardo/info/"+this.anio,"_blank")}},mounted:function(){this.getData(),this.getLista()}};const r=(0,a(14486).A)(i,(function(){var t=this,e=t._self._c;return e("main",{staticClass:"main"},[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-header"},[e("i",{staticClass:"fa fa-align-justify"}),t._v(" Bitácora de resguardo\n                "),e("button",{staticClass:"btn btn-dark float-sm-right",attrs:{type:"button"},on:{click:function(e){return t.AbrirModal(1)}}},[e("i",{staticClass:"fas fa-plus"},[t._v(" ")]),t._v("Nuevo\n                ")]),t._v(" "),t._m(0)]),t._v(" "),e("div",{staticClass:"card-body"},[e("div",{staticClass:"collapse multi-collapse",attrs:{id:"multiCollapseExample1"}},[e("div",{staticClass:"container row"},[e("div",{staticClass:"col-md-3"},[e("div",{},[e("label",[t._v("Año")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.anio,expression:"anio"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.anio=e.target.multiple?a:a[0]}}},[e("option",{attrs:{value:"2020"}},[t._v("2020")]),t._v(" "),e("option",{attrs:{value:"2021"}},[t._v("2021")]),t._v(" "),e("option",{attrs:{value:"2022"}},[t._v("2022")]),t._v(" "),e("option",{attrs:{value:"2023"}},[t._v("2023")])]),t._v(" "),e("button",{staticClass:"btn btn-dark mt-2",on:{click:function(e){return t.descargar()}}},[t._v("Generar")])])])])]),t._v(" "),e("br"),t._v(" "),e("v-client-table",{attrs:{data:t.tableData,options:t.options,columns:t.columns},scopedSlots:t._u([{key:"id",fn:function(a){return[e("div",{staticClass:"btn-group",attrs:{role:"group"}},[e("button",{staticClass:"btn btn-outline-dark dropdown-toggle",attrs:{id:"btn_id",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("i",{staticClass:"fas fa-grip-horizontal"}),t._v(" \n                            ")]),t._v(" "),e("div",{staticClass:"dropdown-menu"},[[e("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(e){return t.AbrirModal(2,a.row)}}},[e("i",{staticClass:"fas fa-pencil"}),t._v(" Actualizar\n                                    ")])]],2)])]}}])})],1)]),t._v(" "),e("div",{staticClass:"modal fade",class:{mostrar:t.modal},staticStyle:{display:"none"},attrs:{tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-dark modal-lg",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h4",{staticClass:"modal-title",domProps:{textContent:t._s(t.tituloModal)}}),t._v(" "),e("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.cerrarModal()}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("x")])])]),t._v(" "),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"form-row"},[e("div",{staticClass:"col-md-4 mb-3"},[e("label",[t._v("Responsable Información")]),t._v(" "),e("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{options:t.listaEmpleados,label:"name","data-vv-name":"responsable"},model:{value:t.responsable_i,callback:function(e){t.responsable_i=e},expression:"responsable_i"}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("responsable")))])],1),t._v(" "),e("div",{staticClass:"col-md-5 mb-3"},[e("label",[t._v("Ruta de respaldo")]),t._v(" "),e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.ruta,expression:"ruta"}],staticClass:"form-control",attrs:{type:"text","data-vv-name":"ruta"},domProps:{value:t.ruta},on:{input:function(e){e.target.composing||(t.ruta=e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("ruta")))])]),t._v(" "),e("div",{staticClass:"col-md-3 mb-3"},[e("label",[t._v("Tamaño")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tamanio,expression:"tamanio"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{type:"text","data-vv-name":"tamaño"},domProps:{value:t.tamanio},on:{input:function(e){e.target.composing||(t.tamanio=e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("tamaño")))])])]),t._v(" "),e("div",{staticClass:"form-row"},[e("div",{staticClass:"col-md-3 mb-3"},[e("label",[t._v("Fecha Resguardo")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.fecha,expression:"fecha"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{type:"date","data-vv-name":"fecha"},domProps:{value:t.fecha},on:{input:function(e){e.target.composing||(t.fecha=e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("fecha")))])]),t._v(" "),e("div",{staticClass:"col-md-5 mb-3"},[e("label",[t._v("Ubicación Resguardo")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.ubicacion,expression:"ubicacion"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{type:"text","data-vv-name":"ubicacion"},domProps:{value:t.ubicacion},on:{input:function(e){e.target.composing||(t.ubicacion=e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("ubicacion")))])]),t._v(" "),e("div",{staticClass:"col-md-4 mb-3"},[e("label",[t._v("Responsable Respaldo")]),t._v(" "),e("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{options:t.listaEmpleados,label:"name","data-vv-name":"responsable"},model:{value:t.responsable_r,callback:function(e){t.responsable_r=e},expression:"responsable_r"}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("responsable")))])],1)]),t._v(" "),e("div",{staticClass:"form-row"},[e("div",{staticClass:"col-md-6 mb-3"},[e("label",[t._v("Observaciones")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.observaciones,expression:"observaciones"}],staticClass:"form-control",attrs:{name:"name",rows:"2",cols:"80"},domProps:{value:t.observaciones},on:{input:function(e){e.target.composing||(t.observaciones=e.target.value)}}})])])]),t._v(" "),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-outline-dark",attrs:{type:"button"},on:{click:function(e){return t.cerrarModal()}}},[e("i",{staticClass:"fas fa-times"}),t._v(" Cerrar")]),t._v(" "),1==t.tipoAccion?e("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.Guardar(1)}}},[e("i",{staticClass:"fas fa-save"}),t._v(" Guardar")]):t._e(),t._v(" "),2==t.tipoAccion?e("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.Guardar(0)}}},[e("i",{staticClass:"fas fa-save"}),t._v(" Actualizar")]):t._e()])])])])])])}),[function(){var t=this._self._c;return t("button",{staticClass:"btn btn-dark float-sm-right mr-1",attrs:{"data-toggle":"collapse",href:"#multiCollapseExample1",role:"button","aria-expanded":"false","aria-controls":"multiCollapseExample1"}},[t("i",{staticClass:"fas fa-file-pdf mr-1"}),this._v("Descargar\n                ")])}],!1,null,null,null).exports},73343:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>s});var o=a(60173),i=a(14941).call(void 0);const r={data:function(){return{url:"ti/inventario/accesorios",ver_modal_accesorio:0,columns_accesorio:["id","descripcion","modelo","marca","no_serie","cantidad","condicion"],list_accesorio:[],options_accesorio:{headings:{id:"Acciones",descripcion:"Descripción",modelo:"Modelo",marca:"Marca",no_serie:"No. Serie",condicion:"Estado"},perPage:10,perPageValues:[],skin:i.skin,sortIcon:i.sortIcon,filterByColumn:!0,listColumns:{condicion:[{id:0,text:"Inactivo"},{id:1,text:"Activo"},{id:2,text:"En resguardo"},{id:3,text:"En sitio"}]},texts:i.texts},titulo_modal_accesorio:"",tipoAccion_modal_accesorio:0,accesorio_modal:{}}},computed:{},methods:{CargarAccesorios:function(){var t=this;axios.get(this.url+"/obtener").then((function(e){e.data.status?t.list_accesorio=e.data.accesorios:t.Error(e.data.mensaje)}))},AbrirModalAccesorio:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.ver_modal_accesorio=!0,t?(this.titulo_modal_accesorio="Registrar Accesorio",this.tipoAccion_modal_accesorio=1):(this.titulo_modal_accesorio="Actualizar Accesorio",this.tipoAccion_modal_accesorio=2,this.accesorio_modal.id=e.id,this.accesorio_modal.descripcion=e.descripcion,this.accesorio_modal.modelo=e.modelo,this.accesorio_modal.marca=e.marca,this.accesorio_modal.no_serie=e.no_serie,this.accesorio_modal.cantidad=e.cantidad)},CerrarModalAccesorio:function(){this.ver_modal_accesorio=!1,o.A.resetObject(this.accesorio_modal)},GuardarAccesorio:function(t){var e=this;this.$validator.validate().then((function(a){if(a){var o=t?"registrda":"actualizada";axios.post(e.url+"/guardar",{id:e.accesorio_modal.id,descripcion:e.accesorio_modal.descripcion,marca:e.accesorio_modal.marca,modelo:e.accesorio_modal.modelo,no_serie:e.accesorio_modal.no_serie,cantidad:e.accesorio_modal.cantidad}).then((function(t){t.data.status?(e.CerrarModalAccesorio(),e.CargarAccesorios(),toastr.success("Accesorio "+o+" correctamente")):toastr.error(t.data.mensaje)}))}}))},Activar:function(t,e){var a=this;axios.post(this.url+"/activar",{id:t.id,condicion:e}).then((function(t){t.data.status?(a.CargarAccesorios(),toastr.success("Estado cambiado correctamente")):toastr.error(t.data.mensaje)}))},Eliminar:function(t){var e=this;t.condicion>1?toastr.warning("No se puede eliminar al contar con asignacion"):t.condicion<=1&&axios.get("ti/inventario/accesorios/eliminar/"+t.id).then((function(t){e.CargarAccesorios(),toastr.success("Eliminado Correctamente !!!")})).catch((function(t){console.error(t)}))}},mounted:function(){this.CargarAccesorios()}};const s=(0,a(14486).A)(r,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"main"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-header"},[e("i",{staticClass:"fa fa-align-justify"}),t._v(" Accesorio\n            "),e("button",{staticClass:"btn btn-dark float-sm-right",attrs:{type:"button"},on:{click:function(e){return t.AbrirModalAccesorio(!0)}}},[e("i",{staticClass:"fas fa-plus"},[t._v(" ")]),t._v("Nuevo\n            ")])]),t._v(" "),e("div",{staticClass:"card-body"},[e("div",{},[e("div",{},[e("v-client-table",{ref:"tbl_accesorio",attrs:{columns:t.columns_accesorio,data:t.list_accesorio,options:t.options_accesorio},scopedSlots:t._u([{key:"id",fn:function(a){return[e("div",{staticClass:"btn-group",attrs:{role:"group"}},[e("button",{staticClass:"btn btn-outline-dark dropdown-toggle",attrs:{id:"btn_id",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("i",{staticClass:"fas fa-grip-horizontal"}),t._v("  Acciones\n                                ")]),t._v(" "),e("div",{staticClass:"dropdown-menu"},[[e("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(e){return t.AbrirModalAccesorio(!1,a.row)}}},[e("i",{staticClass:"icon-pencil"}),t._v(" Actualizar\n                                        ")]),t._v(" "),0==a.row.condicion?e("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(e){return t.Activar(a.row,1)}}},[e("i",{staticClass:"fas fa-check"}),t._v(" Activar\n                                        ")]):t._e(),t._v(" "),1==a.row.condicion?e("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(e){return t.Activar(a.row,0)}}},[e("i",{staticClass:"fas fa-check"}),t._v(" Desactivar\n                                        ")]):t._e(),t._v(" "),e("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(e){return t.Eliminar(a.row)}}},[e("i",{staticClass:"fas fa-times"}),t._v(" Eliminar\n                                        ")])]],2)])]}},{key:"condicion",fn:function(a){return[1==a.row.condicion?e("button",{staticClass:"btn btn-success"},[t._v("Activo")]):t._e(),t._v(" "),0==a.row.condicion?e("button",{staticClass:"btn btn-warning"},[t._v("Inactivo")]):t._e(),t._v(" "),2==a.row.condicion?e("button",{staticClass:"btn btn-primary"},[t._v("En resguardo")]):t._e()]}}])})],1)])])]),t._v(" "),e("div",{staticClass:"modal fade",class:{mostrar:t.ver_modal_accesorio},staticStyle:{display:"none"},attrs:{tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-dark modal-lg",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h4",{staticClass:"modal-title",domProps:{textContent:t._s(t.titulo_modal_accesorio)}}),t._v(" "),e("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.CerrarModalAccesorio()}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),t._v(" "),e("div",{staticClass:"modal-body"},[e("form",{staticClass:"form-horizontal",attrs:{action:"",method:"post",enctype:"multipart/form-data"}},[e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-md-3 form-control-label"},[t._v("Descripción")]),t._v(" "),e("div",{staticClass:"col-md-9"},[e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.accesorio_modal.descripcion,expression:"accesorio_modal.descripcion"}],staticClass:"form-control",attrs:{type:"text",name:"descripcion"},domProps:{value:t.accesorio_modal.descripcion},on:{input:function(e){e.target.composing||t.$set(t.accesorio_modal,"descripcion",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("descripcion")))])])]),t._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-md-3 form-control-label"},[t._v("Modelo")]),t._v(" "),e("div",{staticClass:"col-md-9"},[e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.accesorio_modal.modelo,expression:"accesorio_modal.modelo"}],staticClass:"form-control",attrs:{type:"text",name:"modelo"},domProps:{value:t.accesorio_modal.modelo},on:{input:function(e){e.target.composing||t.$set(t.accesorio_modal,"modelo",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("modelo")))])])]),t._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-md-3 form-control-label"},[t._v("Marca")]),t._v(" "),e("div",{staticClass:"col-md-9"},[e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.accesorio_modal.marca,expression:"accesorio_modal.marca"}],staticClass:"form-control",attrs:{type:"text",name:"marca"},domProps:{value:t.accesorio_modal.marca},on:{input:function(e){e.target.composing||t.$set(t.accesorio_modal,"marca",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("marca")))])])]),t._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-md-3 form-control-label"},[t._v("No. Serie")]),t._v(" "),e("div",{staticClass:"col-md-9"},[e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.accesorio_modal.no_serie,expression:"accesorio_modal.no_serie"}],staticClass:"form-control",attrs:{type:"text",name:"ns"},domProps:{value:t.accesorio_modal.no_serie},on:{input:function(e){e.target.composing||t.$set(t.accesorio_modal,"no_serie",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("ns")))])])]),t._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-md-3 form-control-label"},[t._v("Cantidad")]),t._v(" "),e("div",{staticClass:"col-md-9"},[e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|decimal:2",expression:"'required|decimal:2'"},{name:"model",rawName:"v-model",value:t.accesorio_modal.cantidad,expression:"accesorio_modal.cantidad"}],staticClass:"form-control",attrs:{type:"text",name:"cantidad"},domProps:{value:t.accesorio_modal.cantidad},on:{input:function(e){e.target.composing||t.$set(t.accesorio_modal,"cantidad",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("cantidad")))])])])])]),t._v(" "),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-outline-dark",attrs:{type:"button"},on:{click:function(e){return t.CerrarModalAccesorio()}}},[e("i",{staticClass:"fas fa-times"}),t._v(" Cerrar")]),t._v(" "),1==t.tipoAccion_modal_accesorio?e("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.GuardarAccesorio(1)}}},[e("i",{staticClass:"fas fa-save"}),t._v(" Guardar")]):t._e(),t._v(" "),2==t.tipoAccion_modal_accesorio?e("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.GuardarAccesorio(0)}}},[e("i",{staticClass:"fas fa-save"}),t._v(" Actualizar")]):t._e()])])])])])}),[],!1,null,null,null).exports},72263:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>s});var o=a(60173),i=a(14941).call(void 0);const r={data:function(){return{url:"ti/inv/equipos",company:1,isObtener_Loading:!1,isGuardar_Loading:!1,ver_modal_computadoras:0,columns_computadoras:["id","no_serie","marca_modelo","cpu","ram","almacenamiento","tarjeta_video","tarjeta_red","mac","codigo_barras","observaciones","cantidad","condicion"],list_computadoras:[],options_computadoras:{headings:{id:"Acciones",no_serie:"No. serie",marca_modelo:"Marca/Modelo",cpu:"CPU",ram:"RAM",almacenamiento:"Almacenamiento",tarjeta_video:"Tarjeta de video",tarjeta_red:"Tarjeta de red",mac:"MAC",observaciones:"Observaciones",codigo_barras:"Código de barras"},perPage:10,perPageValues:[],skin:i.skin,sortIcon:i.sortIcon,filterByColumn:!0,listColumns:{condicion:[{id:0,text:"Inactivo"},{id:1,text:"Activo"},{id:2,text:"En resguardo"},{id:3,text:"En sitio"}]},texts:i.texts},titulo_modal_computadoras:"",tipoAccion_modal_computadoras:0,computadoras_modal:{}}},computed:{},methods:{CargarEquipos:function(){var t=this;this.isObtener_Loading=!0,axios.get(this.url+"/obtener/"+this.company).then((function(e){t.isObtener_Loading=!1,e.data.status?t.list_computadoras=e.data.equipos:t.Error("obtener los equipos")}))},AbrirModalComputadoras:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.ver_modal_computadoras=!0,t?(this.titulo_modal_computadoras="Registrar Equipo de Cómputo",this.tipoAccion_modal_computadoras=1):(this.titulo_modal_computadoras="Actualizar Equipo de Cómputo",this.tipoAccion_modal_computadoras=2,this.computadoras_modal=e)},CerrarModalComputadoras:function(){this.ver_modal_computadoras=!1,o.A.resetObject(this.computadoras_modal)},GuardarComputadoras:function(t){var e=this;this.$validator.validate().then((function(a){if(a)if(null!=e.computadoras_modal.mac.match("^([0-9A-F]{2}[:-]){5}([0-9A-F]{2})$")){var o=t?"/registrar":"/actualizar";e.isGuardar_Loading=!0,axios.post(e.url+o,e.computadoras_modal).then((function(t){e.isGuardar_Loading=!1,t.data.status?(toastr.success("Equipo guardado correctemente"),e.CargarEquipos(),e.CerrarModalComputadoras()):e.Error("guardar el equipo")}))}else toastr.warning("Ingresa una MAC válida")}))},descargar:function(){window.open("ti/inv/equipos/descargar/inv/comp/"+this.company,"_blank")},Activar:function(t,e){var a=this;axios.post(this.url+"/cambiarestado",{n:t,id:e.id}).then((function(t){t.data.status?(toastr.success("Equipo guardado correctemente"),a.CargarEquipos()):a.Error("cambiar estado")}))},Error:function(t){toastr.error("Error al "+t)},Eliminar:function(t){var e=this;t.condicion>1?toastr.warning("No se puede eliminar al contar con asignacion"):t.condicion<=1&&axios.get("ti/inv/equipos/eliminar/"+t.id).then((function(t){e.CargarEquipos(),toastr.success("Eliminado Correctamente !!!")})).catch((function(t){console.error(t)}))}},mounted:function(){this.CargarEquipos()}};const s=(0,a(14486).A)(r,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"main"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-header"},[e("i",{staticClass:"fa fa-align-justify"}),t._v(" Equipo de Cómputo "+t._s(1==t.company?"Conserflow":"CSCT")+"\n            "),e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn btn-secondary dropdown-toggle float-sm-right",attrs:{type:"button",id:"dropdownMenu2","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("\n                    Empresa\n                ")]),t._v(" "),e("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenu2"}},[e("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(e){t.company=1,t.CargarEquipos()}}},[t._v("Conserflow")]),t._v(" "),e("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(e){t.company=2,t.CargarEquipos()}}},[t._v("CSCT")])])]),t._v(" "),e("button",{staticClass:"btn btn-dark float-sm-right",attrs:{type:"button"},on:{click:function(e){return t.AbrirModalComputadoras(!0)}}},[e("i",{staticClass:"fas fa-plus"},[t._v(" ")]),t._v("Nuevo\n            ")])]),t._v(" "),e("div",{staticClass:"card-body"},[e("div",{},[e("vue-element-loading",{attrs:{active:t.isObtener_Loading}}),t._v(" "),e("div",{},[e("v-client-table",{ref:"tbl_computadoras",attrs:{columns:t.columns_computadoras,data:t.list_computadoras,options:t.options_computadoras},scopedSlots:t._u([{key:"id",fn:function(a){return[e("div",{staticClass:"btn-group",attrs:{role:"group"}},[e("button",{staticClass:"btn btn-outline-dark dropdown-toggle",attrs:{id:"btn_id",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("i",{staticClass:"fas fa-grip-horizontal"}),t._v(" \n                                ")]),t._v(" "),e("div",{staticClass:"dropdown-menu"},[[e("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(e){return t.AbrirModalComputadoras(!1,a.row)}}},[e("i",{staticClass:"icon-pencil"}),t._v(" Actualizar\n                                        ")]),t._v(" "),0==a.row.condicion?e("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(e){return t.Activar(1,a.row)}}},[e("i",{staticClass:"fas fa-check"}),t._v(" Activar\n                                        ")]):t._e(),t._v(" "),1==a.row.condicion?e("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(e){return t.Activar(0,a.row)}}},[e("i",{staticClass:"fas fa-times"}),t._v(" Desactivar\n                                        ")]):t._e(),t._v(" "),e("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(e){return t.Eliminar(a.row)}}},[e("i",{staticClass:"fas fa-times"}),t._v(" Eliminar\n                                        ")])]],2)])]}},{key:"condicion",fn:function(a){return[1==a.row.condicion?e("button",{staticClass:"btn btn-success"},[t._v("Activo")]):t._e(),t._v(" "),0==a.row.condicion?e("button",{staticClass:"btn btn-warning"},[t._v("Inactivo")]):t._e(),t._v(" "),2==a.row.condicion?e("button",{staticClass:"btn btn-primary"},[t._v("En resguardo")]):t._e(),t._v(" "),3==a.row.condicion?e("button",{staticClass:"btn btn-primary"},[t._v("Sito")]):t._e()]}}])})],1)],1)])]),t._v(" "),e("div",{staticClass:"modal fade",class:{mostrar:t.ver_modal_computadoras},staticStyle:{display:"none"},attrs:{tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-dark modal-lg",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h4",{staticClass:"modal-title",domProps:{textContent:t._s(t.titulo_modal_computadoras)}}),t._v(" "),e("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.CerrarModalComputadoras()}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("x")])])]),t._v(" "),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"form-row"},[e("div",{staticClass:"col-md-4 mb-3"},[e("label",[t._v("No. Serie")]),t._v(" "),e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.computadoras_modal.no_serie,expression:"computadoras_modal.no_serie"}],staticClass:"form-control",attrs:{type:"text",name:"no_serie"},domProps:{value:t.computadoras_modal.no_serie},on:{input:function(e){e.target.composing||t.$set(t.computadoras_modal,"no_serie",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("no_serie")))])]),t._v(" "),e("div",{staticClass:"col-md-4 mb-3"},[e("label",[t._v("Marca/Modelo")]),t._v(" "),e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.computadoras_modal.marca_modelo,expression:"computadoras_modal.marca_modelo"}],staticClass:"form-control",attrs:{type:"text",name:"marca_modelo"},domProps:{value:t.computadoras_modal.marca_modelo},on:{input:function(e){e.target.composing||t.$set(t.computadoras_modal,"marca_modelo",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("marca_modelo")))])]),t._v(" "),e("div",{staticClass:"col-md-4 mb-3"},[e("label",[t._v("CPU")]),t._v(" "),e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.computadoras_modal.cpu,expression:"computadoras_modal.cpu"}],staticClass:"form-control",attrs:{type:"text",name:"cpu"},domProps:{value:t.computadoras_modal.cpu},on:{input:function(e){e.target.composing||t.$set(t.computadoras_modal,"cpu",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("cpu")))])])]),t._v(" "),e("div",{staticClass:"form-row"},[e("div",{staticClass:"col-md-4 mb-3"},[e("label",[t._v("SO")]),t._v(" "),e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.computadoras_modal.so,expression:"computadoras_modal.so"}],staticClass:"form-control",attrs:{type:"text",name:"so"},domProps:{value:t.computadoras_modal.so},on:{input:function(e){e.target.composing||t.$set(t.computadoras_modal,"so",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("so")))])]),t._v(" "),e("div",{staticClass:"col-md-4 mb-3"},[e("label",[t._v("RAM")]),t._v(" "),e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.computadoras_modal.ram,expression:"computadoras_modal.ram"}],staticClass:"form-control",attrs:{type:"text",name:"ram"},domProps:{value:t.computadoras_modal.ram},on:{input:function(e){e.target.composing||t.$set(t.computadoras_modal,"ram",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("ram")))])]),t._v(" "),e("div",{staticClass:"col-md-4 mb-3"},[e("label",[t._v("Almacenamiento")]),t._v(" "),e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.computadoras_modal.almacenamiento,expression:"computadoras_modal.almacenamiento"}],staticClass:"form-control",attrs:{type:"text",name:"almacenamiento"},domProps:{value:t.computadoras_modal.almacenamiento},on:{input:function(e){e.target.composing||t.$set(t.computadoras_modal,"almacenamiento",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("almacenamiento")))])])]),t._v(" "),e("div",{staticClass:"form-row"},[e("div",{staticClass:"col-md-4 mb-3"},[e("label",[t._v("Tarjeta de video")]),t._v(" "),e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.computadoras_modal.tarjeta_video,expression:"computadoras_modal.tarjeta_video"}],staticClass:"form-control",attrs:{type:"text",name:"tarjeta_video"},domProps:{value:t.computadoras_modal.tarjeta_video},on:{input:function(e){e.target.composing||t.$set(t.computadoras_modal,"tarjeta_video",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("tarjeta_video")))])]),t._v(" "),e("div",{staticClass:"col-md-4 mb-3"},[e("label",[t._v("Tarjeta de red")]),t._v(" "),e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.computadoras_modal.tarjeta_red,expression:"computadoras_modal.tarjeta_red"}],staticClass:"form-control",attrs:{type:"text",name:"tarjeta_red"},domProps:{value:t.computadoras_modal.tarjeta_red},on:{input:function(e){e.target.composing||t.$set(t.computadoras_modal,"tarjeta_red",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("tarjeta_red")))])]),t._v(" "),e("div",{staticClass:"col-md-4 mb-3"},[e("label",[t._v("MAC")]),t._v(" "),e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.computadoras_modal.mac,expression:"computadoras_modal.mac"}],staticClass:"form-control",attrs:{type:"text",name:"mac"},domProps:{value:t.computadoras_modal.mac},on:{input:function(e){e.target.composing||t.$set(t.computadoras_modal,"mac",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("mac")))])])]),t._v(" "),e("div",{staticClass:"form-row"},[e("div",{staticClass:"col-md-4 mb-3"},[e("label",[t._v("Código de barras")]),t._v(" "),e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.computadoras_modal.codigo_barras,expression:"computadoras_modal.codigo_barras"}],staticClass:"form-control",attrs:{type:"text",name:"codigo_barras"},domProps:{value:t.computadoras_modal.codigo_barras},on:{input:function(e){e.target.composing||t.$set(t.computadoras_modal,"codigo_barras",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("codigo_barras")))])]),t._v(" "),e("div",{staticClass:"col-md-4 mb-3"},[e("label",[t._v("Cantidad")]),t._v(" "),e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|decimal:2",expression:"'required|decimal:2'"},{name:"model",rawName:"v-model",value:t.computadoras_modal.cantidad,expression:"computadoras_modal.cantidad"}],staticClass:"form-control",attrs:{type:"text",name:"cantidad"},domProps:{value:t.computadoras_modal.cantidad},on:{input:function(e){e.target.composing||t.$set(t.computadoras_modal,"cantidad",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("cantidad")))])]),t._v(" "),e("div",{staticClass:"col-md-4 mb-3"},[e("label",[t._v("Color")]),t._v(" "),e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.computadoras_modal.color,expression:"computadoras_modal.color"}],staticClass:"form-control",attrs:{type:"text",name:"color"},domProps:{value:t.computadoras_modal.color},on:{input:function(e){e.target.composing||t.$set(t.computadoras_modal,"color",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("color")))])])]),t._v(" "),e("div",{staticClass:"form-row"},[e("div",{staticClass:"col-md-8 mb-3"},[e("label",[t._v("Observaciones")]),t._v(" "),e("textarea",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.computadoras_modal.observaciones,expression:"computadoras_modal.observaciones"}],staticClass:"form-control",attrs:{rows:"4","data-vv-name":"observaciones"},domProps:{value:t.computadoras_modal.observaciones},on:{input:function(e){e.target.composing||t.$set(t.computadoras_modal,"observaciones",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("observaciones")))])])]),t._v(" "),e("div",{staticClass:"form-row"},[e("div",{staticClass:"col-md-4 mb-3"},[e("label",[t._v("Empresa")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.computadoras_modal.empresa,expression:"computadoras_modal.empresa"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.computadoras_modal,"empresa",e.target.multiple?a:a[0])}}},[e("option",{attrs:{value:"1"}},[t._v("Conserflow")]),t._v(" "),e("option",{attrs:{value:"2"}},[t._v("CSCT")])])])])]),t._v(" "),e("div",{staticClass:"modal-footer"},[e("vue-element-loading",{attrs:{active:t.isGuardar_Loading}}),t._v(" "),e("div",[e("button",{staticClass:"btn btn-outline-dark",attrs:{type:"button"},on:{click:function(e){return t.CerrarModalComputadoras()}}},[e("i",{staticClass:"fas fa-times"}),t._v(" Cerrar")]),t._v(" "),1==t.tipoAccion_modal_computadoras?e("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.GuardarComputadoras(1)}}},[e("i",{staticClass:"fas fa-save"}),t._v(" Guardar")]):t._e(),t._v(" "),2==t.tipoAccion_modal_computadoras?e("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.GuardarComputadoras(0)}}},[e("i",{staticClass:"fas fa-save"}),t._v(" Actualizar")]):t._e()])],1)])])])])}),[],!1,null,null,null).exports},27121:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>r});var o=a(14941).call(void 0);const i={data:function(){return{url:"ti/inventario/impresoras",ver_modal_impresora:0,columns_impresora:["id","descripcion","modelo","marca","no_serie","cantidad","condicion","mac"],list_impresora:[],isObtener_Loading:!1,isGuardar_Loading:!1,options_impresora:{headings:{id:"Acciones",descripcion:"Descripción",modelo:"Modelo",marca:"Marca",no_serie:"No. Serie",mac:"MAC",condicion:"Estado"},perPage:10,perPageValues:[],skin:o.skin,sortIcon:o.sortIcon,filterByColumn:!0,listColumns:{condicion:[{id:0,text:"Inactivo"},{id:1,text:"Activo"},{id:2,text:"En resguardo"},{id:3,text:"En sitio"}]},texts:o.texts},titulo_modal_impresora:"",tipoAccion_modal_impresora:0,impresora_modal:{}}},computed:{},methods:{CargarImpresoras:function(){var t=this;this.isObtener_Loading=!0,axios.get(this.url+"/obtener").then((function(e){t.isObtener_Loading=!1,e.data.status?t.list_impresora=e.data.impresoras:t.Error(e.data.mensaje)}))},AbrirModalImpresora:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.ver_modal_impresora=!0,t?(this.titulo_modal_impresora="Registrar Impresora",this.tipoAccion_modal_impresora=1):(this.titulo_modal_impresora="Actualizar Impresora",this.tipoAccion_modal_impresora=2,this.impresora_modal.id=e.id,this.impresora_modal.descripcion=e.descripcion,this.impresora_modal.modelo=e.modelo,this.impresora_modal.marca=e.marca,this.impresora_modal.no_serie=e.no_serie,this.impresora_modal.cantidad=e.cantidad,this.impresora_modal.mac=e.mac)},CerrarModalImpresora:function(){this.ver_modal_impresora=!1,this.impresora_modal={}},GuardarImpresora:function(t){var e=this;this.$validator.validate().then((function(a){if(a){var o=t?"registrda":"actualizada";axios.post(e.url+"/guardar",{id:e.impresora_modal.id,descripcion:e.impresora_modal.descripcion,marca:e.impresora_modal.marca,modelo:e.impresora_modal.modelo,no_serie:e.impresora_modal.no_serie,cantidad:e.impresora_modal.cantidad,mac:e.impresora_modal.mac}).then((function(t){t.data.status?(e.CargarImpresoras(),e.CerrarModalImpresora(),toastr.success("Impresora "+o+" correctamente")):toastr.error(t.data.mensaje)}))}}))},Activar:function(t,e){var a=this;axios.post(this.url+"/activar",{id:t.id,condicion:e}).then((function(t){t.data.status?(a.CargarImpresoras(),toastr.success("Estado cambiado correctamente")):toastr.error(t.data.mensaje)}))},Eliminar:function(t){var e=this;t.condicion>1?toastr.warning("No se puede eliminar al contar con asignacion"):t.condicion<=1&&axios.get("ti/inventario/impresoras/eliminar/"+t.id).then((function(t){e.CargarImpresoras(),toastr.success("Eliminado Correctamente !!!")})).catch((function(t){console.error(t)}))}},mounted:function(){this.CargarImpresoras()}};const r=(0,a(14486).A)(i,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"main"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-header"},[e("i",{staticClass:"fa fa-align-justify"}),t._v(" Impresora\n            "),e("button",{staticClass:"btn btn-dark float-sm-right",attrs:{type:"button"},on:{click:function(e){return t.AbrirModalImpresora(!0)}}},[e("i",{staticClass:"fas fa-plus"},[t._v(" ")]),t._v("Nuevo\n            ")])]),t._v(" "),e("div",{staticClass:"card-body"},[e("vue-element-loading",{attrs:{active:t.isObtener_Loading}}),t._v(" "),e("div",{},[e("div",{},[e("v-client-table",{ref:"tbl_impresora",attrs:{columns:t.columns_impresora,data:t.list_impresora,options:t.options_impresora},scopedSlots:t._u([{key:"id",fn:function(a){return[e("div",{staticClass:"btn-group",attrs:{role:"group"}},[e("button",{staticClass:"btn btn-outline-dark dropdown-toggle",attrs:{id:"btn_id",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("i",{staticClass:"fas fa-grip-horizontal"}),t._v("  Acciones\n                                ")]),t._v(" "),e("div",{staticClass:"dropdown-menu"},[[e("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(e){return t.AbrirModalImpresora(!1,a.row)}}},[e("i",{staticClass:"icon-pencil"}),t._v(" Actualizar\n                                        ")]),t._v(" "),1==a.row.condicion?e("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(e){return t.Activar(a.row,0)}}},[e("i",{staticClass:"fas fa-times"}),t._v(" Desactivar\n                                        ")]):t._e(),t._v(" "),0==a.row.condicion?e("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(e){return t.Activar(a.row,1)}}},[e("i",{staticClass:"fas fa-check"}),t._v(" Activar\n                                        ")]):t._e(),t._v(" "),e("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(e){return t.Eliminar(a.row)}}},[e("i",{staticClass:"fas fa-times"}),t._v(" Eliminar\n                                        ")])]],2)])]}},{key:"condicion",fn:function(a){return[1==a.row.condicion?e("button",{staticClass:"btn btn-success"},[t._v("Activo")]):t._e(),t._v(" "),0==a.row.condicion?e("button",{staticClass:"btn btn-warning"},[t._v("Inactivo")]):t._e(),t._v(" "),2==a.row.condicion?e("button",{staticClass:"btn btn-primary"},[t._v("En resguardo")]):t._e(),t._v(" "),3==a.row.condicion?e("button",{staticClass:"btn btn-primary"},[t._v("Sito")]):t._e()]}}])})],1)])],1)]),t._v(" "),e("div",{staticClass:"modal fade",class:{mostrar:t.ver_modal_impresora},staticStyle:{display:"none"},attrs:{tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-dark modal-lg",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h4",{staticClass:"modal-title",domProps:{textContent:t._s(t.titulo_modal_impresora)}}),t._v(" "),e("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.CerrarModalImpresora()}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("x")])])]),t._v(" "),e("div",{staticClass:"modal-body"},[e("form",{staticClass:"form-horizontal",attrs:{action:"",method:"post",enctype:"multipart/form-data"}},[e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-md-3 form-control-label"},[t._v("Descripción")]),t._v(" "),e("div",{staticClass:"col-md-9"},[e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.impresora_modal.descripcion,expression:"impresora_modal.descripcion"}],staticClass:"form-control",attrs:{type:"text",name:"descripcion"},domProps:{value:t.impresora_modal.descripcion},on:{input:function(e){e.target.composing||t.$set(t.impresora_modal,"descripcion",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("descripcion")))])])]),t._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-md-3 form-control-label"},[t._v("Modelo")]),t._v(" "),e("div",{staticClass:"col-md-9"},[e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.impresora_modal.modelo,expression:"impresora_modal.modelo"}],staticClass:"form-control",attrs:{type:"text",name:"modelo"},domProps:{value:t.impresora_modal.modelo},on:{input:function(e){e.target.composing||t.$set(t.impresora_modal,"modelo",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("modelo")))])])]),t._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-md-3 form-control-label"},[t._v("Marca")]),t._v(" "),e("div",{staticClass:"col-md-9"},[e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.impresora_modal.marca,expression:"impresora_modal.marca"}],staticClass:"form-control",attrs:{type:"text",name:"marca"},domProps:{value:t.impresora_modal.marca},on:{input:function(e){e.target.composing||t.$set(t.impresora_modal,"marca",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("marca")))])])]),t._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-md-3 form-control-label"},[t._v("No. Serie")]),t._v(" "),e("div",{staticClass:"col-md-9"},[e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.impresora_modal.no_serie,expression:"impresora_modal.no_serie"}],staticClass:"form-control",attrs:{type:"text",name:"ns"},domProps:{value:t.impresora_modal.no_serie},on:{input:function(e){e.target.composing||t.$set(t.impresora_modal,"no_serie",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("ns")))])])]),t._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-md-3 form-control-label"},[t._v("MAC")]),t._v(" "),e("div",{staticClass:"col-md-9"},[e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.impresora_modal.mac,expression:"impresora_modal.mac"}],staticClass:"form-control",attrs:{type:"text",name:"mac"},domProps:{value:t.impresora_modal.mac},on:{input:function(e){e.target.composing||t.$set(t.impresora_modal,"mac",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("mac")))])])]),t._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-md-3 form-control-label"},[t._v("Cantidad")]),t._v(" "),e("div",{staticClass:"col-md-9"},[e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|decimal:2",expression:"'required|decimal:2'"},{name:"model",rawName:"v-model",value:t.impresora_modal.cantidad,expression:"impresora_modal.cantidad"}],staticClass:"form-control",attrs:{type:"text",name:"cantidad"},domProps:{value:t.impresora_modal.cantidad},on:{input:function(e){e.target.composing||t.$set(t.impresora_modal,"cantidad",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("cantidad")))])])])])]),t._v(" "),e("div",{staticClass:"modal-footer"},[e("vue-element-loading",{attrs:{active:t.isGuardar_Loading}}),t._v(" "),e("div",[e("button",{staticClass:"btn btn-outline-dark",attrs:{type:"button"},on:{click:function(e){return t.CerrarModalImpresora()}}},[e("i",{staticClass:"fas fa-times"}),t._v(" Cerrar")]),t._v(" "),1==t.tipoAccion_modal_impresora?e("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.GuardarImpresora(1)}}},[e("i",{staticClass:"fas fa-save"}),t._v(" Guardar")]):t._e(),t._v(" "),2==t.tipoAccion_modal_impresora?e("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.GuardarImpresora(0)}}},[e("i",{staticClass:"fas fa-save"}),t._v(" Actualizar")]):t._e()])],1)])])])])}),[],!1,null,null,null).exports},49263:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>s});var o=a(60173),i=a(14941).call(void 0);const r={data:function(){return{url:"ti/inventario/red",ver_modal_equipo_red:0,columns_equipo_red:["id","descripcion","marca","no_serie","mac","ip","observaciones","cantidad","condicion"],list_equipo_red:[],options_equipo_red:{headings:{id:"Acciones",descripcion:"Descripción",modelo:"Modelo",marca:"Marca",no_serie:"No. Serie",condicion:"Estado",mac:"MAC",ip:"IP"},perPage:10,perPageValues:[],skin:i.skin,sortIcon:i.sortIcon,filterByColumn:!0,listColumns:{condicion:[{id:0,text:"Inactivo"},{id:1,text:"Activo"},{id:2,text:"En resguardo"},{id:3,text:"En sitio"}]},texts:i.texts},titulo_modal_equipo_red:"",tipoAccion_modal_equipo_red:0,equipo_red_modal:{}}},computed:{},methods:{CargarEquipoReds:function(){var t=this;axios.get(this.url+"/obtener").then((function(e){e.data.status?t.list_equipo_red=e.data.equipo_reds:t.Error(e.data.mensaje)}))},AbrirModalEquipoRed:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.ver_modal_equipo_red=!0,t?(this.titulo_modal_equipo_red="Registrar Equipo de red",this.tipoAccion_modal_equipo_red=1):(this.titulo_modal_equipo_red="Actualizar Equipo de red",this.tipoAccion_modal_equipo_red=2,this.equipo_red_modal.id=e.id,this.equipo_red_modal.descripcion=e.descripcion,this.equipo_red_modal.modelo=e.modelo,this.equipo_red_modal.marca=e.marca,this.equipo_red_modal.no_serie=e.no_serie,this.equipo_red_modal.mac=e.mac,this.equipo_red_modal.ip=e.ip,this.equipo_red_modal.observaciones=e.observaciones,this.equipo_red_modal.cantidad=e.cantidad)},CerrarModalEquipoRed:function(){this.ver_modal_equipo_red=!1,o.A.resetObject(this.equipo_red_modal)},GuardarEquipoRed:function(t){var e=this;this.$validator.validate().then((function(a){if(a){var o=t?"registrda":"actualizada";axios.post(e.url+"/guardar",{id:e.equipo_red_modal.id,descripcion:e.equipo_red_modal.descripcion,marca:e.equipo_red_modal.marca,no_serie:e.equipo_red_modal.no_serie,mac:e.equipo_red_modal.mac,ip:e.equipo_red_modal.ip,observaciones:e.equipo_red_modal.observaciones,cantidad:e.equipo_red_modal.cantidad}).then((function(t){t.data.status?(e.CerrarModalEquipoRed(),e.CargarEquipoReds(),toastr.success("Equipo de red "+o+" correctamente")):toastr.error(t.data.mensaje)}))}}))},Activar:function(t,e){var a=this;axios.post(this.url+"/activar",{id:t.id,condicion:e}).then((function(t){t.data.status?(a.CargarEquipoReds(),toastr.success("Estado cambiado correctamente")):toastr.error(t.data.mensaje)}))},Eliminar:function(t){var e=this;t.condicion>1?toastr.warning("No se puede eliminar al contar con asignacion"):t.condicion<=1&&axios.get("ti/inventario/red/eliminar/"+t.id).then((function(t){e.CargarEquipoReds(),toastr.success("Eliminado Correctamente !!!")})).catch((function(t){console.error(t)}))}},mounted:function(){this.CargarEquipoReds()}};const s=(0,a(14486).A)(r,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"main"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-header"},[e("i",{staticClass:"fa fa-align-justify"}),t._v(" Equipo de red\n            "),e("button",{staticClass:"btn btn-dark float-sm-right",attrs:{type:"button"},on:{click:function(e){return t.AbrirModalEquipoRed(!0)}}},[e("i",{staticClass:"fas fa-plus"},[t._v(" ")]),t._v("Nuevo\n            ")])]),t._v(" "),e("div",{staticClass:"card-body"},[e("div",{},[e("div",{},[e("v-client-table",{ref:"tbl_equipo_red",attrs:{columns:t.columns_equipo_red,data:t.list_equipo_red,options:t.options_equipo_red},scopedSlots:t._u([{key:"id",fn:function(a){return[e("div",{staticClass:"btn-group",attrs:{role:"group"}},[e("button",{staticClass:"btn btn-outline-dark dropdown-toggle",attrs:{id:"btn_id",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("i",{staticClass:"fas fa-grip-horizontal"}),t._v("  Acciones\n                                ")]),t._v(" "),e("div",{staticClass:"dropdown-menu"},[[e("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(e){return t.AbrirModalEquipoRed(!1,a.row)}}},[e("i",{staticClass:"icon-pencil"}),t._v(" Actualizar\n                                        ")]),t._v(" "),0==a.row.condicion?e("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(e){return t.Activar(a.row,1)}}},[e("i",{staticClass:"fas fa-check"}),t._v(" Activar\n                                        ")]):t._e(),t._v(" "),1==a.row.condicion?e("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(e){return t.Activar(a.row,0)}}},[e("i",{staticClass:"fas fa-times"}),t._v(" Desactivar\n                                        ")]):t._e(),t._v(" "),e("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(e){return t.Eliminar(a.row)}}},[e("i",{staticClass:"fas fa-times"}),t._v(" Eliminar\n                                        ")])]],2)])]}},{key:"condicion",fn:function(a){return[1==a.row.condicion?e("button",{staticClass:"btn btn-success"},[t._v("Activo")]):t._e(),t._v(" "),0==a.row.condicion?e("button",{staticClass:"btn btn-warning"},[t._v("Inactivo")]):t._e(),t._v(" "),2==a.row.condicion?e("button",{staticClass:"btn btn-primary"},[t._v("En resguardo")]):t._e(),t._v(" "),3==a.row.condicion?e("button",{staticClass:"btn btn-primary"},[t._v("Sito")]):t._e()]}}])})],1)])])]),t._v(" "),e("div",{staticClass:"modal fade",class:{mostrar:t.ver_modal_equipo_red},staticStyle:{display:"none"},attrs:{tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-dark modal-lg",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h4",{staticClass:"modal-title",domProps:{textContent:t._s(t.titulo_modal_equipo_red)}}),t._v(" "),e("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.CerrarModalEquipoRed()}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),t._v(" "),e("div",{staticClass:"modal-body"},[e("form",{staticClass:"form-horizontal",attrs:{action:"",method:"post",enctype:"multipart/form-data"}},[e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-md-3 form-control-label"},[t._v("Descripción")]),t._v(" "),e("div",{staticClass:"col-md-9"},[e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.equipo_red_modal.descripcion,expression:"equipo_red_modal.descripcion"}],staticClass:"form-control",attrs:{type:"text",name:"descripcion"},domProps:{value:t.equipo_red_modal.descripcion},on:{input:function(e){e.target.composing||t.$set(t.equipo_red_modal,"descripcion",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("descripcion")))])])]),t._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-md-3 form-control-label"},[t._v("Marca")]),t._v(" "),e("div",{staticClass:"col-md-9"},[e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.equipo_red_modal.marca,expression:"equipo_red_modal.marca"}],staticClass:"form-control",attrs:{type:"text",name:"marca"},domProps:{value:t.equipo_red_modal.marca},on:{input:function(e){e.target.composing||t.$set(t.equipo_red_modal,"marca",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("marca")))])])]),t._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-md-3 form-control-label"},[t._v("No. Serie")]),t._v(" "),e("div",{staticClass:"col-md-9"},[e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.equipo_red_modal.no_serie,expression:"equipo_red_modal.no_serie"}],staticClass:"form-control",attrs:{type:"text",name:"ns"},domProps:{value:t.equipo_red_modal.no_serie},on:{input:function(e){e.target.composing||t.$set(t.equipo_red_modal,"no_serie",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("ns")))])])]),t._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-md-3 form-control-label"},[t._v("MAC")]),t._v(" "),e("div",{staticClass:"col-md-9"},[e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.equipo_red_modal.mac,expression:"equipo_red_modal.mac"}],staticClass:"form-control",attrs:{type:"text",name:"mac"},domProps:{value:t.equipo_red_modal.mac},on:{input:function(e){e.target.composing||t.$set(t.equipo_red_modal,"mac",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("mac")))])])]),t._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-md-3 form-control-label"},[t._v("IP")]),t._v(" "),e("div",{staticClass:"col-md-9"},[e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.equipo_red_modal.ip,expression:"equipo_red_modal.ip"}],staticClass:"form-control",attrs:{type:"text",name:"ip"},domProps:{value:t.equipo_red_modal.ip},on:{input:function(e){e.target.composing||t.$set(t.equipo_red_modal,"ip",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("ip")))])])]),t._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-md-3 form-control-label"},[t._v("Observaciones")]),t._v(" "),e("div",{staticClass:"col-md-9"},[e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.equipo_red_modal.observaciones,expression:"equipo_red_modal.observaciones"}],staticClass:"form-control",attrs:{type:"text",name:"observaciones"},domProps:{value:t.equipo_red_modal.observaciones},on:{input:function(e){e.target.composing||t.$set(t.equipo_red_modal,"observaciones",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("observaciones")))])])]),t._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-md-3 form-control-label"},[t._v("Cantidad")]),t._v(" "),e("div",{staticClass:"col-md-9"},[e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|decimal:2",expression:"'required|decimal:2'"},{name:"model",rawName:"v-model",value:t.equipo_red_modal.cantidad,expression:"equipo_red_modal.cantidad"}],staticClass:"form-control",attrs:{type:"text",name:"cantidad"},domProps:{value:t.equipo_red_modal.cantidad},on:{input:function(e){e.target.composing||t.$set(t.equipo_red_modal,"cantidad",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("cantidad")))])])])])]),t._v(" "),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-outline-dark",attrs:{type:"button"},on:{click:function(e){return t.CerrarModalEquipoRed()}}},[e("i",{staticClass:"fas fa-times"}),t._v(" Cerrar")]),t._v(" "),1==t.tipoAccion_modal_equipo_red?e("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.GuardarEquipoRed(1)}}},[e("i",{staticClass:"fas fa-save"}),t._v(" Guardar")]):t._e(),t._v(" "),2==t.tipoAccion_modal_equipo_red?e("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.GuardarEquipoRed(0)}}},[e("i",{staticClass:"fas fa-save"}),t._v(" Actualizar")]):t._e()])])])])])}),[],!1,null,null,null).exports},39169:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>s});var o=a(60173),i=a(14941).call(void 0);const r={data:function(){return{url:"ti/inventario/video",PermisosCRUD:{},isGuardar_Loading:!1,isObtener_Loading:!1,ver_modal_equipo_video:0,columns_equipo_video:["id","descripcion","no_serie","cantidad","condicion"],list_equipo_video:[],options_equipo_video:{headings:{id:"Acciones",descripcion:"Descripción",no_serie:"No. Serie",condicion:"Estado"},perPage:10,perPageValues:[],skin:i.skin,sortIcon:i.sortIcon,filterByColumn:!0,listColumns:{condicion:[{id:0,text:"Inactivo"},{id:1,text:"Activo"},{id:2,text:"En resguardo"},{id:3,text:"En sitio"}]},texts:i.texts},titulo_modal_equipo_video:"",tipoAccion_modal_equipo_video:0,equipo_video_modal:{}}},computed:{},methods:{CargarEquipoVideos:function(){var t=this;this.isObtener_Loading=!0,axios.get(this.url+"/obtener").then((function(e){t.isObtener_Loading=!1,e.data.status?t.list_equipo_video=e.data.equipo_video:t.Error(e.data.mensaje)}))},AbrirModalEquipoVideo:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.ver_modal_equipo_video=!0,t?(this.titulo_modal_equipo_video="Registrar Equipo de vídeo",this.tipoAccion_modal_equipo_video=1):(this.titulo_modal_equipo_video="Actualizar Equipo de vídeo",this.tipoAccion_modal_equipo_video=2,this.equipo_video_modal.id=e.id,this.equipo_video_modal.descripcion=e.descripcion,this.equipo_video_modal.no_serie=e.no_serie,this.equipo_video_modal.cantidad=e.cantidad)},CerrarModalEquipoVideo:function(){this.ver_modal_equipo_video=!1,o.A.resetObject(this.equipo_video_modal)},GuardarEquipoVideo:function(t){var e=this;this.$validator.validate().then((function(a){if(a){var o=t?"registrda":"actualizada";axios.post(e.url+"/guardar",{id:e.equipo_video_modal.id,descripcion:e.equipo_video_modal.descripcion,no_serie:e.equipo_video_modal.no_serie,cantidad:e.equipo_video_modal.cantidad}).then((function(t){t.data.status?(e.CerrarModalEquipoVideo(),e.CargarEquipoVideos(),toastr.success("Equipo de vídeo "+o+" correctamente")):toastr.error(t.data.mensaje)}))}}))},Activar:function(t,e){var a=this;axios.post(this.url+"/activar",{id:t.id,condicion:e}).then((function(t){t.data.status?(a.CargarEquipoVideos(),toastr.success("Estado cambiado correctamente")):toastr.error(t.data.mensaje)}))},Eliminar:function(t){var e=this;t.condicion>1?toastr.warning("No se puede eliminar al contar con asignacion"):t.condicion<=1&&(this.isObtener_Loading=!0,axios.post("ti/inventario/video/eliminar/",{id:t.id}).then((function(t){t.data.status?(e.isObtener_Loading=!1,toastr.success("Eliminado Correctamente"),e.CargarEquipoVideos()):toastr.error(t.data.mensaje)})))}},mounted:function(){this.PermisosCRUD=o.A.getCRUD(this.$route.path),this.CargarEquipoVideos()}};const s=(0,a(14486).A)(r,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"main"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-header"},[e("i",{staticClass:"fa fa-align-justify"}),t._v(" Equipo de vídeo\n            "),t.PermisosCRUD.Create?e("button",{staticClass:"btn btn-dark float-sm-right",attrs:{type:"button"},on:{click:function(e){return t.AbrirModalEquipoVideo(!0)}}},[e("i",{staticClass:"fas fa-plus"},[t._v(" ")]),t._v("Nuevo\n            ")]):t._e()]),t._v(" "),e("div",{staticClass:"card-body"},[e("vue-element-loading",{attrs:{active:t.isObtener_Loading}}),t._v(" "),e("div",{},[e("div",{},[e("v-client-table",{ref:"tbl_equipo_video",attrs:{columns:t.columns_equipo_video,data:t.list_equipo_video,options:t.options_equipo_video},scopedSlots:t._u([{key:"id",fn:function(a){return[e("div",{staticClass:"btn-group",attrs:{role:"group"}},[e("button",{staticClass:"btn btn-outline-dark dropdown-toggle",attrs:{id:"btn_id",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("i",{staticClass:"fas fa-grip-horizontal"}),t._v("  Acciones\n                                ")]),t._v(" "),e("div",{staticClass:"dropdown-menu"},[[e("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(e){return t.AbrirModalEquipoVideo(!1,a.row)}}},[e("i",{staticClass:"icon-pencil"}),t._v(" Actualizar\n                                        ")]),t._v(" "),t.PermisosCRUD.Delete?[1==a.row.condicion?e("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(e){return t.Activar(a.row,0)}}},[e("i",{staticClass:"fas fa-times"}),t._v(" Desactivar\n                                            ")]):t._e(),t._v(" "),0==a.row.condicion?e("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(e){return t.Activar(a.row,1)}}},[e("i",{staticClass:"fas fa-check"}),t._v(" Activar\n                                            ")]):t._e(),t._v(" "),e("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(e){return t.Eliminar(a.row)}}},[e("i",{staticClass:"fas fa-times"}),t._v(" Eliminar\n                                            ")])]:t._e()]],2)])]}},{key:"condicion",fn:function(a){return[1==a.row.condicion?e("button",{staticClass:"btn btn-success"},[t._v("Activo")]):t._e(),t._v(" "),0==a.row.condicion?e("button",{staticClass:"btn btn-warning"},[t._v("Inactivo")]):t._e(),t._v(" "),2==a.row.condicion?e("button",{staticClass:"btn btn-primary"},[t._v("En resguardo")]):t._e(),t._v(" "),3==a.row.condicion?e("button",{staticClass:"btn btn-primary"},[t._v("Sito")]):t._e()]}}])})],1)])],1)]),t._v(" "),e("div",{staticClass:"modal fade",class:{mostrar:t.ver_modal_equipo_video},staticStyle:{display:"none"},attrs:{tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-dark modal-lg",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h4",{staticClass:"modal-title",domProps:{textContent:t._s(t.titulo_modal_equipo_video)}}),t._v(" "),e("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.CerrarModalEquipoVideo()}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("x")])])]),t._v(" "),e("div",{staticClass:"modal-body"},[e("form",{staticClass:"form-horizontal",attrs:{action:"",method:"post",enctype:"multipart/form-data"}},[e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-md-3 form-control-label"},[t._v("Descripción")]),t._v(" "),e("div",{staticClass:"col-md-9"},[e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.equipo_video_modal.descripcion,expression:"equipo_video_modal.descripcion"}],staticClass:"form-control",attrs:{type:"text",name:"descripcion"},domProps:{value:t.equipo_video_modal.descripcion},on:{input:function(e){e.target.composing||t.$set(t.equipo_video_modal,"descripcion",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("descripcion")))])])]),t._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-md-3 form-control-label"},[t._v("No. Serie")]),t._v(" "),e("div",{staticClass:"col-md-9"},[e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.equipo_video_modal.no_serie,expression:"equipo_video_modal.no_serie"}],staticClass:"form-control",attrs:{type:"text",name:"ns"},domProps:{value:t.equipo_video_modal.no_serie},on:{input:function(e){e.target.composing||t.$set(t.equipo_video_modal,"no_serie",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("ns")))])])]),t._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-md-3 form-control-label"},[t._v("Cantidad")]),t._v(" "),e("div",{staticClass:"col-md-9"},[e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|decimal:2",expression:"'required|decimal:2'"},{name:"model",rawName:"v-model",value:t.equipo_video_modal.cantidad,expression:"equipo_video_modal.cantidad"}],staticClass:"form-control",attrs:{type:"text",name:"cantidad"},domProps:{value:t.equipo_video_modal.cantidad},on:{input:function(e){e.target.composing||t.$set(t.equipo_video_modal,"cantidad",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("cantidad")))])])])])]),t._v(" "),e("div",{staticClass:"modal-footer"},[e("div",[e("vue-element-loading",{attrs:{active:t.isGuardar_Loading}}),t._v(" "),e("button",{staticClass:"btn btn-outline-dark",attrs:{type:"button"},on:{click:function(e){return t.CerrarModalEquipoVideo()}}},[e("i",{staticClass:"fas fa-times"}),t._v(" Cerrar")]),t._v(" "),1==t.tipoAccion_modal_equipo_video?e("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.GuardarEquipoVideo(1)}}},[e("i",{staticClass:"fas fa-save"}),t._v(" Guardar")]):t._e(),t._v(" "),2==t.tipoAccion_modal_equipo_video?e("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.GuardarEquipoVideo(0)}}},[e("i",{staticClass:"fas fa-save"}),t._v(" Actualizar")]):t._e()],1)])])])])])}),[],!1,null,null,null).exports},23280:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>l});function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(){i=function(){return e};var t,e={},a=Object.prototype,r=a.hasOwnProperty,s=Object.defineProperty||function(t,e,a){t[e]=a.value},n="function"==typeof Symbol?Symbol:{},l=n.iterator||"@@iterator",c=n.asyncIterator||"@@asyncIterator",d=n.toStringTag||"@@toStringTag";function u(t,e,a){return Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,a){return t[e]=a}}function p(t,e,a,o){var i=e&&e.prototype instanceof g?e:g,r=Object.create(i.prototype),n=new P(o||[]);return s(r,"_invoke",{value:E(t,a,n)}),r}function m(t,e,a){try{return{type:"normal",arg:t.call(e,a)}}catch(t){return{type:"throw",arg:t}}}e.wrap=p;var v="suspendedStart",_="suspendedYield",f="executing",h="completed",b={};function g(){}function C(){}function y(){}var w={};u(w,l,(function(){return this}));var x=Object.getPrototypeOf,z=x&&x(x(O([])));z&&z!==a&&r.call(z,l)&&(w=z);var k=y.prototype=g.prototype=Object.create(w);function q(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function a(i,s,n,l){var c=m(t[i],t,s);if("throw"!==c.type){var d=c.arg,u=d.value;return u&&"object"==o(u)&&r.call(u,"__await")?e.resolve(u.__await).then((function(t){a("next",t,n,l)}),(function(t){a("throw",t,n,l)})):e.resolve(u).then((function(t){d.value=t,n(d)}),(function(t){return a("throw",t,n,l)}))}l(c.arg)}var i;s(this,"_invoke",{value:function(t,o){function r(){return new e((function(e,i){a(t,o,e,i)}))}return i=i?i.then(r,r):r()}})}function E(e,a,o){var i=v;return function(r,s){if(i===f)throw Error("Generator is already running");if(i===h){if("throw"===r)throw s;return{value:t,done:!0}}for(o.method=r,o.arg=s;;){var n=o.delegate;if(n){var l=M(n,o);if(l){if(l===b)continue;return l}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(i===v)throw i=h,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);i=f;var c=m(e,a,o);if("normal"===c.type){if(i=o.done?h:_,c.arg===b)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(i=h,o.method="throw",o.arg=c.arg)}}}function M(e,a){var o=a.method,i=e.iterator[o];if(i===t)return a.delegate=null,"throw"===o&&e.iterator.return&&(a.method="return",a.arg=t,M(e,a),"throw"===a.method)||"return"!==o&&(a.method="throw",a.arg=new TypeError("The iterator does not provide a '"+o+"' method")),b;var r=m(i,e.iterator,a.arg);if("throw"===r.type)return a.method="throw",a.arg=r.arg,a.delegate=null,b;var s=r.arg;return s?s.done?(a[e.resultName]=s.value,a.next=e.nextLoc,"return"!==a.method&&(a.method="next",a.arg=t),a.delegate=null,b):s:(a.method="throw",a.arg=new TypeError("iterator result is not an object"),a.delegate=null,b)}function N(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(N,this),this.reset(!0)}function O(e){if(e||""===e){var a=e[l];if(a)return a.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,s=function a(){for(;++i<e.length;)if(r.call(e,i))return a.value=e[i],a.done=!1,a;return a.value=t,a.done=!0,a};return s.next=s}}throw new TypeError(o(e)+" is not iterable")}return C.prototype=y,s(k,"constructor",{value:y,configurable:!0}),s(y,"constructor",{value:C,configurable:!0}),C.displayName=u(y,d,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===C||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,u(t,d,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},q(A.prototype),u(A.prototype,c,(function(){return this})),e.AsyncIterator=A,e.async=function(t,a,o,i,r){void 0===r&&(r=Promise);var s=new A(p(t,a,o,i),r);return e.isGeneratorFunction(a)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},q(k),u(k,d,"Generator"),u(k,l,(function(){return this})),u(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),a=[];for(var o in e)a.push(o);return a.reverse(),function t(){for(;a.length;){var o=a.pop();if(o in e)return t.value=o,t.done=!1,t}return t.done=!0,t}},e.values=O,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var a in this)"t"===a.charAt(0)&&r.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var a=this;function o(o,i){return n.type="throw",n.arg=e,a.next=o,i&&(a.method="next",a.arg=t),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],n=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var l=r.call(s,"catchLoc"),c=r.call(s,"finallyLoc");if(l&&c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function(t,e){for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=t,s.arg=e,i?(this.method="next",this.next=i.finallyLoc,b):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),b},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.finallyLoc===t)return this.complete(a.completion,a.afterLoc),S(a),b}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.tryLoc===t){var o=a.completion;if("throw"===o.type){var i=o.arg;S(a)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,a,o){return this.delegate={iterator:O(e),resultName:a,nextLoc:o},"next"===this.method&&(this.arg=t),b}},e}function r(t,e,a,o,i,r,s){try{var n=t[r](s),l=n.value}catch(t){return void a(t)}n.done?e(l):Promise.resolve(l).then(o,i)}var s=a(14941).call(void 0);const n={data:function(){return{url:"ti/mtto/impresoras",ver_modal_impresora:0,columns_impresora:["id","descripcion","marca_modelo","no_serie","ultimo_mtto","condicion"],list_impresora:[],isObtener_Loading:!1,isGuardar_Loading:!1,options_impresora:{headings:{id:"Acciones",descripcion:"Descripción",no_serie:"No. Serie",marca_modelo:"Marca/Modelo",ultimo_mtto:"Ult. Mtto.",condicion:"Estado"},perPage:10,perPageValues:[],skin:s.skin,sortIcon:s.sortIcon,filterByColumn:!0,listColumns:{condicion:[{id:0,text:"Inactivo"},{id:1,text:"Activo"},{id:2,text:"En resguardo"},{id:3,text:"En sitio"}]},texts:s.texts},titulo_modal_impresora:"",tipoAccion_modal_impresora:0,impresora_modal:{c:"NO",m:"NO",y:"NO",k:"NO"},ver_modal_historial:!1,isHistorial_Loading:!1,historial_mttos:[]}},computed:{},methods:{CargarImpresoras:function(){var t=this;this.isObtener_Loading=!0,axios.get(this.url+"/obtener").then((function(e){t.isObtener_Loading=!1,e.data.status?t.list_impresora=e.data.impresoras:toastr.error(e.data.mensaje)}))},AbrirModalImpresora:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.ver_modal_impresora=!0,this.impresora_modal={impresora_id:e.id,c:"NO",m:"NO",y:"NO",k:"NO"},this.titulo_modal_impresora="Registrar Mantenimiento de impresora",this.tipoAccion_modal_impresora=1},CerrarModalImpresora:function(){this.ver_modal_impresora=!1},GuardarMtto:function(){var t,e=this;return(t=i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$validator.validate();case 2:if(t.sent){t.next=5;break}return t.abrupt("return");case 5:axios.post(e.url+"/guardar",{impresora_id:e.impresora_modal.impresora_id,ubicacion:e.impresora_modal.ubicacion,total_hojas:e.impresora_modal.total_hojas,fecha:e.impresora_modal.fecha,c:e.impresora_modal.c,m:e.impresora_modal.m,y:e.impresora_modal.y,k:e.impresora_modal.k,observaciones:e.impresora_modal.observaciones}).then((function(t){t.data.status?(e.CargarImpresoras(),e.CerrarModalImpresora(),toastr.success("Guardado correctamente")):toastr.error(t.data.mensaje)}));case 6:case"end":return t.stop()}}),t)})),function(){var e=this,a=arguments;return new Promise((function(o,i){var s=t.apply(e,a);function n(t){r(s,o,i,n,l,"next",t)}function l(t){r(s,o,i,n,l,"throw",t)}n(void 0)}))})()},Historial:function(t){var e=this;this.isHistorial_Loading=!0,this.ver_modal_historial=!0,axios.get(this.url+"/historial/"+t).then((function(t){e.isHistorial_Loading=!1,t.data.status?e.historial_mttos=t.data.historial:toastr.error(t.data.mensaje)}))},CerrarModalHistorial:function(){this.ver_modal_historial=!1,this.historial_mttos=[]}},mounted:function(){this.CargarImpresoras()}};const l=(0,a(14486).A)(n,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"main"},[e("div",{staticClass:"card"},[t._m(0),t._v(" "),e("div",{staticClass:"card-body"},[e("vue-element-loading",{attrs:{active:t.isObtener_Loading}}),t._v(" "),e("div",{},[e("div",{},[e("v-client-table",{ref:"tbl_impresora",attrs:{columns:t.columns_impresora,data:t.list_impresora,options:t.options_impresora},scopedSlots:t._u([{key:"id",fn:function(a){return[e("div",{staticClass:"btn-group",attrs:{role:"group"}},[e("button",{staticClass:"btn btn-outline-dark dropdown-toggle",attrs:{id:"btn_id",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("i",{staticClass:"fas fa-grip-horizontal"}),t._v("  Acciones\n                                ")]),t._v(" "),e("div",{staticClass:"dropdown-menu"},[[1==a.row.condicion?e("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(e){return t.AbrirModalImpresora(!1,a.row)}}},[e("i",{staticClass:"fas fa-plus mr-1"}),t._v("Registrar\n                                        ")]):t._e(),t._v(" "),e("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(e){return t.Historial(a.row.id)}}},[e("i",{staticClass:"fas fa-list mr-1"}),t._v("Historial\n                                        ")])]],2)])]}},{key:"condicion",fn:function(a){return[1==a.row.condicion?e("button",{staticClass:"btn btn-outline-success"},[t._v("Activo")]):t._e(),t._v(" "),0==a.row.condicion?e("button",{staticClass:"btn btn-outline-danger"},[t._v("Inactivo")]):t._e(),t._v(" "),2==a.row.condicion?e("button",{staticClass:"btn btn-outline-primary"},[t._v("En resguardo")]):t._e(),t._v(" "),3==a.row.condicion?e("button",{staticClass:"btn btn-outline-primary"},[t._v("Sito")]):t._e()]}}])})],1)])],1)]),t._v(" "),e("div",{staticClass:"modal fade",class:{mostrar:t.ver_modal_impresora},staticStyle:{display:"none"},attrs:{tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-dark modal-lg",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h4",{staticClass:"modal-title",domProps:{textContent:t._s(t.titulo_modal_impresora)}}),t._v(" "),e("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.CerrarModalImpresora()}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("x")])])]),t._v(" "),e("div",{staticClass:"modal-body"},[e("form",{staticClass:"form-horizontal",attrs:{method:"post"}},[e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-md-3 form-control-label"},[t._v("Ubicación")]),t._v(" "),e("div",{staticClass:"col-md-4"},[e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.impresora_modal.ubicacion,expression:"impresora_modal.ubicacion"}],staticClass:"form-control",attrs:{type:"text","data-vv-name":"Ubicación"},domProps:{value:t.impresora_modal.ubicacion},on:{input:function(e){e.target.composing||t.$set(t.impresora_modal,"ubicacion",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Ubicación")))])])]),t._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-md-3 form-control-label"},[t._v("Total Hojas")]),t._v(" "),e("div",{staticClass:"col-md-3"},[e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.impresora_modal.total_hojas,expression:"impresora_modal.total_hojas"}],staticClass:"form-control",attrs:{type:"number","data-vv-name":"Total Hojas"},domProps:{value:t.impresora_modal.total_hojas},on:{input:function(e){e.target.composing||t.$set(t.impresora_modal,"total_hojas",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Total Hojas")))])])]),t._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-md-3 form-control-label"},[t._v("Fecha")]),t._v(" "),e("div",{staticClass:"col-md-3"},[e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.impresora_modal.fecha,expression:"impresora_modal.fecha"}],staticClass:"form-control",attrs:{type:"date","data-vv-name":"Fecha"},domProps:{value:t.impresora_modal.fecha},on:{input:function(e){e.target.composing||t.$set(t.impresora_modal,"fecha",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Fecha")))])])]),t._v(" "),e("div",{staticClass:"form-row"},[e("label",{staticClass:"col-md-3 form-control-label mt"},[t._v("Uso de tinta")]),t._v(" "),e("div",{staticClass:"col-md-2 mb-3"},[e("label",[t._v("Cyan")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.impresora_modal.c,expression:"impresora_modal.c"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.impresora_modal,"c",e.target.multiple?a:a[0])}}},[e("option",{attrs:{value:"1/2"}},[t._v("1/2")]),t._v(" "),e("option",{attrs:{value:"1"}},[t._v("1")]),t._v(" "),e("option",{attrs:{value:"NO"}},[t._v("NO")])])]),t._v(" "),e("div",{staticClass:"col-md-2 mb-3"},[e("label",[t._v("Magenta")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.impresora_modal.m,expression:"impresora_modal.m"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.impresora_modal,"m",e.target.multiple?a:a[0])}}},[e("option",{attrs:{value:"1/2"}},[t._v("1/2")]),t._v(" "),e("option",{attrs:{value:"1"}},[t._v("1")]),t._v(" "),e("option",{attrs:{value:"NO"}},[t._v("NO")])])]),t._v(" "),e("div",{staticClass:"col-md-2 mb-3"},[e("label",[t._v("Yellow")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.impresora_modal.y,expression:"impresora_modal.y"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.impresora_modal,"y",e.target.multiple?a:a[0])}}},[e("option",{attrs:{value:"1/2"}},[t._v("1/2")]),t._v(" "),e("option",{attrs:{value:"1"}},[t._v("1")]),t._v(" "),e("option",{attrs:{value:"NO"}},[t._v("NO")])])]),t._v(" "),e("div",{staticClass:"col-md-2 mb-3"},[e("label",[t._v("Black")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.impresora_modal.k,expression:"impresora_modal.k"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.impresora_modal,"k",e.target.multiple?a:a[0])}}},[e("option",{attrs:{value:"1/2"}},[t._v("1/2")]),t._v(" "),e("option",{attrs:{value:"1"}},[t._v("1")]),t._v(" "),e("option",{attrs:{value:"NO"}},[t._v("NO")])])])]),t._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-md-3 form-control-label"},[t._v("Observaciones")]),t._v(" "),e("div",{staticClass:"col-md-8"},[e("textarea",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.impresora_modal.observaciones,expression:"impresora_modal.observaciones"}],staticClass:"form-control",attrs:{rows:"4","data-vv-name":"observaciones"},domProps:{value:t.impresora_modal.observaciones},on:{input:function(e){e.target.composing||t.$set(t.impresora_modal,"observaciones",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("observaciones")))])])])])]),t._v(" "),e("div",{staticClass:"modal-footer"},[e("vue-element-loading",{attrs:{active:t.isGuardar_Loading}}),t._v(" "),e("div",[e("button",{staticClass:"btn btn-outline-dark",attrs:{type:"button"},on:{click:t.CerrarModalImpresora}},[e("i",{staticClass:"fas fa-times mr-1"}),t._v("Cerrar")]),t._v(" "),1==t.tipoAccion_modal_impresora?e("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:t.GuardarMtto}},[e("i",{staticClass:"fas fa-save mr-1"}),t._v("Guardar")]):t._e()])],1)])])]),t._v(" "),e("div",{staticClass:"modal fade",class:{mostrar:t.ver_modal_historial},staticStyle:{display:"none"},attrs:{tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-dark modal-lg",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h4",{staticClass:"modal-title"},[t._v("Historial de Mantenimiento")]),t._v(" "),e("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.CerrarModalImpresora()}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("x")])])]),t._v(" "),e("div",{staticClass:"modal-body"},[e("table",{staticClass:"table table-sm table-striped"},[t._m(1),t._v(" "),t._l(t.historial_mttos,(function(a){return e("tr",{key:a.id},[e("td",[t._v(t._s(a.fecha))]),t._v(" "),e("td",[t._v(t._s(a.ubicacion))]),t._v(" "),e("td",[t._v(t._s(a.total_hojas))]),t._v(" "),e("td",[t._v(t._s(a.c))]),t._v(" "),e("td",[t._v(t._s(a.m))]),t._v(" "),e("td",[t._v(t._s(a.y))]),t._v(" "),e("td",[t._v(t._s(a.k))]),t._v(" "),e("td",[t._v(t._s(a.observaciones))])])}))],2)]),t._v(" "),e("div",{staticClass:"modal-footer"},[e("div",[e("button",{staticClass:"btn btn-outline-dark",attrs:{type:"button"},on:{click:t.CerrarModalHistorial}},[e("i",{staticClass:"fas fa-times mr-1"}),t._v("Cerrar\n                        ")])])])])])])])}),[function(){var t=this._self._c;return t("div",{staticClass:"card-header"},[t("i",{staticClass:"fa fa-align-justify"}),this._v(" Mantenimiento - Impresoras\n        ")])},function(){var t=this,e=t._self._c;return e("tr",[e("th",[t._v("Fecha")]),t._v(" "),e("th",[t._v("ubicacion")]),t._v(" "),e("th",[t._v("Total Hojas")]),t._v(" "),e("th",[t._v("C")]),t._v(" "),e("th",[t._v("M")]),t._v(" "),e("th",[t._v("Y")]),t._v(" "),e("th",[t._v("K")]),t._v(" "),e("th",[t._v("Observaciones")])])}],!1,null,null,null).exports},91403:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>r});a(60173);var o=a(14941).call(void 0);const i={data:function(){return{modal:0,tituloModal:"",tipoAccion:0,isLoading:!1,company:1,anio_busqueda:"",detalle:!1,caiv:"",tipo:"",marca:"",modelo:"",num_serie:"",mes:"",id:0,anio:"",empresa:"",listaCatalogo:[],tableData:[],columns:["anio","descripcion","descargar"],options:{headings:{anio:"Acciones"},perPage:10,perPageValues:[],skin:o.skin,sortIcon:o.sortIcon,filterByColumn:!0,texts:o.texts},tableDataDetalle:[],columnsDetalle:["data.id","tipo","data.mes","data.anio"],optionsDetalle:{headings:{"data.id":"Acciones","data.mes":"Mes","data.anio":"Año"},perPage:10,perPageValues:[],skin:o.skin,sortIcon:o.sortIcon,filterByColumn:!0,texts:o.texts}}},methods:{getDataI:function(){var t=this;axios.get("ti/programanamtto/obtenerprogramas/"+this.company).then((function(e){t.tableData=e.data})).catch((function(t){console.error(t)}))},buscarCFW:function(){this.getDataI()},buscarCSCT:function(){this.getDataI()},buscar:function(t,e){if(""===this.tipo)toastr.warning("Seleccione un tipo para realizar una busqueda");else if(t.length>2){var a=this;setTimeout((function(){axios.post("get/material/ti/descripcion/programa",{des:t,tipo:a.tipo}).then((function(t){a.listaCatalogo=t.data})).catch((function(t){console.error(t)}))}),1e3)}},asignar:function(){this.marca=this.caiv.marca,this.modelo=this.caiv.modelo,this.num_serie=this.caiv.no_serie},vaciar:function(){this.caiv="",this.tipo="",this.marca="",this.modelo="",this.num_serie="",this.mes="",this.anio="",this.empresa=""},abrirModal:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];1==t?(this.vaciar(),this.modal=1,this.tituloModal="Guardar",this.tipoAccion=1):2==t&&(this.vaciar(),this.modal=1,this.tituloModal="Actualizar",this.tipoAccion=2,this.caiv={id:e.data.caiv,descripcion:e.tipo,marca:e.data.marca,modelo:e.data.modelo,no_serie:e.data.num_serie},this.id=e.data.id,this.tipo=e.data.tipo,this.marca=e.data.marca,this.modelo=e.data.modelo,this.num_serie=e.data.num_serie,this.mes=e.data.mes,this.anio=e.data.anio,this.empresa=e.data.empresa)},cerrarModal:function(){this.modal=0},descargar:function(t){window.open("ti/programanamtto/descargar/"+t+"&"+this.company,"_blank")},Guardar:function(t){var e=this;this.$validator.validate().then((function(a){a&&(e.isLoading=!0,axios({method:t?"POST":"PUT",url:t?"ti/programanamtto/guardar":"ti/programanamtto/actualizar",data:{id:e.id,caiv:e.caiv.id,tipo:e.tipo,marca:e.marca,modelo:e.modelo,num_serie:e.num_serie,mes:e.mes,anio:e.anio,empresa:e.empresa}}).then((function(a){toastr.success(t?"Guardado Correctamente":"Actualizado Correctamente"),e.getDataI(),e.cerrarModal(),t||e.verdetalle(e.anio_busqueda),e.isLoading=!1})).catch((function(t){e.isLoading=!1,console.error(t)})))}))},verdetalle:function(t){var e=this;this.anio_busqueda=t,axios.get("ti/programanamtto/obtenerequipos"+t+"&"+this.company).then((function(t){e.detalle=!0,e.tableDataDetalle=t.data})).catch((function(t){console.error()}))},atras:function(){this.detalle=!1},eliminar:function(t){var e=this;Swal.fire({title:"Esta seguro(a) de eliminar ?",text:"Esta opción no se podrá desahacer!",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si",cancelButtonText:"No"}).then((function(a){a.value&&axios.get("ti/programanamtto/eliminar/"+t).then((function(t){e.verdetalle(e.anio_busqueda)})).catch((function(t){console.error()}))}))}},mounted:function(){this.getDataI()}};const r=(0,a(14486).A)(i,(function(){var t=this,e=t._self._c;return e("main",{staticClass:"main"},[e("div",{staticClass:"container-fluid"},[e("div",{directives:[{name:"show",rawName:"v-show",value:!t.detalle,expression:"!detalle"}],staticClass:"card"},[e("div",{staticClass:"card-header"},[e("i",{staticClass:"fa fa-align-justify"}),t._v(" Programa anual de mantenimiento preventivo "+t._s(1==t.company?"CONSERFLOW":"CSCT")+"\n                "),e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn btn-secondary dropdown-toggle float-sm-right",attrs:{type:"button",id:"dropdownMenu2","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("\n                        Empresa\n                    ")]),t._v(" "),e("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenu2"}},[e("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(e){t.company=1,t.buscarCFW()}}},[t._v("Conserflow")]),t._v(" "),e("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(e){t.company=2,t.buscarCSCT()}}},[t._v("CSCT")])])]),t._v(" "),e("button",{staticClass:"btn btn-dark float-sm-right",attrs:{type:"button"},on:{click:function(e){return t.abrirModal(1)}}},[e("i",{staticClass:"fas fa-plus"},[t._v(" ")]),t._v("Nuevo\n                ")])]),t._v(" "),e("div",{staticClass:"card-body"},[e("v-client-table",{attrs:{data:t.tableData,options:t.options,columns:t.columns},scopedSlots:t._u([{key:"anio",fn:function(a){return[e("div",{staticClass:"btn-group",attrs:{role:"group"}},[e("button",{staticClass:"btn btn-outline-dark dropdown-toggle",attrs:{id:"btn_id",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("i",{staticClass:"fas fa-grip-horizontal"}),t._v(" \n                            ")]),t._v(" "),e("div",{staticClass:"dropdown-menu"},[[e("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(e){return t.verdetalle(a.row.anio)}}},[e("i",{staticClass:"fas fa-eye"}),t._v(" Ver detalles\n                                    ")])]],2)])]}},{key:"descargar",fn:function(a){return[e("button",{staticClass:"btn btn-outline-dark",attrs:{type:"button"},on:{click:function(e){return t.descargar(a.row.anio)}}},[e("i",{staticClass:"fas fa-download"}),t._v(" \n                        ")])]}},{key:"descripcion",fn:function(a){return[e("span",[t._v("PROGRAMA ANUAL DE MANTENIMIENTO PREVENTIVO DE EQUIPO DE TI "+t._s(a.row.anio))])]}}])})],1)]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.detalle,expression:"detalle"}],staticClass:"card"},[e("div",{staticClass:"card-header"},[e("i",{staticClass:"fa fa-align-justify"}),t._v(" Programa anual de mantenimiento preventivo\n                "),e("button",{staticClass:"btn btn-secondary float-sm-right",attrs:{type:"button"},on:{click:function(e){return t.atras()}}},[e("i",{staticClass:"fas fa-arrow-left"},[t._v(" ")]),t._v("Atras\n                ")])]),t._v(" "),e("div",{staticClass:"card-body"},[e("v-client-table",{attrs:{data:t.tableDataDetalle,options:t.optionsDetalle,columns:t.columnsDetalle},scopedSlots:t._u([{key:"data.id",fn:function(a){return[e("div",{staticClass:"btn-group",attrs:{role:"group"}},[e("button",{staticClass:"btn btn-outline-dark dropdown-toggle",attrs:{id:"btn_id",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("i",{staticClass:"fas fa-grip-horizontal"}),t._v(" \n                            ")]),t._v(" "),e("div",{staticClass:"dropdown-menu"},[[e("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(e){return t.abrirModal(2,a.row)}}},[e("i",{staticClass:"fas fa-eye"}),t._v(" Actualizar\n                                    ")]),t._v(" "),e("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(e){return t.eliminar(a.row.data.id)}}},[e("i",{staticClass:"fas fa-trash"}),t._v(" Eliminar\n                                    ")])]],2)])]}},{key:"data.mes",fn:function(a){return[1==a.row.data.mes?[e("span",[t._v("Enero")])]:t._e(),t._v(" "),2==a.row.data.mes?[e("span",[t._v("Febrero")])]:t._e(),t._v(" "),3==a.row.data.mes?[e("span",[t._v("Marzo")])]:t._e(),t._v(" "),4==a.row.data.mes?[e("span",[t._v("Abril")])]:t._e(),t._v(" "),5==a.row.data.mes?[e("span",[t._v("Mayo")])]:t._e(),t._v(" "),6==a.row.data.mes?[e("span",[t._v("Junio")])]:t._e(),t._v(" "),7==a.row.data.mes?[e("span",[t._v("Julio")])]:t._e(),t._v(" "),8==a.row.data.mes?[e("span",[t._v("Agosto")])]:t._e(),t._v(" "),9==a.row.data.mes?[e("span",[t._v("Septiembre")])]:t._e(),t._v(" "),10==a.row.data.mes?[e("span",[t._v("Octubre")])]:t._e(),t._v(" "),11==a.row.data.mes?[e("span",[t._v("Noviembre")])]:t._e(),t._v(" "),12==a.row.data.mes?[e("span",[t._v("Diciembre")])]:t._e()]}}])})],1)]),t._v(" "),e("div",{staticClass:"modal fade",class:{mostrar:t.modal},staticStyle:{display:"none"},attrs:{tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-dark modal-lg",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h4",{staticClass:"modal-title",domProps:{textContent:t._s(t.tituloModal)}}),t._v(" "),e("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.cerrarModal()}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),t._v(" "),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"form-row"},[e("div",{staticClass:"col-md-3 mb-3"},[e("label",[t._v("Tipo")]),t._v(" "),e("select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.tipo,expression:"tipo"}],staticClass:"form-control",attrs:{"data-vv-name":"tipo"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.tipo=e.target.multiple?a:a[0]}}},[e("option",{attrs:{value:""}},[t._v("Seleccione")]),t._v(" "),e("option",{attrs:{value:"1"}},[t._v("Computo")]),t._v(" "),e("option",{attrs:{value:"3"}},[t._v("Impresion")])]),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("tipo")))])]),t._v(" "),e("div",{staticClass:"col-md-9 mb-3"},[e("label",[t._v("Seleccione")]),t._v(" "),e("v-select",{attrs:{options:t.listaCatalogo,label:"descripcion","data-vv-name":"material"},on:{search:t.buscar,input:function(e){return t.asignar()}},model:{value:t.caiv,callback:function(e){t.caiv=e},expression:"caiv"}})],1)]),t._v(" "),e("div",{staticClass:"form-row"},[e("div",{staticClass:"col-md-3 mb-3"},[e("label",[t._v("Marca")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.marca,expression:"marca"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.marca},on:{input:function(e){e.target.composing||(t.marca=e.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-md-3 mb-3"},[e("label",[t._v("Modelo")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.modelo,expression:"modelo"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.modelo},on:{input:function(e){e.target.composing||(t.modelo=e.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-md-3 mb-3"},[e("label",[t._v("No. Serie")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.num_serie,expression:"num_serie"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.num_serie},on:{input:function(e){e.target.composing||(t.num_serie=e.target.value)}}})])]),t._v(" "),e("div",{staticClass:"form-row"},[e("div",{staticClass:"col-md-3 mb-3"},[e("label",[t._v("Mes Mantenimiento")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.mes,expression:"mes"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.mes=e.target.multiple?a:a[0]}}},[e("option",{attrs:{value:"1"}},[t._v("Enero")]),t._v(" "),e("option",{attrs:{value:"2"}},[t._v("Febrero")]),t._v(" "),e("option",{attrs:{value:"3"}},[t._v("Marzo")]),t._v(" "),e("option",{attrs:{value:"4"}},[t._v("Abril")]),t._v(" "),e("option",{attrs:{value:"5"}},[t._v("Mayo")]),t._v(" "),e("option",{attrs:{value:"6"}},[t._v("Junio")]),t._v(" "),e("option",{attrs:{value:"7"}},[t._v("Julio")]),t._v(" "),e("option",{attrs:{value:"8"}},[t._v("Agosto")]),t._v(" "),e("option",{attrs:{value:"9"}},[t._v("Septiembre")]),t._v(" "),e("option",{attrs:{value:"10"}},[t._v("Octubre")]),t._v(" "),e("option",{attrs:{value:"11"}},[t._v("Noviembre")]),t._v(" "),e("option",{attrs:{value:"12"}},[t._v("Diciembre")])])]),t._v(" "),e("div",{staticClass:"col-md-3 mb-3"},[e("label",[t._v("Año")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.anio,expression:"anio"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.anio},on:{input:function(e){e.target.composing||(t.anio=e.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-md-3 mb-3"},[e("label",[t._v("Empresa")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.empresa,expression:"empresa"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.empresa=e.target.multiple?a:a[0]}}},[e("option",{attrs:{value:"1"}},[t._v("Conserflow")]),t._v(" "),e("option",{attrs:{value:"2"}},[t._v("CSCT")])])])])]),t._v(" "),e("div",{staticClass:"modal-footer"},[e("vue-element-loading",{attrs:{active:t.isLoading}}),t._v(" "),e("button",{staticClass:"btn btn-outline-dark",attrs:{type:"button"},on:{click:function(e){return t.cerrarModal()}}},[e("i",{staticClass:"fas fa-times"}),t._v(" Cerrar")]),t._v(" "),1==t.tipoAccion?e("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.Guardar(1)}}},[e("i",{staticClass:"fas fa-save"}),t._v(" Guardar")]):t._e(),t._v(" "),2==t.tipoAccion?e("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.Guardar(0)}}},[e("i",{staticClass:"fas fa-save"}),t._v(" Actualizar")]):t._e()],1)])])])])])}),[],!1,null,null,null).exports},86340:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>r});var o=a(14941).call(void 0);const i={data:function(){return{url:"ti/mtto/preventivo",list_empleados:[],editar:!0,ver_modal_mtto:0,tipo_equipo_buscar:1,columns_mtto:["mtto.id","mtto.tipo_equipo","equipo.no_serie","mtto.fecha","mtto.actividades","mtto.empleado_sigado","mtto.empelado_revisa"],list_mtto:[],options_mtto:{headings:{"mtto.id":"Acciones","mtto.tipo_equipo":"Tipo","equipo.no_serie":"No. Serie","mtto.fecha":"Fecha","mtto.actividades":"Actividades","mtto.empleado_sigado":"Responsable","mtto.empelado_revisa":"Autorizó"},perPage:10,perPageValues:[],skin:o.skin,sortIcon:o.sortIcon,filterByColumn:!0,texts:o.texts},titulo_modal_mtto:"",tipoAccion_modal_mtto:0,mtto_modal:{equipo:{}},list_consumibles_checked:[],list_consumibles:[],isConsumibles_loading:!1,ver_modal_equipos:!1,columns_equipos:["no_serie","marca_modelo","descripcion","tipo"],list_equipos:[],options_equipos:{perPage:10,perPageValues:[],skin:o.skin,sortIcon:o.sortIcon,filterByColumn:!0,texts:o.texts,listColumns:{tipo:[{id:1,text:"Cómputo"},{id:2,text:"Impresión"},{id:3,text:"Red"}]}}}},computed:{},methods:{AbrirModalMtto:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];axios.get(this.url+"/obtenerpersonal").then((function(t){t.data.status?e.list_empleados=t.data.empleados:toastr.error(t.data.mensaje)})),this.ver_modal_mtto=!0,t?(this.editar=!0,this.ObtenerConsumibles(),this.titulo_modal_mtto="Registrar Mantenimiento",this.tipoAccion_modal_mtto=1):(this.editar=!1,this.titulo_modal_mtto="Actualizar Mantenimiento",this.tipoAccion_modal_mtto=2,this.mtto_modal.equipo.no_serie=a.equipo.no_serie,this.mtto_modal.equipo.marca_modelo=a.equipo.marca_modelo,this.mtto_modal.equipo.descripcion=a.equipo.descripcion,this.mtto_modal.fecha=a.mtto.fecha,this.mtto_modal.hora_inicio=a.mtto.hora_inicio,this.mtto_modal.hora_termino=a.mtto.hora_final,this.mtto_modal.empleado_realizo={id:a.mtto.empleado_asignado,nombre:a.mtto.empleado_sigado},this.mtto_modal.activades=a.mtto.actividades,this.mtto_modal.observaciones=a.mtto.observaciones,this.mtto_modal.empleado_valido={id:a.mtto.empleado_autoriza,nombre:a.mtto.empelado_revisa},this.list_consumibles_checked=a.consumibles)},CerrarModalMtto:function(){this.ver_modal_mtto=!1,this.mtto_modal={equipo:{}}},ObtenerConsumibles:function(){var t=this;this.isConsumibles_loading=!0,axios.get(this.url+"/obtenerconsumibles").then((function(e){if(t.isConsumibles_loading=!1,e.data.status){var a=[];t.list_consumibles=e.data.consumibles,t.list_consumibles.forEach((function(t){a.push({id:t.id,checked:!1})})),t.list_consumibles_checked=a}else toast.errror(e.data.mensaje)}))},AbrirModalEquipos:function(){var t=this;this.ver_modal_equipos=!0,axios.get(this.url+"/obtenerequipos/"+this.tipo_equipo_buscar).then((function(e){e.data.status?t.list_equipos=e.data.equipos:toast.error(e.data.mensaje)}))},CerrarModalEquipos:function(){this.ver_modal_equipos=0},SeleccionarEquipo:function(t){var e=t.row;console.error(t.row),this.mtto_modal.equipo={id:e.id,no_serie:e.no_serie,marca_modelo:e.marca_modelo,descripcion:e.descripcion,tipo:e.tipo},this.ver_modal_equipos=!1},GuardarMtto:function(t){var e=this;this.$validator.validate().then((function(a){if(a)if(null!=e.mtto_modal.equipo.id){e.isMtto_loading=!0;var o=e.list_consumibles_checked.filter((function(t){return t.checked})),i="";o.forEach((function(t){i+=t.id+"&"}));var r=new FormData;t||r.append("id",e.mtto_modal.id),r.append("fecha",e.mtto_modal.fecha),r.append("tipo_equipo",e.mtto_modal.equipo.tipo),r.append("equipo_id",e.mtto_modal.equipo.id),r.append("hora_inicio",e.mtto_modal.hora_inicio),r.append("hora_final",e.mtto_modal.hora_termino),r.append("empleado_asignado",e.mtto_modal.empleado_realizo.id),r.append("empleado_autoriza",e.mtto_modal.empleado_valido.id),r.append("actividades",e.mtto_modal.activades),r.append("observaciones",e.mtto_modal.observaciones),r.append("list_consumibles",i),axios.post(e.url+"/guardar",r).then((function(t){e.isMtto_loading=!1,t.data.status?(toastr.success("Registrado correctamente"),e.CerrarModalMtto(),e.ObtenerMttos()):toastr.error(t.data.mensaje)}))}else toastr.warning("Weeee, te falta el equipo");else Swal.fire({title:"Llena todos los campos, padre santo",text:"¿Acaso eres de #Cantidad?",imageUrl:"https://i.insider.com/5d9b47375d21aa31517a1c09?width=1000&format=jpeg&auto=webp",imageWidth:300,imageHeight:150,imageAlt:"No se ve dx"})}))},ObtenerMttos:function(){var t=this;this.isMttos_loading=!0,axios.get(this.url+"/obtener").then((function(e){t.isMttos_loading=!0,e.data.status?t.list_mtto=e.data.mantenimientos:toastr.error(e.data.mensaje)}))},NuevoConsumible:function(){var t=this;Swal.fire({title:"Registrar Consumible/Refacción",input:"text",showCancelButton:!0,confirmButtonText:"Guardar",showLoaderOnConfirm:!0}).then((function(e){null!=e.value&&e.value.length>=3&&axios.post(t.url+"registrarconsumible",{nombre:e.value}).then((function(e){e.data.status?(toastr.success("Registrado"),t.ObtenerConsumibles()):toast.error(e.data.mensaje)}))}))},Reporte:function(t){window.open(this.url+"/reporte/"+t.id,"_blank")}},mounted:function(){this.ObtenerMttos()}};const r=(0,a(14486).A)(i,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"main"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-header"},[e("i",{staticClass:"fa fa-align-justify"}),t._v(" Reporte de Mantenimiento Preventivo\n            "),e("button",{staticClass:"btn btn-dark float-sm-right",attrs:{type:"button"},on:{click:function(e){return t.AbrirModalMtto(!0)}}},[e("i",{staticClass:"fas fa-plus"},[t._v(" ")]),t._v("Nuevo\n            ")])]),t._v(" "),e("div",{staticClass:"card-body"},[e("div",{},[e("div",{},[e("v-client-table",{ref:"tbl_mtto",attrs:{columns:t.columns_mtto,data:t.list_mtto,options:t.options_mtto},scopedSlots:t._u([{key:"mtto.tipo_equipo",fn:function(a){return[1==a.row.mtto.tipo_equipo?e("p",[t._v("Cómputo")]):2==a.row.mtto.tipo_equipo?e("p",[t._v("Impresión")]):3==a.row.mtto.tipo_equipo?e("p",[t._v("Red")]):e("p",[t._v("WFT??")])]}},{key:"mtto.id",fn:function(a){return[e("div",{staticClass:"btn-group",attrs:{role:"group"}},[e("button",{staticClass:"btn btn-outline-dark dropdown-toggle",attrs:{id:"btn_id",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("i",{staticClass:"fas fa-grip-horizontal"}),t._v("  Acciones\n                                ")]),t._v(" "),e("div",{staticClass:"dropdown-menu"},[[e("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(e){return t.AbrirModalMtto(!1,a.row)}}},[e("i",{staticClass:"fas fa-edit"}),t._v(" Detalles\n                                        ")]),t._v(" "),e("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(e){return t.Reporte(a.row.mtto)}}},[e("i",{staticClass:"fas fa-file-pdf"}),t._v(" Descargar\n                                        ")])]],2)])]}}])})],1)])])]),t._v(" "),e("div",{staticClass:"modal fade",class:{mostrar:t.ver_modal_mtto},staticStyle:{display:"none"},attrs:{tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-dark modal-lg",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h4",{staticClass:"modal-title",domProps:{textContent:t._s(t.titulo_modal_mtto)}}),t._v(" "),e("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.CerrarModalMtto()}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("x")])])]),t._v(" "),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-md-2 form-control-label"},[t._v("Tipo")]),t._v(" "),e("div",{staticClass:"col-md-4"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.tipo_equipo_buscar,expression:"tipo_equipo_buscar"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.tipo_equipo_buscar=e.target.multiple?a:a[0]}}},[e("option",{attrs:{value:"1"}},[t._v("Cómputo")]),t._v(" "),e("option",{attrs:{value:"2"}},[t._v("Impresión")]),t._v(" "),e("option",{attrs:{value:"3"}},[t._v("Red")])])]),t._v(" "),e("button",{staticClass:"btn btn-dark btn-sm",attrs:{disabled:!t.editar},on:{click:function(e){return t.AbrirModalEquipos()}}},[t._v(" Buscar\n                            "),e("i",{staticClass:"fas fa-button"})])]),t._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-md-2 form-control-label"},[t._v("No. Serie")]),t._v(" "),e("div",{staticClass:"col-md-6"},[e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.mtto_modal.equipo.no_serie,expression:"mtto_modal.equipo.no_serie"}],staticClass:"form-control",attrs:{type:"text",name:"no_serie",disabled:!0},domProps:{value:t.mtto_modal.equipo.no_serie},on:{input:function(e){e.target.composing||t.$set(t.mtto_modal.equipo,"no_serie",e.target.value)}}})])]),t._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-md-2 form-control-label"},[t._v("Marca/Modelo")]),t._v(" "),e("div",{staticClass:"col-md-6"},[e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:'"required"'},{name:"model",rawName:"v-model",value:t.mtto_modal.equipo.marca_modelo,expression:"mtto_modal.equipo.marca_modelo"}],staticClass:"form-control",attrs:{type:"text",disabled:!0,"data-vv-name":"No. Serie"},domProps:{value:t.mtto_modal.equipo.marca_modelo},on:{input:function(e){e.target.composing||t.$set(t.mtto_modal.equipo,"marca_modelo",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("No. Serie")))])])]),t._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-md-2 form-control-label"},[t._v("Descripción")]),t._v(" "),e("div",{staticClass:"col-md-8"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.mtto_modal.equipo.descripcion,expression:"mtto_modal.equipo.descripcion"}],staticClass:"form-control",attrs:{disabled:!0,cols:"4"},domProps:{value:t.mtto_modal.equipo.descripcion},on:{input:function(e){e.target.composing||t.$set(t.mtto_modal.equipo,"descripcion",e.target.value)}}})])]),t._v(" "),e("div",{staticClass:"form-row"},[e("div",{staticClass:"col-md-3 mb-3"},[e("label",{staticClass:"form-control-label"},[t._v("Fecha")]),t._v(" "),e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:'"required"'},{name:"model",rawName:"v-model",value:t.mtto_modal.fecha,expression:"mtto_modal.fecha"}],staticClass:"form-control",attrs:{type:"date","data-vv-name":"Fecha"},domProps:{value:t.mtto_modal.fecha},on:{input:function(e){e.target.composing||t.$set(t.mtto_modal,"fecha",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Fecha")))])]),t._v(" "),e("div",{staticClass:"col-md-3 mb-3"},[e("label",{staticClass:"form-control-label"},[t._v("Hora Inicio")]),t._v(" "),e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:'"required"'},{name:"model",rawName:"v-model",value:t.mtto_modal.hora_inicio,expression:"mtto_modal.hora_inicio"}],staticClass:"form-control",attrs:{type:"time",min:"08:00",max:"18:00","data-vv-name":"Hora Inicio"},domProps:{value:t.mtto_modal.hora_inicio},on:{input:function(e){e.target.composing||t.$set(t.mtto_modal,"hora_inicio",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Hora Inicio")))])]),t._v(" "),e("div",{staticClass:"col-md-3 mb-3"},[e("label",{staticClass:"form-control-label"},[t._v("Hora Termino")]),t._v(" "),e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:'"required"'},{name:"model",rawName:"v-model",value:t.mtto_modal.hora_termino,expression:"mtto_modal.hora_termino"}],staticClass:"form-control",attrs:{type:"time",min:"08:00",max:"18:00","data-vv-name":"Hora Termino"},domProps:{value:t.mtto_modal.hora_termino},on:{input:function(e){e.target.composing||t.$set(t.mtto_modal,"hora_termino",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Hora Termino")))])])]),t._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-md-2 form-control-label"},[t._v("Persona asignada")]),t._v(" "),e("div",{staticClass:"col-md-9"},[e("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:'"required"'}],attrs:{label:"nombre",options:t.list_empleados,"data-vv-name":"Persona asignada"},model:{value:t.mtto_modal.empleado_realizo,callback:function(e){t.$set(t.mtto_modal,"empleado_realizo",e)},expression:"mtto_modal.empleado_realizo"}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Persona asignada")))])],1)]),t._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-md-2 form-control-label"},[t._v("Actividades")]),t._v(" "),e("div",{staticClass:"col-md-10"},[e("textarea",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:'"required"'},{name:"model",rawName:"v-model",value:t.mtto_modal.activades,expression:"mtto_modal.activades"}],staticClass:"form-control",attrs:{cols:"4",rows:"5","data-vv-name":"Actividades"},domProps:{value:t.mtto_modal.activades},on:{input:function(e){e.target.composing||t.$set(t.mtto_modal,"activades",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Actividades")))])])]),t._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-md-2 form-control-label"},[t._v("Observaciones")]),t._v(" "),e("div",{staticClass:"col-md-10"},[e("textarea",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:'"required"'},{name:"model",rawName:"v-model",value:t.mtto_modal.observaciones,expression:"mtto_modal.observaciones"}],staticClass:"form-control",attrs:{cols:"4",rows:"5","data-vv-name":"Observaciones"},domProps:{value:t.mtto_modal.observaciones},on:{input:function(e){e.target.composing||t.$set(t.mtto_modal,"observaciones",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Observaciones")))])])]),t._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-md-2 form-control-label"},[t._v("Refacciones")]),t._v(" "),e("vue-element-loading",{attrs:{active:t.isConsumibles_loading}}),t._v(" "),e("div",{staticClass:"col-md-10"},[1==t.tipoAccion_modal_mtto?e("div",{staticClass:"row"},t._l(t.list_consumibles,(function(a,o){return e("div",{key:a.id,staticClass:"col col-sm-4"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.list_consumibles_checked[o].checked,expression:"list_consumibles_checked[i].checked"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.list_consumibles_checked[o].checked)?t._i(t.list_consumibles_checked[o].checked,null)>-1:t.list_consumibles_checked[o].checked},on:{change:function(e){var a=t.list_consumibles_checked[o].checked,i=e.target,r=!!i.checked;if(Array.isArray(a)){var s=t._i(a,null);i.checked?s<0&&t.$set(t.list_consumibles_checked[o],"checked",a.concat([null])):s>-1&&t.$set(t.list_consumibles_checked[o],"checked",a.slice(0,s).concat(a.slice(s+1)))}else t.$set(t.list_consumibles_checked[o],"checked",r)}}}),t._v(" "),e("label",{staticClass:"form-control-label"},[t._v(t._s(a.nombre))])])})),0):t._e(),t._v(" "),2==t.tipoAccion_modal_mtto?e("div",{staticClass:"row"},t._l(t.list_consumibles_checked,(function(a,o){return e("div",{key:a.id,staticClass:"col col-sm-4"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.list_consumibles_checked[o].checked,expression:"list_consumibles_checked[i].checked"}],attrs:{type:"checkbox",disabled:""},domProps:{checked:Array.isArray(t.list_consumibles_checked[o].checked)?t._i(t.list_consumibles_checked[o].checked,null)>-1:t.list_consumibles_checked[o].checked},on:{change:function(e){var a=t.list_consumibles_checked[o].checked,i=e.target,r=!!i.checked;if(Array.isArray(a)){var s=t._i(a,null);i.checked?s<0&&t.$set(t.list_consumibles_checked[o],"checked",a.concat([null])):s>-1&&t.$set(t.list_consumibles_checked[o],"checked",a.slice(0,s).concat(a.slice(s+1)))}else t.$set(t.list_consumibles_checked[o],"checked",r)}}}),t._v(" "),e("label",{staticClass:"form-control-label"},[t._v(t._s(a.nombre))])])})),0):t._e(),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col text-right mr-2"},[e("button",{staticClass:"btn btn-sm btn-dark",attrs:{disabled:!t.editar},on:{click:t.NuevoConsumible}},[e("i",{staticClass:"fas fa-plus"}),t._v(" Nuevo\n                                    ")])])])])],1),t._v(" "),e("div",{staticClass:"form-group row"},[e("div",{staticClass:"col-md-6"},[e("label",{staticClass:"col-md-3 form-control-label"},[t._v("Realizó")]),t._v(" "),e("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:'"required"'}],attrs:{label:"nombre",options:t.list_empleados,"data-vv-name":"Realizó"},model:{value:t.mtto_modal.empleado_realizo,callback:function(e){t.$set(t.mtto_modal,"empleado_realizo",e)},expression:"mtto_modal.empleado_realizo"}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Realizó")))])],1),t._v(" "),e("div",{staticClass:"col-md-6"},[e("label",{staticClass:"control-label"},[t._v("Validó")]),t._v(" "),e("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:'"required"'}],attrs:{label:"nombre",options:t.list_empleados,"data-vv-name":"Validó"},model:{value:t.mtto_modal.empleado_valido,callback:function(e){t.$set(t.mtto_modal,"empleado_valido",e)},expression:"mtto_modal.empleado_valido"}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Validó")))])],1)])]),t._v(" "),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-outline-dark",attrs:{type:"button"},on:{click:function(e){return t.CerrarModalMtto()}}},[e("i",{staticClass:"fas fa-times"}),t._v(" Cerrar")]),t._v(" "),1==t.tipoAccion_modal_mtto?e("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.GuardarMtto(1)}}},[e("i",{staticClass:"fas fa-save"}),t._v(" Guardar")]):t._e()])])])]),t._v(" "),e("div",{staticClass:"modal fade",class:{mostrar:t.ver_modal_equipos},staticStyle:{display:"none"},attrs:{tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-dark modal-lg",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h4",{staticClass:"modal-title"},[t._v("Buscar equipos")]),t._v(" "),e("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.CerrarModalEquipos()}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("x")])])]),t._v(" "),e("div",{staticClass:"modal-body"},[e("v-client-table",{attrs:{columns:t.columns_equipos,data:t.list_equipos,options:t.options_equipos},on:{"row-click":t.SeleccionarEquipo}})],1),t._v(" "),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-outline-dark",attrs:{type:"button"},on:{click:function(e){return t.CerrarModalEquipos()}}},[e("i",{staticClass:"fas fa-times"}),t._v(" Cerrar")])])])])])])}),[],!1,null,null,null).exports},35752:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>c});var o=a(60173);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function r(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,o)}return a}function s(t,e,a){return(e=function(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var o=a.call(t,e||"default");if("object"!=i(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==i(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var n=a(14941).call(void 0);const l={data:function(){return{url_matrizrequisitos:"ti/matrizrequisitos",tipoAccion_matrizrequisitos:1,tipoCardMatrizRequisitos:1,list_puestos:[],PermisosCRUD:{},ver_modal_matrizrequisitos:!1,tituloModal_matrizrequisitos:"",matrizrequisitos_id:0,isGuardarmatrizrequisitos_loading:!1,isObtenermatrizrequisitos_loading:!1,columns_matrizrequisitos:["id","puesto","puesto_jefe","software","equipo","accesorios","impresora","red","otro"],list_matrizrequisitos:[],matrizrequisitos:{},options_matrizrequisitos:{headings:{id:"Acciones",puesto_id:"Puesto",puesto_jefe_id:"Jefatura del puesto",software:"Software",equipo:"Características del equipo",accesorios:"Accesorios",impresora:"Impresora",red:"Red",otro:"Otro"},perPage:10,perPageValues:[],skin:n.skin,sortIcon:n.sortIcon,filterByColumn:!0,texts:n.texts}}},methods:{ObtenerMatrizRequisitos:function(){var t=this;this.isObtenermatrizrequisitos_loading=!0,axios.get(this.url_matrizrequisitos+"/obtener").then((function(e){t.isObtenermatrizrequisitos_loading=!1,e.data.status?t.list_matrizrequisitos=e.data.matrizrequisitos:toastr.error(e.data.mensaje)}))},AbrirModalMatrizRequisitos:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.ObtenerPuestos(),this.ver_modal_matrizrequisitos=!0,t?(this.tituloModal_matrizrequisitos="Registrar Matriz de Requisitos",this.tipoAccion_matrizrequisitos=1):(this.tituloModal_matrizrequisitos="Actualizar Matriz de Requisitos",this.tipoAccion_matrizrequisitos=2,this.matrizrequisitos=function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?r(Object(a),!0).forEach((function(e){s(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},e),this.matrizrequisitos.puesto_jefe={id:e.puesto_jefe_id,nombre:e.puesto_jefe})},ObtenerPuestos:function(){var t=this;axios.get("generales/puestos").then((function(e){e.data.status?t.list_puestos=e.data.puestos:toastr.error(e.data.mensaje)}))},RegistrarMatrizRequisitos:function(t){var e=this;this.$validator.validate().then((function(a){if(a){var o=new FormData;t||o.append("id",e.matrizrequisitos.id),o.append("puesto",e.matrizrequisitos.puesto),o.append("puesto_jefe_id",e.matrizrequisitos.puesto_jefe.id),o.append("software",e.matrizrequisitos.software),o.append("equipo",e.matrizrequisitos.equipo),o.append("accesorios",e.matrizrequisitos.accesorios),o.append("impresora",e.matrizrequisitos.impresora),o.append("red",e.matrizrequisitos.red),o.append("otro",e.matrizrequisitos.otro),e.isGuardarmatrizrequisitos_loading=!0,axios.post(e.url_matrizrequisitos+"/guardar",o).then((function(t){e.isGuardarmatrizrequisitos_loading=!1,t.data.status?(toastr.success("Guardado correctamente"),e.ObtenerMatrizRequisitos(),e.CerrarModalMatrizRequisitos()):toastr.error(t.data.mensaje)}))}}))},Descargar:function(){window.open(this.url_matrizrequisitos+"/descargar")},CerrarModalMatrizRequisitos:function(){this.ver_modal_matrizrequisitos=!1,this.matrizrequisitos={}}},mounted:function(){this.PermisosCRUD=o.A.getCRUD(this.$route.path),this.ObtenerMatrizRequisitos()}};const c=(0,a(14486).A)(l,(function(){var t=this,e=t._self._c;return e("main",{staticClass:"main"},[e("div",{directives:[{name:"show",rawName:"v-show",value:1==t.tipoCardMatrizRequisitos,expression:"tipoCardMatrizRequisitos==1"}],staticClass:"card"},[e("div",{staticClass:"card-header"},[e("i",{staticClass:"fa fa-align-justify"}),t._v(" MATRIZ DE REQUISITOS POR PUESTO\n            "),t.PermisosCRUD.Create?e("button",{staticClass:"btn btn-dark float-sm-right",attrs:{type:"button"},on:{click:function(e){return t.AbrirModalMatrizRequisitos(!0)}}},[e("i",{staticClass:"fas fa-plus mr-1"}),t._v("Nuevo\n            ")]):t._e(),t._v(" "),t.PermisosCRUD.Download?e("button",{staticClass:"btn btn-dark mr-1 float-sm-right",attrs:{type:"button"},on:{click:t.Descargar}},[e("i",{staticClass:"fas fa-file-pdf mr-1"}),t._v("Descargar\n            ")]):t._e()]),t._v(" "),e("div",{staticClass:"card-body"},[e("vue-element-loading",{attrs:{active:t.isObtenermatrizrequisitos_loading}}),t._v(" "),e("v-client-table",{attrs:{columns:t.columns_matrizrequisitos,data:t.list_matrizrequisitos,options:t.options_matrizrequisitos},scopedSlots:t._u([{key:"id",fn:function(a){return[e("div",{staticClass:"btn-group",attrs:{role:"group"}},[e("div",{staticClass:"btn-group dropup",attrs:{role:"group"}},[e("button",{staticClass:"btn btn-outline-dark dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("i",{staticClass:"fas fa-grip-horizontal"}),t._v(" Acciones\n                            ")]),t._v(" "),e("div",{staticClass:"dropdown-menu"},[e("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(e){return t.AbrirModalMatrizRequisitos(!1,a.row)}}},[e("i",{staticClass:"fas fa-edit"}),t._v(" Actualizar\n                                ")])])])])]}}])})],1)]),t._v(" "),t.ver_modal_matrizrequisitos?e("div",{staticClass:"modal fade",class:{mostrar:t.ver_modal_matrizrequisitos},staticStyle:{display:"none"},attrs:{tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-dark modal-lg",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",[e("div",{staticClass:"modal-header"},[e("h4",{staticClass:"modal-title",domProps:{textContent:t._s(t.tituloModal_matrizrequisitos)}}),t._v(" "),e("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.CerrarModalMatrizRequisitos()}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("x")])])]),t._v(" "),e("div",{staticClass:"modal-body"},[e("vue-element-loading",{attrs:{active:t.isGuardarmatrizrequisitos_loading}}),t._v(" "),e("div",[e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-md-3 form-control-label"},[t._v("Puesto")]),t._v(" "),e("div",{staticClass:"col-md-9"},[e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.matrizrequisitos.puesto,expression:"matrizrequisitos.puesto"}],staticClass:"form-control",attrs:{type:"text","data-vv-name":"Puesto"},domProps:{value:t.matrizrequisitos.puesto},on:{input:function(e){e.target.composing||t.$set(t.matrizrequisitos,"puesto",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Puesto")))])])]),t._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-md-3 form-control-label"},[t._v("Jefatura del puesto")]),t._v(" "),e("div",{staticClass:"col-md-9"},[e("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"nombre",options:t.list_puestos,"data-vv-name":"Jefatura del puesto"},model:{value:t.matrizrequisitos.puesto_jefe,callback:function(e){t.$set(t.matrizrequisitos,"puesto_jefe",e)},expression:"matrizrequisitos.puesto_jefe"}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Jefatura del puesto")))])],1)]),t._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-md-3 form-control-label"},[t._v("Software")]),t._v(" "),e("div",{staticClass:"col-md-9"},[e("textarea",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.matrizrequisitos.software,expression:"matrizrequisitos.software"}],staticClass:"form-control",attrs:{maxlength:"145",minlength:"5","data-vv-name":"Software"},domProps:{value:t.matrizrequisitos.software},on:{input:function(e){e.target.composing||t.$set(t.matrizrequisitos,"software",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Software")))])])]),t._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-md-3 form-control-label"},[t._v("Características del equipo")]),t._v(" "),e("div",{staticClass:"col-md-9"},[e("textarea",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.matrizrequisitos.equipo,expression:"matrizrequisitos.equipo"}],staticClass:"form-control",attrs:{maxlength:"145",minlength:"5","data-vv-name":"Características del equipo"},domProps:{value:t.matrizrequisitos.equipo},on:{input:function(e){e.target.composing||t.$set(t.matrizrequisitos,"equipo",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Características del equipo")))])])]),t._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-md-3 form-control-label"},[t._v("Accesorios")]),t._v(" "),e("div",{staticClass:"col-md-9"},[e("textarea",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.matrizrequisitos.accesorios,expression:"matrizrequisitos.accesorios"}],staticClass:"form-control",attrs:{type:"text",maxlength:"45",minlength:"3","data-vv-name":"Accesorios"},domProps:{value:t.matrizrequisitos.accesorios},on:{input:function(e){e.target.composing||t.$set(t.matrizrequisitos,"accesorios",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Accesorios")))])])]),t._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-md-3 form-control-label"},[t._v("Impresora")]),t._v(" "),e("div",{staticClass:"col-md-9"},[e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.matrizrequisitos.impresora,expression:"matrizrequisitos.impresora"}],staticClass:"form-control",attrs:{type:"text",maxlength:"50",minlength:"3","data-vv-name":"Impresora",autocomplete:"off"},domProps:{value:t.matrizrequisitos.impresora},on:{input:function(e){e.target.composing||t.$set(t.matrizrequisitos,"impresora",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Impresora")))])])]),t._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-md-3 form-control-label"},[t._v("Red")]),t._v(" "),e("div",{staticClass:"col-md-9"},[e("select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.matrizrequisitos.red,expression:"matrizrequisitos.red"}],staticClass:"form-control",attrs:{"data-vv-name":"Red"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.matrizrequisitos,"red",e.target.multiple?a:a[0])}}},[e("option",{attrs:{value:"SI"}},[t._v("Sí")]),t._v(" "),e("option",{attrs:{value:"NO"}},[t._v("No")])]),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Red")))])])]),t._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-md-3 form-control-label"},[t._v("Otro")]),t._v(" "),e("div",{staticClass:"col-md-9"},[e("textarea",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.matrizrequisitos.otro,expression:"matrizrequisitos.otro"}],staticClass:"form-control",attrs:{type:"text",maxlength:"45",minlength:"3","data-vv-name":"Otro"},domProps:{value:t.matrizrequisitos.otro},on:{input:function(e){e.target.composing||t.$set(t.matrizrequisitos,"otro",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Otro")))])])])])],1),t._v(" "),e("div",{staticClass:"modal-footer"},[e("vue-element-loading",{attrs:{active:t.isGuardarmatrizrequisitos_loading}}),t._v(" "),e("div",[e("button",{staticClass:"btn btn-outline-dark",attrs:{type:"button"},on:{click:function(e){return t.CerrarModalMatrizRequisitos()}}},[e("i",{staticClass:"fas fa-window-close"}),t._v(" Cerrar\n                            ")]),t._v(" "),1==t.tipoAccion_matrizrequisitos?e("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.RegistrarMatrizRequisitos(!0)}}},[e("i",{staticClass:"fas fa-save"}),t._v(" Guardar\n                            ")]):t._e(),t._v(" "),2==t.tipoAccion_matrizrequisitos?e("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.RegistrarMatrizRequisitos(!1)}}},[e("i",{staticClass:"fas fa-save"}),t._v(" Actualizar\n                            ")]):t._e()])],1)])])])]):t._e()])}),[],!1,null,null,null).exports},57686:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>d});var o=a(60173);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function r(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,o)}return a}function s(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?r(Object(a),!0).forEach((function(e){n(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function n(t,e,a){return(e=function(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var o=a.call(t,e||"default");if("object"!=i(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==i(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var l=a(14941).call(void 0);const c={data:function(){return{url_propuesta:"ti/propuesta",tipoAccion_propuesta:1,tipoCardpropuesta:1,PermisosCRUD:{},ver_modal_propuesta:!1,tituloModal_propuesta:"",propuesta_id:0,isGuardarpropuesta_loading:!1,isObtenerpropuesta_loading:!1,columns_propuesta:["id","fecha","puesto_nombre","necesidad_especial","tipo","marca","modelo","descargar"],list_propuesta:[],list_puestos:[],propuesta:{tipo:1,puesto:{}},options_propuesta:{headings:{id:"Acciones",fecha:"Fecha",necesidad_especial:"Necesidad Especial",tipo:"Tipo",marca:"Marca",modelo:"Modelo",puesto_nombre:"Puesto",accesorios:"Accesorios Adicionales"},perPage:10,perPageValues:[],skin:l.skin,sortIcon:l.sortIcon,filterByColumn:!0,texts:l.texts},url_cotizacion:"ti/cotizacion",tipoAccion_cotizacion:1,tipoCardcotizacion:1,ver_modal_cotizacion:!1,tituloModal_cotizacion:"",cotizacion_id:0,isGuardarcotizacion_loading:!1,isObtenercotizacion_loading:!1,columns_cotizacion:["proveedor","marca","costo","forma_pago"],list_cotizacion:[],cotizacion:{},options_cotizacion:{headings:{proveedor:"Proveedor",marca:"Marca",costo:"Costo",forma_pago:"Forma de pago"},perPage:10,perPageValues:[],skin:l.skin,sortIcon:l.sortIcon,filterable:[],sortable:[],filterByColumn:!0,texts:l.texts}}},methods:{Obtenerpropuesta:function(){var t=this;this.isObtenerpropuesta_loading=!0,axios.get(this.url_propuesta+"/obtener").then((function(e){t.isObtenerpropuesta_loading=!1,e.data.status?t.list_propuesta=e.data.propuestas:toastr.error(e.data.mensaje)}))},ObtenerPuestos:function(){var t=this;axios.get("generales/puestos").then((function(e){e.data.status?t.list_puestos=e.data.puestos:toastr.error(e.data.mensaje)}))},AbrirModalpropuesta:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.ObtenerPuestos(),this.ver_modal_propuesta=!0,t?(this.tituloModal_propuesta="Registrar Propuesta de equipo",this.tipoAccion_propuesta=1):(this.tituloModal_propuesta="Actualizar Propuesta de equipo",this.tipoAccion_propuesta=2,this.propuesta=s(s({},e),{},{puesto:{id:e.puesto_id,nombre:e.puesto_nombre}}),this.Obtenercotizacion())},Registrarpropuesta:function(t){var e=this;this.$validator.validate().then((function(a){if(a)if(null!=e.propuesta.puesto.id){var o=new FormData;t||o.append("id",e.propuesta.id),o.append("fecha",e.propuesta.fecha),o.append("necesidad_especial",e.propuesta.necesidad_especial),o.append("tipo",e.propuesta.tipo),o.append("marca",e.propuesta.marca),o.append("puesto_id",e.propuesta.puesto.id),o.append("modelo",e.propuesta.modelo),o.append("almacenamiento",e.propuesta.almacenamiento),o.append("procesador",e.propuesta.procesador),o.append("ram",e.propuesta.ram),o.append("comentarios",e.propuesta.comentarios),o.append("accesorios",e.propuesta.accesorios),e.isGuardarpropuesta_loading=!0,axios.post(e.url_propuesta+"/guardar",o).then((function(t){e.isGuardarpropuesta_loading=!1,t.data.status?(toastr.success("Guardado correctamente"),e.Obtenerpropuesta(),e.CerrarModalpropuesta()):toastr.error(t.data.mensaje)}))}else toastr.warning("Seleccione un puesto")}))},CerrarModalpropuesta:function(){this.ver_modal_propuesta=!1,this.propuesta={}},Obtenercotizacion:function(){var t=this;this.isObtenercotizacion_loading=!0,axios.get(this.url_cotizacion+"/obtener/"+this.propuesta.id).then((function(e){t.isObtenercotizacion_loading=!1,e.data.status?t.list_cotizacion=e.data.cotizacion:toastr.error(e.data.mensaje)}))},AbrirModalcotizacion:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.ver_modal_cotizacion=!0,t?(this.tituloModal_cotizacion="Registrar Cotizaciones",this.tipoAccion_cotizacion=1):(this.tituloModal_cotizacion="Actualizar Cotizaciones",this.tipoAccion_cotizacion=2,this.cotizacion=s({},e))},Registrarcotizacion:function(t){var e=this;this.$validator.validate().then((function(a){if(a){var o=new FormData;t||o.append("id",e.cotizacion.id),o.append("propuesta_id",e.propuesta.id),o.append("proveedor",e.cotizacion.proveedor),o.append("marca",e.cotizacion.marca),o.append("costo",e.cotizacion.costo),o.append("forma_pago",e.cotizacion.forma_pago),e.isGuardarcotizacion_loading=!0,axios.post(e.url_cotizacion+"/guardar",o).then((function(t){e.isGuardarcotizacion_loading=!1,t.data.status?(toastr.success("Guardado correctamente"),e.Obtenercotizacion(),e.CerrarModalcotizacion()):toastr.error(t.data.mensaje)}))}}))},CerrarModalcotizacion:function(){this.ver_modal_cotizacion=!1,this.cotizacion={}},Descargar:function(t){window.open(this.url_propuesta+"/descargar/"+t)}},mounted:function(){this.PermisosCRUD=o.A.getCRUD(this.$route.path),this.Obtenerpropuesta()}};const d=(0,a(14486).A)(c,(function(){var t=this,e=t._self._c;return e("main",{staticClass:"main"},[e("div",{directives:[{name:"show",rawName:"v-show",value:1==t.tipoCardpropuesta,expression:"tipoCardpropuesta==1"}],staticClass:"card"},[e("div",{staticClass:"card-header"},[e("i",{staticClass:"fa fa-align-justify"}),t._v(" PROPUESTA DE EQUIPO\n            "),t.PermisosCRUD.Create?[e("button",{staticClass:"btn btn-dark float-sm-right",attrs:{type:"button"},on:{click:function(e){return t.AbrirModalpropuesta(!0)}}},[e("i",{staticClass:"fas fa-plus"}),t._v(" Nuevo\n                ")])]:t._e()],2),t._v(" "),e("div",{staticClass:"card-body"},[e("vue-element-loading",{attrs:{active:t.isObtenerpropuesta_loading}}),t._v(" "),e("v-client-table",{attrs:{columns:t.columns_propuesta,data:t.list_propuesta,options:t.options_propuesta},scopedSlots:t._u([{key:"id",fn:function(a){return[e("div",{staticClass:"btn-group",attrs:{role:"group"}},[e("div",{staticClass:"btn-group dropup",attrs:{role:"group"}},[e("button",{staticClass:"btn btn-outline-dark dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("i",{staticClass:"fas fa-grip-horizontal"}),t._v(" Acciones\n                            ")]),t._v(" "),e("div",{staticClass:"dropdown-menu"},[e("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(e){return t.AbrirModalpropuesta(!1,a.row)}}},[e("i",{staticClass:"fas fa-edit"}),t._v(" Detalles\n                                ")])])])])]}},{key:"tipo",fn:function(a){return[1==a.row.tipo?e("button",{staticClass:"btn btn-outline-primary"},[t._v("Cómputo")]):t._e(),t._v(" "),2==a.row.tipo?e("button",{staticClass:"btn btn-outline-success"},[t._v("Accesorios")]):t._e(),t._v(" "),3==a.row.tipo?e("button",{staticClass:"btn btn-outline-dark"},[t._v("Impresión")]):t._e(),t._v(" "),4==a.row.tipo?e("button",{staticClass:"btn btn-outline-warning"},[t._v("Vídeo")]):t._e()]}},{key:"descargar",fn:function(a){return[e("button",{staticClass:"btn btn-dark",attrs:{type:"button"},on:{click:function(e){return t.Descargar(a.row.id)}}},[e("i",{staticClass:"fas fa-download"})])]}}])})],1)]),t._v(" "),t.ver_modal_propuesta?e("div",{staticClass:"modal fade",class:{mostrar:t.ver_modal_propuesta},staticStyle:{display:"none"},attrs:{tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-dark modal-lg",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",[e("div",{staticClass:"modal-header"},[e("h4",{staticClass:"modal-title",domProps:{textContent:t._s(t.tituloModal_propuesta)}}),t._v(" "),e("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.CerrarModalpropuesta()}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("x")])])]),t._v(" "),e("div",{staticClass:"modal-body"},[e("vue-element-loading",{attrs:{active:t.isGuardarpropuesta_loading}}),t._v(" "),e("div",[e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-md-3 form-control-label"},[t._v("Fecha")]),t._v(" "),e("div",{staticClass:"col-md-3"},[e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.propuesta.fecha,expression:"propuesta.fecha"}],staticClass:"form-control",attrs:{type:"date","data-vv-name":"Fecha"},domProps:{value:t.propuesta.fecha},on:{input:function(e){e.target.composing||t.$set(t.propuesta,"fecha",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Fecha")))])])]),t._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-md-3 form-control-label"},[t._v("Puesto")]),t._v(" "),e("div",{staticClass:"col-md-9"},[e("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"nombre",options:t.list_puestos,"data-vv-name":"Puesto"},model:{value:t.propuesta.puesto,callback:function(e){t.$set(t.propuesta,"puesto",e)},expression:"propuesta.puesto"}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Puesto")))])],1)]),t._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-md-3 form-control-label"},[t._v("Necesidad Especial")]),t._v(" "),e("div",{staticClass:"col-md-9"},[e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.propuesta.necesidad_especial,expression:"propuesta.necesidad_especial"}],staticClass:"form-control",attrs:{type:"text",maxlength:"75",minlength:"3","data-vv-name":"Necesidad Especial",autocomplete:"off"},domProps:{value:t.propuesta.necesidad_especial},on:{input:function(e){e.target.composing||t.$set(t.propuesta,"necesidad_especial",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Necesidad Especial")))])])]),t._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-md-3 form-control-label"},[t._v("Tipo")]),t._v(" "),e("div",{staticClass:"col-md-4"},[e("select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.propuesta.tipo,expression:"propuesta.tipo"}],staticClass:"form-control",attrs:{"data-vv-name":"Tipo"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.propuesta,"tipo",e.target.multiple?a:a[0])}}},[e("option",{attrs:{value:"1"}},[t._v("Cómputo")]),t._v(" "),e("option",{attrs:{value:"2"}},[t._v("Accesorios")]),t._v(" "),e("option",{attrs:{value:"3"}},[t._v("Impresión")]),t._v(" "),e("option",{attrs:{value:"4"}},[t._v("Vídeo")])]),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Tipo")))])])]),t._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-md-3 form-control-label"},[t._v("Marca")]),t._v(" "),e("div",{staticClass:"col-md-4"},[e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.propuesta.marca,expression:"propuesta.marca"}],staticClass:"form-control",attrs:{type:"text",maxlength:"45",minlength:"2","data-vv-name":"Marca",autocomplete:"off"},domProps:{value:t.propuesta.marca},on:{input:function(e){e.target.composing||t.$set(t.propuesta,"marca",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Marca")))])]),t._v(" "),e("label",{staticClass:"col-md-1 form-control-label"},[t._v("Modelo")]),t._v(" "),e("div",{staticClass:"col-md-4"},[e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.propuesta.modelo,expression:"propuesta.modelo"}],staticClass:"form-control",attrs:{type:"text",maxlength:"45",minlength:"3","data-vv-name":"Modelo",autocomplete:"off"},domProps:{value:t.propuesta.modelo},on:{input:function(e){e.target.composing||t.$set(t.propuesta,"modelo",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Modelo")))])])]),t._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-md-3 form-control-label"},[t._v("Almacenamiento")]),t._v(" "),e("div",{staticClass:"col-md-4"},[e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.propuesta.almacenamiento,expression:"propuesta.almacenamiento"}],staticClass:"form-control",attrs:{type:"text",maxlength:"45",minlength:"3","data-vv-name":"Almacenamiento",autocomplete:"off"},domProps:{value:t.propuesta.almacenamiento},on:{input:function(e){e.target.composing||t.$set(t.propuesta,"almacenamiento",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Almacenamiento")))])])]),t._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-md-3 form-control-label"},[t._v("Procesador")]),t._v(" "),e("div",{staticClass:"col-md-4"},[e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.propuesta.procesador,expression:"propuesta.procesador"}],staticClass:"form-control",attrs:{type:"text",maxlength:"45",minlength:"3","data-vv-name":"Procesador",autocomplete:"off"},domProps:{value:t.propuesta.procesador},on:{input:function(e){e.target.composing||t.$set(t.propuesta,"procesador",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Procesador")))])]),t._v(" "),e("label",{staticClass:"col-md-1 form-control-label"},[t._v("RAM")]),t._v(" "),e("div",{staticClass:"col-md-4"},[e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.propuesta.ram,expression:"propuesta.ram"}],staticClass:"form-control",attrs:{type:"text",maxlength:"45",minlength:"3","data-vv-name":"RAM",autocomplete:"off"},domProps:{value:t.propuesta.ram},on:{input:function(e){e.target.composing||t.$set(t.propuesta,"ram",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("RAM")))])])]),t._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-md-3 form-control-label"},[t._v("Comentarios")]),t._v(" "),e("div",{staticClass:"col-md-9"},[e("textarea",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.propuesta.comentarios,expression:"propuesta.comentarios"}],staticClass:"form-control",attrs:{rows:"4",maxlength:"45",minlength:"1","data-vv-name":"Comentarios"},domProps:{value:t.propuesta.comentarios},on:{input:function(e){e.target.composing||t.$set(t.propuesta,"comentarios",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Comentarios")))])])]),t._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-md-3 form-control-label"},[t._v("Accesorios Adicionales")]),t._v(" "),e("div",{staticClass:"col-md-9"},[e("textarea",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.propuesta.accesorios,expression:"propuesta.accesorios"}],staticClass:"form-control",attrs:{rows:"5",maxlength:"75",minlength:"1","data-vv-name":"Accesorios Adicionales"},domProps:{value:t.propuesta.accesorios},on:{input:function(e){e.target.composing||t.$set(t.propuesta,"accesorios",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Accesorios Adicionales")))])])]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:2==t.tipoAccion_propuesta,expression:"tipoAccion_propuesta==2"}]},[e("h4",[t._v("Cotizaciones")]),t._v(" "),t.PermisosCRUD.Create?[e("button",{staticClass:"btn btn-dark float-sm-right",attrs:{type:"button"},on:{click:function(e){return t.AbrirModalcotizacion(!0)}}},[e("i",{staticClass:"fas fa-plus"}),t._v(" Nuevo\n                                    ")])]:t._e(),t._v(" "),e("br"),t._v(" "),e("br"),t._v(" "),e("vue-element-loading",{attrs:{active:t.isObtenercotizacion_loading}}),t._v(" "),e("v-client-table",{attrs:{columns:t.columns_cotizacion,data:t.list_cotizacion,options:t.options_cotizacion},scopedSlots:t._u([{key:"id",fn:function(a){return[e("div",{staticClass:"btn-group",attrs:{role:"group"}},[e("div",{staticClass:"btn-group dropup",attrs:{role:"group"}},[e("button",{staticClass:"btn btn-outline-dark dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("i",{staticClass:"fas fa-grip-horizontal"}),t._v(" Acciones\n                                                ")]),t._v(" "),e("div",{staticClass:"dropdown-menu"},[e("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(e){return t.AbrirModalcotizacion(!1,a.row)}}},[e("i",{staticClass:"fas fa-edit"}),t._v(" Actualizar\n                                                    ")])])])])]}}],null,!1,3872088222)})],2)])],1),t._v(" "),e("div",{staticClass:"modal-footer"},[e("vue-element-loading",{attrs:{active:t.isGuardarpropuesta_loading}}),t._v(" "),e("div",[e("button",{staticClass:"btn btn-outline-dark",attrs:{type:"button"},on:{click:function(e){return t.CerrarModalpropuesta()}}},[e("i",{staticClass:"fas fa-window-close"}),t._v(" Cerrar\n                            ")]),t._v(" "),1==t.tipoAccion_propuesta?e("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.Registrarpropuesta(!0)}}},[e("i",{staticClass:"fas fa-save"}),t._v(" Guardar\n                            ")]):t._e(),t._v(" "),2==t.tipoAccion_propuesta?e("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.Registrarpropuesta(!1)}}},[e("i",{staticClass:"fas fa-save"}),t._v(" Actualizar\n                            ")]):t._e()])],1)])])])]):t._e(),t._v(" "),t.ver_modal_cotizacion?e("div",{staticClass:"modal fade",class:{mostrar:t.ver_modal_cotizacion},staticStyle:{display:"none"},attrs:{tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-dark modal-lg",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",[e("div",{staticClass:"modal-header"},[e("h4",{staticClass:"modal-title",domProps:{textContent:t._s(t.tituloModal_cotizacion)}}),t._v(" "),e("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.CerrarModalcotizacion()}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("x")])])]),t._v(" "),e("div",{staticClass:"modal-body"},[e("vue-element-loading",{attrs:{active:t.isGuardarcotizacion_loading}}),t._v(" "),e("div",[e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-md-3 form-control-label"},[t._v("Proveedor")]),t._v(" "),e("div",{staticClass:"col-md-9"},[e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.cotizacion.proveedor,expression:"cotizacion.proveedor"}],staticClass:"form-control",attrs:{type:"text",maxlength:"45",minlength:"2","data-vv-name":"Proveedor",autocomplete:"off"},domProps:{value:t.cotizacion.proveedor},on:{input:function(e){e.target.composing||t.$set(t.cotizacion,"proveedor",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Proveedor")))])])]),t._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-md-3 form-control-label"},[t._v("Marca")]),t._v(" "),e("div",{staticClass:"col-md-9"},[e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.cotizacion.marca,expression:"cotizacion.marca"}],staticClass:"form-control",attrs:{type:"text",maxlength:"45",minlength:"2","data-vv-name":"Marca",autocomplete:"off"},domProps:{value:t.cotizacion.marca},on:{input:function(e){e.target.composing||t.$set(t.cotizacion,"marca",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Marca")))])])]),t._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-md-3 form-control-label"},[t._v("Costo")]),t._v(" "),e("div",{staticClass:"col-md-9"},[e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.cotizacion.costo,expression:"cotizacion.costo"}],staticClass:"form-control",attrs:{type:"number",min:"0",max:"99999","data-vv-name":"Costo"},domProps:{value:t.cotizacion.costo},on:{input:function(e){e.target.composing||t.$set(t.cotizacion,"costo",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Costo")))])])]),t._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-md-3 form-control-label"},[t._v("Forma de pago")]),t._v(" "),e("div",{staticClass:"col-md-9"},[e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.cotizacion.forma_pago,expression:"cotizacion.forma_pago"}],staticClass:"form-control",attrs:{type:"text",maxlength:"45",minlength:"3","data-vv-name":"Forma de pago",autocomplete:"off"},domProps:{value:t.cotizacion.forma_pago},on:{input:function(e){e.target.composing||t.$set(t.cotizacion,"forma_pago",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Forma de pago")))])])])])],1),t._v(" "),e("div",{staticClass:"modal-footer"},[e("vue-element-loading",{attrs:{active:t.isGuardarcotizacion_loading}}),t._v(" "),e("div",[e("button",{staticClass:"btn btn-outline-dark",attrs:{type:"button"},on:{click:function(e){return t.CerrarModalcotizacion()}}},[e("i",{staticClass:"fas fa-window-close"}),t._v(" Cerrar\n                            ")]),t._v(" "),1==t.tipoAccion_cotizacion?e("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.Registrarcotizacion(!0)}}},[e("i",{staticClass:"fas fa-save"}),t._v(" Guardar\n                            ")]):t._e(),t._v(" "),2==t.tipoAccion_cotizacion?e("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.Registrarcotizacion(!1)}}},[e("i",{staticClass:"fas fa-save"}),t._v(" Actualizar\n                            ")]):t._e()])],1)])])])]):t._e()])}),[],!1,null,null,null).exports},44497:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>r});var o=a(14941).call(void 0);const i={data:function(){return{url:"ti/historico",isObtenerLoading:!1,isGuardarLoading:!1,modal:0,tituloModal:"",tipoAccion:0,listaEmpleados:[],id:0,tipo:"",usuario:"",problema_servicio:"",fecha_reporte:"",solucion:"",fecha_solucion:"",reincidencia:"",realiza:{},list_empleados:[],list_historico:[],columns:["id","tipo","nombre_usuario","problema_servicio","fecha_reporte","fecha_solucion","empleado_realiza"],reporte_inicio:"",reporte_fin:"",anio:2022,options:{headings:{id:"Acciones",empleado_realiza:"Realiza"},perPage:10,perPageValues:[],skin:o.skin,sortIcon:o.sortIcon,filterByColumn:!0,texts:o.texts}}},methods:{ObtenerHistoricos:function(){var t=this;this.isObtenerLoading=!0,axios.get(this.url+"/obtener").then((function(e){t.isObtenerLoading=!1,e.data.status?t.list_historico=e.data.historico:toastr.error(e.data.mensaje)}))},AbrirModalHistorico:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.ObtenerEmpleados(),this.modal=1,t?(this.tituloModal="GuardarHistorico",this.tipoAccion=1):(this.tituloModal="Actualizar",this.tipoAccion=2,this.id=e.id,this.tipo=e.tipo,this.usuario=e.nombre_usuario,this.problema_servicio=e.problema_servicio,this.fecha_reporte=e.fecha_reporte,this.solucion=e.solucion,this.fecha_solucion=e.fecha_solucion,this.reincidencia=e.reincidencia,this.realiza={id:e.empleado_realiza_id,nombre:e.empleado_realiza})},CerrarModalHistorico:function(){this.vaciar(),this.modal=0},vaciar:function(){this.tipo="",this.usuario="",this.problema_servicio="",this.fecha_reporte="",this.solucion="",this.fecha_solucion="",this.reincidencia=""},GuardarHistorico:function(t){var e=this;this.$validator.validate().then((function(a){if(a){e.isGuardarLoading=!0;var o=new FormData;t||o.append("id",e.id),o.append("tipo",e.tipo),o.append("empleado_id",0),o.append("nombre_usuario",e.usuario),o.append("problema_servicio",e.problema_servicio),o.append("fecha_reporte",e.fecha_reporte),o.append("solucion",e.solucion),o.append("fecha_solucion",e.fecha_solucion),o.append("reincidencia",e.reincidencia),o.append("empleado_realiza_id",e.realiza.id),axios.post(e.url+"/guardar",o).then((function(t){e.isGuardarLoading=!1,t.data.status?(toastr.success("Guardado Correctamente"),e.CerrarModalHistorico(),e.ObtenerHistoricos()):toastr.error(t.data.mensaje)}))}}))},Eliminar:function(t){var e=this;this.isObtenerLoading=!0,axios.post(this.url+"/eliminar",{id:t}).then((function(t){e.isObtenerLoading=!1,t.data.status?(toastr.success("Eliminado Correctamente"),e.ObtenerHistoricos()):toastr.error(t.data)}))},ObtenerEmpleados:function(){var t=this;axios.get("generales/empleadoactivos").then((function(e){e.data.status?t.list_empleados=e.data.empleados:toastr.error(e.data.mensaje)}))},DescargarHistorico:function(){window.open("".concat(this.url,"/descargar/").concat(this.anio))}},mounted:function(){this.ObtenerHistoricos()}};const r=(0,a(14486).A)(i,(function(){var t=this,e=t._self._c;return e("main",{staticClass:"main"},[e("div",{},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-header"},[e("i",{staticClass:"fa fa-align-justify"}),t._v(" Histórico Servicios\n\n                "),e("button",{staticClass:"btn btn-dark float-sm-right",attrs:{type:"button"},on:{click:function(e){return t.AbrirModalHistorico(!0)}}},[e("i",{staticClass:"fas fa-plus"},[t._v(" ")]),t._v("Nuevo\n                ")]),t._v(" "),t._m(0)]),t._v(" "),e("div",{staticClass:"card-body"},[e("div",{staticClass:"collapse multi-collapse",attrs:{id:"multiCollapseExample1"}},[e("div",{staticClass:"container row"},[e("div",{staticClass:"col-md-3"},[e("div",{},[e("label",[t._v("Año")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.anio,expression:"anio"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.anio=e.target.multiple?a:a[0]}}},[e("option",{attrs:{value:"2020"}},[t._v("2020")]),t._v(" "),e("option",{attrs:{value:"2021"}},[t._v("2021")]),t._v(" "),e("option",{attrs:{value:"2022"}},[t._v("2022")])]),t._v(" "),e("button",{staticClass:"btn btn-dark mt-2",on:{click:t.DescargarHistorico}},[t._v("Generar")])])])])]),t._v(" "),e("br"),t._v(" "),e("vue-element-loading",{attrs:{active:t.isObtenerLoading}}),t._v(" "),e("div",[e("v-client-table",{attrs:{data:t.list_historico,options:t.options,columns:t.columns},scopedSlots:t._u([{key:"id",fn:function(a){return[e("div",{staticClass:"btn-group",attrs:{role:"group"}},[e("button",{staticClass:"btn btn-outline-dark dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("i",{staticClass:"fas fa-grip-horizontal"})]),t._v(" "),e("div",{staticClass:"dropdown-menu"},[[e("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(e){return t.AbrirModalHistorico(!1,a.row)}}},[e("i",{staticClass:"fas fa-edit mr-1"}),t._v("Actualizar\n                                        ")]),t._v(" "),e("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(e){return t.Eliminar(a.row.id)}}},[e("i",{staticClass:"fas fa-times mr-1"}),t._v("Eliminar\n                                        ")])]],2)])]}}])})],1)],1)]),t._v(" "),e("div",{staticClass:"modal fade",class:{mostrar:t.modal},staticStyle:{display:"none"},attrs:{tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-dark modal-lg",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h4",{staticClass:"modal-title",domProps:{textContent:t._s(t.tituloModal)}}),t._v(" "),e("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.CerrarModalHistorico()}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("x")])])]),t._v(" "),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"form-row"},[e("div",{staticClass:"col-md-3 mb-3"},[e("label",[t._v("Tipo")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.tipo,expression:"tipo"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{"data-vv-name":"tipo"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.tipo=e.target.multiple?a:a[0]}}},[e("option",{attrs:{value:"PREVENTIVO"}},[t._v("Preventivo")]),t._v(" "),e("option",{attrs:{value:"CORRECTIVO"}},[t._v("Correctivo")])]),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("tipo")))])]),t._v(" "),e("div",{staticClass:"col-md-5 mb-3"},[e("label",[t._v("Usuario")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.usuario,expression:"usuario"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{type:"text","data-vv-name":"usuario"},domProps:{value:t.usuario},on:{input:function(e){e.target.composing||(t.usuario=e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("usuario")))])])]),t._v(" "),e("div",{staticClass:"form-row"},[e("div",{staticClass:"col-md-9 mb-3"},[e("label",[t._v("Problema/Servicio")]),t._v(" "),e("textarea",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.problema_servicio,expression:"problema_servicio"}],staticClass:"form-control",attrs:{name:"name",rows:"2",cols:"80","data-vv-name":"Problema/Servicio"},domProps:{value:t.problema_servicio},on:{input:function(e){e.target.composing||(t.problema_servicio=e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Problema/Servicio")))])]),t._v(" "),e("div",{staticClass:"col-md-3 mb-3"},[e("label",[t._v("Fecha Reporte")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.fecha_reporte,expression:"fecha_reporte"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{type:"date","data-vv-name":"fecha reporte"},domProps:{value:t.fecha_reporte},on:{input:function(e){e.target.composing||(t.fecha_reporte=e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("fecha reporte")))])])]),t._v(" "),e("div",{staticClass:"form-row"},[e("div",{staticClass:"col-md-9 mb-3"},[e("label",[t._v("Solución")]),t._v(" "),e("textarea",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.solucion,expression:"solucion"}],staticClass:"form-control",attrs:{name:"name",rows:"2",cols:"80","data-vv-name":"solucion"},domProps:{value:t.solucion},on:{input:function(e){e.target.composing||(t.solucion=e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("solucion")))])]),t._v(" "),e("div",{staticClass:"col-md-3 mb-3"},[e("label",[t._v("Fecha Solución")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.fecha_solucion,expression:"fecha_solucion"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{type:"date","data-vv-name":"fecha solucion"},domProps:{value:t.fecha_solucion},on:{input:function(e){e.target.composing||(t.fecha_solucion=e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("fecha solucion")))])])]),t._v(" "),e("div",{staticClass:"form-row"},[e("div",{staticClass:"col-md-3 mb-3"},[e("label",[t._v("Reincidencia")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.reincidencia,expression:"reincidencia"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{type:"text","data-vv-name":"reincidencia"},domProps:{value:t.reincidencia},on:{input:function(e){e.target.composing||(t.reincidencia=e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("reincidencia")))])])]),t._v(" "),e("div",{staticClass:"form-row"},[e("div",{staticClass:"col-md-9 mb-3"},[e("label",[t._v("Realiza")]),t._v(" "),e("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"nombre",options:t.list_empleados},model:{value:t.realiza,callback:function(e){t.realiza=e},expression:"realiza"}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("realiza")))])],1)])]),t._v(" "),e("div",{staticClass:"modal-footer"},[e("vue-element-loading",{attrs:{active:t.isObtenerLoading}}),t._v(" "),e("div",[e("button",{staticClass:"btn btn-outline-dark",attrs:{type:"button"},on:{click:function(e){return t.CerrarModalHistorico()}}},[e("i",{staticClass:"fas fa-times"}),t._v(" Cerrar")]),t._v(" "),1==t.tipoAccion?e("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.GuardarHistorico(1)}}},[e("i",{staticClass:"fas fa-save"}),t._v(" Guardar")]):t._e(),t._v(" "),2==t.tipoAccion?e("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.GuardarHistorico(0)}}},[e("i",{staticClass:"fas fa-save"}),t._v(" Actualizar")]):t._e()])],1)])])])])])}),[function(){var t=this._self._c;return t("button",{staticClass:"btn btn-dark float-sm-right mr-1",attrs:{"data-toggle":"collapse",href:"#multiCollapseExample1",role:"button","aria-expanded":"false","aria-controls":"multiCollapseExample1"}},[t("i",{staticClass:"fas fa-file-pdf mr-1"}),this._v("Descargar\n                ")])}],!1,null,null,null).exports},67634:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>d});var o=a(60173),i=a(14941).call(void 0);const r={data:function(){return{path:"",url:"/ti/solicitudes",ver_modal_solicitud:0,columns_solicitud:["id","hash","nombre_empleado","tipo_id","asunto","prioridad","fecha_hora_recibido","fecha_hora_terminado","estado_id"],list_solicitud:[],mostrar_completas:!1,list_solicitud_aux:[],list_solicitud_todas:[],options_solicitud:{headings:{id:"Acciones",hash:"ID",asunto:"Asunto",tipo_id:"Tipo",fecha_hora_recibido:"Solicitado",fecha_hora_termiado:"Terminado",estado_id:"Estado"},perPage:20,perPageValues:[],skin:i.skin,sortIcon:i.sortIcon,filterByColumn:!0,texts:i.texts},titulo_modal_solicitud:"",tipoAccion_modal_solicitud:0,solicitud_modal:{id:0,asunto:"",tipo_id:0,descripcion:""},listImagenes:[]}},computed:{},methods:{ObtenerTodasSolicitudes:function(){var t=this;axios.get(this.url+"/obtenertodas/1").then((function(e){e.data.status?(t.list_solicitud=e.data.solicitudes,t.list_solicitud_todas=e.data.solicitudes,t.Cambiar()):(toastr.error("Intente más tarde","Error"),console.error(e))}))},AbrirModalSolicitud:function(t){this.ver_modal_solicitud=!0,this.titulo_modal_solicitud="Detalle de solicitud",this.tipoAccion_modal_solicitud=1,this.solicitud_modal={id:t.id,asunto:t.asunto,tipo_id:t.tipo_id,descripcion:t.descripcion},this.CargarImagenes2(t.id)},CerrarModalSolicitud:function(){this.ver_modal_solicitud=!1,o.A.resetObject(this.solicitud_modal)},CambiarEstado:function(t){var e=this;Swal.fire({title:"Asignar estado",input:"select",inputOptions:{2:"Recibido",3:"En proceso",4:"Terminado",5:"Cancelado"},showCancelButton:!0}).then((function(a){if(a.value){if(null==a.value)return;if(""!=a.value)if(a.value>=4){var o=4==a.value?"Solución del problema":"Motivo de cancelación";Swal.fire({input:"text",icon:"info",title:o,showDenyButton:!0,text:"",showCancelButton:!0,confirmButtonText:"Confirmar"}).then((function(o){null!=o&&null!=o.value&&""!=o.value&&axios.put(e.url+"/cambiarestado",{id:t.id,estado_id:a.value,mensaje:o.value}).then((function(t){t.data.status?(toastr.success("Estado cambiado correctamente"),e.ObtenerTodasSolicitudes()):toastr.error("Contacte al administrador e intente más tarde","Error")}))}))}else axios.put(e.url+"/cambiarestado",{id:t.id,estado_id:a.value}).then((function(t){t.data.status?(toastr.success("Estado cambiado correctamente"),e.ObtenerTodasSolicitudes()):toastr.error("Contacte al administrador e intente más tarde","Error")}))}}))},AsignarPrioridad:function(t){var e=this;Swal.fire({title:"Asignar estado",input:"select",inputOptions:{1:"Baja",2:"Media",3:"Alta",4:"Urgente"},showCancelButton:!0}).then((function(a){null!=a.value&&""!=a.value&&axios.put(e.url+"/asignarprioridad",{id:t.id,prioridad:a.value}).then((function(t){t.data.status?(toastr.success("Prioridad asignada correctamente"),e.ObtenerTodasSolicitudes()):toastr.error("Contacte al administrador e intente más tarde","Error")}))}))},CargarImagenes2:function(t){var e=this;axios.get(this.url+"/cargarimagenes/"+t).then((function(t){t.data.status?(e.listImagenes=t.data.imagenes,console.error(t.data.imagenes),console.error(t.data)):toastr.error(t.data.mensaje)})).catch((function(t){console.error(t)}))},VerImagen:function(t){window.open(t,"_blank")},Cambiar:function(){this.mostrar_completas?this.list_solicitud=this.list_solicitud_todas:this.list_solicitud=this.list_solicitud.filter((function(t){return 4!=t.estado_id}))}},mounted:function(){this.ObtenerTodasSolicitudes()}};var s=a(85072),n=a.n(s),l=a(86407),c={insert:"head",singleton:!1};n()(l.A,c);l.A.locals;const d=(0,a(14486).A)(r,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"main"},[e("div",{staticClass:"card"},[t._m(0),t._v(" "),e("div",{staticClass:"card-body"},[e("div",{},[e("label",{attrs:{for:"ocultar_completas"}},[t._v("Ver completas")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.mostrar_completas,expression:"mostrar_completas"}],attrs:{type:"checkbox",name:"ocultar_completas"},domProps:{checked:Array.isArray(t.mostrar_completas)?t._i(t.mostrar_completas,null)>-1:t.mostrar_completas},on:{input:function(e){return t.Cambiar()},change:function(e){var a=t.mostrar_completas,o=e.target,i=!!o.checked;if(Array.isArray(a)){var r=t._i(a,null);o.checked?r<0&&(t.mostrar_completas=a.concat([null])):r>-1&&(t.mostrar_completas=a.slice(0,r).concat(a.slice(r+1)))}else t.mostrar_completas=i}}}),t._v(" "),e("div",{},[e("v-client-table",{ref:"tbl_solicitud",attrs:{columns:t.columns_solicitud,data:t.list_solicitud,options:t.options_solicitud},scopedSlots:t._u([{key:"id",fn:function(a){return[e("div",{staticClass:"btn-group",attrs:{role:"group"}},[e("button",{staticClass:"btn btn-outline-dark dropdown-toggle",attrs:{id:"btn_id",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("i",{staticClass:"fas fa-grip-horizontal"}),t._v("  Acciones\n                                ")]),t._v(" "),e("div",{staticClass:"dropdown-menu"},[[e("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(e){return t.AbrirModalSolicitud(a.row)}}},[e("i",{staticClass:"fas fa-eye"}),t._v(" Detalles\n                                        ")]),t._v(" "),a.row.estado_id<4?e("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(e){return t.CambiarEstado(a.row)}}},[e("i",{staticClass:"fas fa-edit"}),t._v(" Cambiar Estado\n                                        ")]):t._e(),t._v(" "),a.row.estado_id<4?e("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(e){return t.AsignarPrioridad(a.row)}}},[e("i",{staticClass:"fas fa-exclamation-triangle"}),t._v(" Asignar prioridad\n                                        ")]):t._e()]],2)])]}},{key:"tipo_id",fn:function(a){return[1==a.row.tipo_id?e("button",{staticClass:"btn btn-primary"},[t._v("Falla del equipo")]):2==a.row.tipo_id?e("button",{staticClass:"btn btn-secondary"},[t._v("Ayuda del ERP")]):3==a.row.tipo_id?e("button",{staticClass:"btn btn-warning"},[t._v("Conexión a Internet")]):4==a.row.tipo_id?e("button",{staticClass:"btn btn-dark"},[t._v("Otro")]):e("button",{staticClass:"btn btn-dark"},[t._v(t._s(a.row.tipo))])]}},{key:"fecha_hora_terminado",fn:function(a){return[null==a.row.fecha_hora_terminado?e("p",[t._v("-")]):e("p",[t._v(t._s(a.row.fecha_hora_terminado))])]}},{key:"estado_id",fn:function(a){return[1==a.row.estado_id?e("button",{staticClass:"btn btn-primary"},[e("i",{staticClass:"fas fa-paper-plane ml-1"}),t._v(" Enviado\n                            ")]):2==a.row.estado_id?e("button",{staticClass:"btn btn-secondary"},[e("i",{staticClass:"fas fa-user-check"}),t._v(" Recibido\n                            ")]):3==a.row.estado_id?e("button",{staticClass:"btn btn-warning"},[e("i",{staticClass:"fas fa-chalkboard-teacher"}),t._v(" En proceso")]):4==a.row.estado_id?e("button",{staticClass:"btn btn-success"},[e("i",{staticClass:"fas fa-check-double"}),t._v(" Terminado")]):5==a.row.estado_id?e("button",{staticClass:"btn btn-danger"},[e("i",{staticClass:"fas fa-times"}),t._v(" Cancelado")]):t._e()]}},{key:"prioridad",fn:function(a){return[1==a.row.prioridad?e("button",{staticClass:"btn btn-primary"},[e("i",{staticClass:"fas fa-paper-plane ml-1"}),t._v("  Baja\n                            ")]):2==a.row.prioridad?e("button",{staticClass:"btn btn-secondary"},[e("i",{staticClass:"fas fa-user-check"}),t._v("  Media\n                            ")]):3==a.row.prioridad?e("button",{staticClass:"btn btn-warning"},[e("i",{staticClass:"fas fa-chalkboard-teacher"}),t._v(" Alta")]):4==a.row.prioridad?e("button",{staticClass:"btn btn-danger"},[e("i",{staticClass:"fas fa-exclamation-triangle"}),t._v(" URGENTE")]):t._e()]}}])})],1)])])]),t._v(" "),e("div",{staticClass:"modal fade",class:{mostrar:t.ver_modal_solicitud},staticStyle:{display:"none"},attrs:{tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-dark modal-lg",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h4",{staticClass:"modal-title",domProps:{textContent:t._s(t.titulo_modal_solicitud)}}),t._v(" "),e("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.CerrarModalSolicitud()}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),t._v(" "),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-md-3 form-control-label"},[t._v("Asunto")]),t._v(" "),e("div",{staticClass:"col-md-9"},[e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.solicitud_modal.asunto,expression:"solicitud_modal.asunto"}],staticClass:"bg-white form-control",attrs:{name:"asunto",disabled:"",placeholder:"Asunto de la solicitud",type:"text"},domProps:{value:t.solicitud_modal.asunto},on:{input:function(e){e.target.composing||t.$set(t.solicitud_modal,"asunto",e.target.value)}}})])]),t._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-md-3 form-control-label"},[t._v("Tipo")]),t._v(" "),e("div",{staticClass:"col-md-9"},[e("select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.solicitud_modal.tipo_id,expression:"solicitud_modal.tipo_id"}],staticClass:"form-control bg-white",attrs:{disabled:"",name:"tipo"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.solicitud_modal,"tipo_id",e.target.multiple?a:a[0])}}},[e("option",{attrs:{value:"1"}},[t._v("Falla de equipo")]),t._v(" "),e("option",{attrs:{value:"2"}},[t._v("Ayuda del ERP")]),t._v(" "),e("option",{attrs:{value:"3"}},[t._v("Conexión a Internet")]),t._v(" "),e("option",{attrs:{value:"4"}},[t._v("Otro")])]),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("tipo")))])])]),t._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-md-3 form-control-label"},[t._v("Descripción")]),t._v(" "),e("div",{staticClass:"col-md-9"},[e("textarea",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.solicitud_modal.descripcion,expression:"solicitud_modal.descripcion"}],staticClass:"form-control bg-white",attrs:{disabled:"",placeholder:"Ingrese una descripción detallada del problema",rows:"5",name:"descripcion"},domProps:{value:t.solicitud_modal.descripcion},on:{input:function(e){e.target.composing||t.$set(t.solicitud_modal,"descripcion",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("descripcion")))])])]),t._v(" "),e("div",{staticClass:"form-group row mt-4 mx-2"},[e("p",[t._v("Imágenes")]),t._v(" "),e("div",{staticClass:"row"},[e("label",{attrs:{for:"Evidencias"}}),t._v(" "),t._l(t.listImagenes,(function(a){return e("div",{key:a.id,staticClass:"col col-5 mt-2 card order border-secondary py-1 px-1"},[e("img",{staticClass:"img-fluid img-ver",attrs:{src:a,alt:"La cabeza y el torso"},on:{click:function(e){return t.VerImagen(a)}}})])}))],2)])]),t._v(" "),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-outline-dark",attrs:{type:"button"},on:{click:function(e){return t.CerrarModalSolicitud()}}},[e("i",{staticClass:"fas fa-times"}),t._v(" Cerrar\n                    ")])])])])])])}),[function(){var t=this._self._c;return t("div",{staticClass:"card-header"},[t("i",{staticClass:"fa fa-align-justify"}),this._v(" Control de solicitudes\n        ")])}],!1,null,null,null).exports},31804:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>p});var o=a(60173),i=a(49133),r=a.n(i),s=a(85072),n=a.n(s),l=a(19030),c={insert:"head",singleton:!1};n()(l.A,c);l.A.locals;var d=a(14941).call(void 0);const u={components:{vueDropzone:r()},data:function(){return{url:"/ti/solicitudes",dropzoneOptions:{url:"https://httpbin.org/post",thumbnailWidth:200,addRemoveLinks:!0,dictCancelUploadConfirmation:!0,dictCancelUpload:"Cancelar",dictUploadCanceled:"cancelar",dictRemoveFile:"Eliminar archivo",maxFilesize:5,acceptedFiles:"image/png,image/jpeg",dictFileTooBig:"El archivo debe ser menor a 5 MB",dictDefaultMessage:"<i class='fas fa-cloud-upload-alt ml-1'></i>"},ver_modal_solicitud:0,columns_solicitud:["tipo","asunto","descripcion","fecha_hora_recibido","fecha_hora_terminado","estado_id"],list_solicitud:[],list_tipos:[],options_solicitud:{headings:{asunto:"Asunto",fecha_hora_recibido:"Solicitado",fecha_hora_termiado:"Terminado",estado_id:"Estado",descripcion:"Descripción"},perPage:10,perPageValues:[],skin:d.skin,sortIcon:d.sortIcon,filterByColumn:!0,texts:d.texts},titulo_modal_solicitud:"",tipoAccion_modal_solicitud:0,solicitud_modal:{},PermisosCrud:{},listaUsuarios:[],Usuario:{id:0,nombre:""}}},computed:{},methods:{ObtenerSolicitudes:function(){var t=this;axios.get(this.url+"/obtener").then((function(e){e.data.status?t.list_solicitud=e.data.solicitudes:(toastr.error("Intente más tarde","Error"),console.error(e))}))},AbrirModalSolicitud:function(){this.ver_modal_solicitud=!0,this.titulo_modal_solicitud="Registrar solicitud",this.tipoAccion_modal_solicitud=1,this.CargarUsuarios(),this.PermisosCrud=o.A.getCRUD(this.$route.path),console.error(this.PermisosCrud)},CargarUsuarios:function(){var t=this;axios.get(this.url+"/usuarios").then((function(e){e.data.status?(t.listaUsuarios=e.data.listaUsuarios,t.Usuario=e.data.usuario):toastr.error("Error al obtener los usuarios")}))},CerrarModalSolicitud:function(){this.ver_modal_solicitud=!1,this.$refs.dropZone.removeAllFiles(),o.A.resetObject(this.solicitud_modal)},GuardarSolicitud:function(){var t=this;this.$validator.validate().then((function(e){if(e){var a=t.$refs.dropZone.getAcceptedFiles();axios.post(t.url+"/registrar",{asunto:t.solicitud_modal.asunto,descripcion:t.solicitud_modal.descripcion,tipo_id:t.solicitud_modal.tipo_id,archivos:a,usuario_id:t.Usuario.id}).then((function(e){e.data.status?(toastr.success("Solitud registrada"),t.CerrarModalSolicitud(),t.ObtenerSolicitudes()):(toastr.error("Intente más tarde","Error"),console.error(e))})).catch((function(e){t.CerrarModalSolicitud(),toastr.error("Intente más tarde","Error"),console.error(e)}))}}))},ComprobarArchivos:function(){var t=this.$refs.dropZone.getAcceptedFiles();return console.error(t),!0},ObtenerTipos:function(){var t=this;this.isObtener_loading=!0,axios.get("ti/tiposolicitu/obtener").then((function(e){e.data.status?t.list_tipos=e.data.tipos:toastr.error(e.data.mensaje)}))}},mounted:function(){this.ObtenerTipos(),this.ObtenerSolicitudes()}};const p=(0,a(14486).A)(u,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"main"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-header"},[e("i",{staticClass:"fa fa-align-justify"}),t._v(" Solicitud\n            "),e("button",{staticClass:"btn btn-dark float-sm-right",attrs:{type:"button"},on:{click:function(e){return t.AbrirModalSolicitud()}}},[e("i",{staticClass:"fas fa-plus"},[t._v(" ")]),t._v("Nuevo\n            ")])]),t._v(" "),e("div",{staticClass:"card-body"},[e("div",{},[e("div",{},[e("v-client-table",{ref:"tbl_solicitud",attrs:{columns:t.columns_solicitud,data:t.list_solicitud,options:t.options_solicitud},scopedSlots:t._u([{key:"fecha_hora_terminado",fn:function(a){return[null==a.row.fecha_hora_terminado?e("p",[t._v("-")]):e("p",[t._v(t._s(a.row.fecha_hora_terminado))])]}},{key:"estado_id",fn:function(a){return[1==a.row.estado_id?e("button",{staticClass:"btn btn-primary"},[e("i",{staticClass:"fas fa-paper-plane ml-1"}),t._v(" Enviado\n                            ")]):2==a.row.estado_id?e("button",{staticClass:"btn btn-secondary"},[e("i",{staticClass:"fas fa-user-check"}),t._v(" Recibido\n                            ")]):3==a.row.estado_id?e("button",{staticClass:"btn btn-warning"},[e("i",{staticClass:"fas fa-chalkboard-teacher"}),t._v(" En proceso")]):4==a.row.estado_id?e("button",{staticClass:"btn btn-success"},[e("i",{staticClass:"fas fa-check-double"}),t._v(" Terminado")]):5==a.row.estado_id?e("button",{staticClass:"btn btn-danger"},[e("i",{staticClass:"fas fa-times"}),t._v(" Cancelado")]):t._e()]}}])},[e("template",{slot:"id"},[e("div",{staticClass:"btn-group",attrs:{role:"group"}},[e("button",{staticClass:"btn btn-outline-dark dropdown-toggle",attrs:{id:"btn_id",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("i",{staticClass:"fas fa-grip-horizontal"}),t._v("  Acciones\n                                ")]),t._v(" "),e("div",{staticClass:"dropdown-menu"},[[e("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(e){return t.AbrirModalSolicitud()}}},[e("i",{staticClass:"icon-pencil"}),t._v(" Actualizar\n                                        ")])]],2)])])],2)],1)])])]),t._v(" "),e("div",{staticClass:"modal fade",class:{mostrar:t.ver_modal_solicitud},staticStyle:{display:"none"},attrs:{tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-dark modal-lg",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h4",{staticClass:"modal-title",domProps:{textContent:t._s(t.titulo_modal_solicitud)}}),t._v(" "),e("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.CerrarModalSolicitud()}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),t._v(" "),e("div",{staticClass:"modal-body"},[e("form",{staticClass:"form-horizontal",attrs:{action:"",method:"post",enctype:"multipart/form-data"}},[e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-md-3 form-control-label"},[t._v("Solicitante")]),t._v(" "),e("div",{staticClass:"col-md-9"},[e("v-select",{attrs:{disabled:!t.PermisosCrud.Create,options:t.listaUsuarios,label:"nombre",name:"solitandte","data-vv-name":"proyecto"},model:{value:t.Usuario,callback:function(e){t.Usuario=e},expression:"Usuario"}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("asunto")))])],1)]),t._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-md-3 form-control-label"},[t._v("Asunto")]),t._v(" "),e("div",{staticClass:"col-md-9"},[e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.solicitud_modal.asunto,expression:"solicitud_modal.asunto"}],staticClass:"form-control",attrs:{name:"asunto",placeholder:"Asunto de la solicitud",type:"text"},domProps:{value:t.solicitud_modal.asunto},on:{input:function(e){e.target.composing||t.$set(t.solicitud_modal,"asunto",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("asunto")))])])]),t._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-md-3 form-control-label"},[t._v("Tipo")]),t._v(" "),e("div",{staticClass:"col-md-9"},[e("select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.solicitud_modal.tipo_id,expression:"solicitud_modal.tipo_id"}],staticClass:"form-control",attrs:{name:"tipo"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.solicitud_modal,"tipo_id",e.target.multiple?a:a[0])}}},t._l(t.list_tipos,(function(a,o){return e("option",{key:o,domProps:{value:a.id}},[t._v(t._s(a.nombre))])})),0),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("tipo")))])])]),t._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-md-3 form-control-label"},[t._v("Descripción")]),t._v(" "),e("div",{staticClass:"col-md-9"},[e("textarea",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.solicitud_modal.descripcion,expression:"solicitud_modal.descripcion"}],staticClass:"form-control",attrs:{placeholder:"Ingrese una descripción detallada del problema",rows:"5",name:"descripcion"},domProps:{value:t.solicitud_modal.descripcion},on:{input:function(e){e.target.composing||t.$set(t.solicitud_modal,"descripcion",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("descripcion")))])])]),t._v(" "),e("div",{staticClass:"form-group row"},[e("div",{staticClass:"col"},[e("label",{attrs:{for:"Evidencias"}}),t._v(" "),e("p",[t._v("Añadir imagenes")]),t._v(" "),e("div",{staticClass:"col"},[e("vue-dropzone",{ref:"dropZone",staticClass:"border border-secondary",staticStyle:{"margin-left":"-1rem","margin-right":"-1rem"},attrs:{id:"dropZone",options:t.dropzoneOptions,useCustomSlot:!0}},[e("div",{staticClass:"dropzone-custom-content"},[e("h3",{staticClass:"dropzone-custom-title"},[t._v("Selecciona las imágenes")]),t._v(" "),e("div",{staticClass:"subtitle"},[t._v("para ayudar a identificar el problema")])])])],1)])])])]),t._v(" "),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-outline-dark",attrs:{type:"button"},on:{click:function(e){return t.CerrarModalSolicitud()}}},[e("i",{staticClass:"fas fa-times"}),t._v(" Cerrar\n                    ")]),t._v(" "),1==t.tipoAccion_modal_solicitud?e("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.GuardarSolicitud(1)}}},[e("i",{staticClass:"fas fa-save"}),t._v(" Guardar\n                    ")]):t._e(),t._v(" "),2==t.tipoAccion_modal_solicitud?e("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.GuardarSolicitud(0)}}},[e("i",{staticClass:"fas fa-save"}),t._v(" Actualizar\n                    ")]):t._e()])])])])])}),[],!1,null,null,null).exports},94529:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>v});function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(){i=function(){return e};var t,e={},a=Object.prototype,r=a.hasOwnProperty,s=Object.defineProperty||function(t,e,a){t[e]=a.value},n="function"==typeof Symbol?Symbol:{},l=n.iterator||"@@iterator",c=n.asyncIterator||"@@asyncIterator",d=n.toStringTag||"@@toStringTag";function u(t,e,a){return Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,a){return t[e]=a}}function p(t,e,a,o){var i=e&&e.prototype instanceof g?e:g,r=Object.create(i.prototype),n=new P(o||[]);return s(r,"_invoke",{value:E(t,a,n)}),r}function m(t,e,a){try{return{type:"normal",arg:t.call(e,a)}}catch(t){return{type:"throw",arg:t}}}e.wrap=p;var v="suspendedStart",_="suspendedYield",f="executing",h="completed",b={};function g(){}function C(){}function y(){}var w={};u(w,l,(function(){return this}));var x=Object.getPrototypeOf,z=x&&x(x(O([])));z&&z!==a&&r.call(z,l)&&(w=z);var k=y.prototype=g.prototype=Object.create(w);function q(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function a(i,s,n,l){var c=m(t[i],t,s);if("throw"!==c.type){var d=c.arg,u=d.value;return u&&"object"==o(u)&&r.call(u,"__await")?e.resolve(u.__await).then((function(t){a("next",t,n,l)}),(function(t){a("throw",t,n,l)})):e.resolve(u).then((function(t){d.value=t,n(d)}),(function(t){return a("throw",t,n,l)}))}l(c.arg)}var i;s(this,"_invoke",{value:function(t,o){function r(){return new e((function(e,i){a(t,o,e,i)}))}return i=i?i.then(r,r):r()}})}function E(e,a,o){var i=v;return function(r,s){if(i===f)throw Error("Generator is already running");if(i===h){if("throw"===r)throw s;return{value:t,done:!0}}for(o.method=r,o.arg=s;;){var n=o.delegate;if(n){var l=M(n,o);if(l){if(l===b)continue;return l}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(i===v)throw i=h,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);i=f;var c=m(e,a,o);if("normal"===c.type){if(i=o.done?h:_,c.arg===b)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(i=h,o.method="throw",o.arg=c.arg)}}}function M(e,a){var o=a.method,i=e.iterator[o];if(i===t)return a.delegate=null,"throw"===o&&e.iterator.return&&(a.method="return",a.arg=t,M(e,a),"throw"===a.method)||"return"!==o&&(a.method="throw",a.arg=new TypeError("The iterator does not provide a '"+o+"' method")),b;var r=m(i,e.iterator,a.arg);if("throw"===r.type)return a.method="throw",a.arg=r.arg,a.delegate=null,b;var s=r.arg;return s?s.done?(a[e.resultName]=s.value,a.next=e.nextLoc,"return"!==a.method&&(a.method="next",a.arg=t),a.delegate=null,b):s:(a.method="throw",a.arg=new TypeError("iterator result is not an object"),a.delegate=null,b)}function N(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(N,this),this.reset(!0)}function O(e){if(e||""===e){var a=e[l];if(a)return a.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,s=function a(){for(;++i<e.length;)if(r.call(e,i))return a.value=e[i],a.done=!1,a;return a.value=t,a.done=!0,a};return s.next=s}}throw new TypeError(o(e)+" is not iterable")}return C.prototype=y,s(k,"constructor",{value:y,configurable:!0}),s(y,"constructor",{value:C,configurable:!0}),C.displayName=u(y,d,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===C||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,u(t,d,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},q(A.prototype),u(A.prototype,c,(function(){return this})),e.AsyncIterator=A,e.async=function(t,a,o,i,r){void 0===r&&(r=Promise);var s=new A(p(t,a,o,i),r);return e.isGeneratorFunction(a)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},q(k),u(k,d,"Generator"),u(k,l,(function(){return this})),u(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),a=[];for(var o in e)a.push(o);return a.reverse(),function t(){for(;a.length;){var o=a.pop();if(o in e)return t.value=o,t.done=!1,t}return t.done=!0,t}},e.values=O,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var a in this)"t"===a.charAt(0)&&r.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var a=this;function o(o,i){return n.type="throw",n.arg=e,a.next=o,i&&(a.method="next",a.arg=t),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],n=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var l=r.call(s,"catchLoc"),c=r.call(s,"finallyLoc");if(l&&c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function(t,e){for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=t,s.arg=e,i?(this.method="next",this.next=i.finallyLoc,b):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),b},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.finallyLoc===t)return this.complete(a.completion,a.afterLoc),S(a),b}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.tryLoc===t){var o=a.completion;if("throw"===o.type){var i=o.arg;S(a)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,a,o){return this.delegate={iterator:O(e),resultName:a,nextLoc:o},"next"===this.method&&(this.arg=t),b}},e}function r(t,e,a,o,i,r,s){try{var n=t[r](s),l=n.value}catch(t){return void a(t)}n.done?e(l):Promise.resolve(l).then(o,i)}function s(t){return function(){var e=this,a=arguments;return new Promise((function(o,i){var s=t.apply(e,a);function n(t){r(s,o,i,n,l,"next",t)}function l(t){r(s,o,i,n,l,"throw",t)}n(void 0)}))}}function n(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,o)}return a}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?n(Object(a),!0).forEach((function(e){c(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function c(t,e,a){return(e=function(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var i=a.call(t,e||"default");if("object"!=o(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function d(t){return function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return u(t,e);var a={}.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?u(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,o=Array(e);a<e;a++)o[a]=t[a];return o}var p=a(14941).call(void 0);const m={data:function(){return{listado_data_accesorios:[],list_accesorios:[],isObtenerDatos_Loading:!1,url:"ti/resguardos",isGuardarLoading:!1,empresa:1,editar:!0,list_equipos:[],error:"",listaCatalogo:[],resguardo:{id:0,fecha:"",fecha_retorno:"",tipo:0,caiv:"",observacion_uno:"",observacion_dos:"",check:!1,cantidad:"",cantidad_temporal:"",empresa:"1",observacion_retorno:"",cantidad_defectuoso:0,cantidad_accesorio:"",cantidad_accesorio_temporal:"",accesorios_data:""},empleado_recibe:"",empleado_entrega:"",listaEmpleados:[],listaEmpleadosEntrega:[],modal:0,tipoAccion:0,tituloModal:"",list_vales:[],columns_vales:["id","fecha","descripcion","tipo","observacion_dos","cantidad","empleado_r","autorizado","estado","fecha_retorno","descargar"],options_vales:{headings:{id:"Acciones",fecha:"Fecha",accesorios:"Accesorios",observacion_dos:"Observaciones entrega",cantidad:"Cantidad",empleado_r:"Usuario asignado",estado:"Estado",tipo:"Tipo",autorizado:"Autorizado"},perPage:10,perPageValues:[],skin:p.skin,isObtenerEquipos_loading:!1,list_equipos:[],sortIcon:p.sortIcon,filterByColumn:!0,listColumns:{estado:[{id:1,text:"En resguardo"},{id:2,text:"Retornado"}],tipo:[{id:1,text:"Computo"},{id:2,text:"Accesorios"},{id:3,text:"Impresión"},{id:4,text:"Video"}]},texts:p.texts},modal_autorizar:!1,empleado_autoriza:"",mostrar_qr_autorizar:!1}},methods:{CargarDatos:function(t){this.empresa=t,this.CargarDatosAux()},CargarDatosAux:function(){var t=this;this.isObtenerDatos_Loading=!0,axios.get(this.url+"/obtener/"+this.empresa).then((function(e){t.isObtenerDatos_Loading=!1,e.data.status?t.list_vales=e.data.resguardos:toastr.error(e.data.mensaje)}))},ObtenerEmpleados:function(){var t=this;axios.get("generales/empleadoactivos/").then((function(e){e.data.status?(t.listaEmpleados=e.data.empleados,axios.get("generales/empleadoactual").then((function(e){e.data.status?150==e.data.empleados[0].id?t.listaEmpleadosEntrega=d(t.listaEmpleados):(t.listaEmpleadosEntrega=e.data.empleados,t.empleado_entrega=e.data.empleados[0]):toastr.error(e.data.mensaje)}))):toastr.error(e.data.mensaje)}))},ObtenerAccesorios:function(){var t=this;axios.get(this.url+"/obteneraccesorios").then((function(e){e.data.status?t.list_accesorios=e.data.accesorios:toastr.error(e.data.mensaje)}))},AbrirModal:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(this.ObtenerEmpleados(),this.ObtenerAccesorios(),this.modal=1,this.editar=t,t)this.tituloModal="Registrar resguardo",this.tipoAccion=1;else{this.tituloModal="Actualizar resguardo",this.tipoAccion=2,this.resguardo=l({},e),this.resguardo.caiv={id:e.caiv,descripcion:e.descripcion,cantidad:e.cantidad},this.empleado_recibe={id:e.empleado_recibe,nombre:e.empleado_r},this.empleado_entrega={id:e.empleado_entrega,nombre:e.empleado_e};var a=[];a=e.accesorios_listado!=[]?[]:JSON.parse(JSON.parse(e.accesorios_listado)),this.listado_data_accesorios=a}},CerrarModal:function(){this.modal=0,this.resguardo={empleado_recibe:{},empleado_entrega:{}},this.listado_data_accesorios=[],this.empleado_recibe=""},onInit:function(t){var e=this;return s(i().mark((function a(){return i().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t;case 3:a.next=8;break;case 5:a.prev=5,a.t0=a.catch(0),"NotAllowedError"===a.t0.name?e.error="ERROR: you need to grant camera access permisson":"NotFoundError"===a.t0.name?e.error="ERROR: no camera on this device":"NotSupportedError"===a.t0.name?e.error="ERROR: secure context required (HTTPS, localhost)":"NotReadableError"===a.t0.name?e.error="ERROR: is the camera already in use?":"OverconstrainedError"===a.t0.name?e.error="ERROR: installed cameras are not suitable":"StreamApiNotSupportedError"===a.t0.name&&(e.error="ERROR: Stream API is not supported in this browser");case 8:case"end":return a.stop()}}),a,null,[[0,5]])})))()},onDecodeAutorizar:function(t){var e=this,a=t.split("|");if(2==a.length){var o=a[0],i=a[1];this.empleado_autoriza=i,axios.post("ti/resguardo/autorizar",{empleado_id:o,resguardo_id:this.id_autoriza}).then((function(t){t.data.status?(toastr.success("Autorizado correctamente"),setTimeout((function(){e.CerrarModalAutorizar(),e.CargarDatosAux()}),2e3)):toastr.error(t.data.mensaje)}))}else toastr.warning("Nope")},GuardarResguardo:function(){var t=this;return s(i().mark((function e(){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$validator.validate();case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:t.isGuardarLoading=!0,(a=new FormData).append("fecha",t.resguardo.fecha),a.append("tipo",t.resguardo.tipo),a.append("observacion_uno",t.resguardo.observacion_uno),a.append("observacion_dos",t.resguardo.observacion_dos),a.append("empleado_recibe",t.empleado_recibe.id),a.append("empleado_entrega",t.empleado_entrega.id),a.append("caiv",t.resguardo.caiv.id),a.append("cantidad",t.resguardo.cantidad),a.append("empresa",t.empresa),a.append("accesorios",JSON.stringify(t.listado_data_accesorios)),axios.post(t.url+"/guardar",a).then((function(e){t.isGuardarLoading=!1,e.data.status?(toastr.success("Guardado Correctamente"),t.CerrarModal(),t.CargarDatosAux()):toastr.error(e.data.mensaje)}));case 18:case"end":return e.stop()}}),e)})))()},ActualizarResguardo:function(){var t=this;return s(i().mark((function e(){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$validator.validate();case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:t.isGuardarLoading=!0,(a=new FormData).append("id",t.resguardo.id),a.append("observacion_uno",t.resguardo.observacion_uno),a.append("observacion_dos",t.resguardo.observacion_dos),a.append("empleado_entrega",t.empleado_entrega.id),axios.post(t.url+"/actualizar",a).then((function(e){t.isGuardarLoading=!1,e.data.status?(toastr.success("Actualizado Correctamente"),t.CerrarModal(),t.CargarDatosAux()):toastr.error(e.data.mensaje)}));case 12:case"end":return e.stop()}}),e)})))()},ObtenerEquipos:function(){var t=this;this.isObtenerEquipos_loading=!0,axios.get(this.url+"/obtenerequipos/"+this.resguardo.tipo).then((function(e){t.isObtenerEquipos_loading=!1,e.data.status?t.list_equipos=e.data.list_equipos:toastr.error(e.data.mensaje)}))},Regresar:function(t){this.editar=!1,this.tituloModal="Regresar equipo",this.modal=!0,this.tipoAccion=3,this.resguardo=l({},t),this.resguardo.caiv={id:t.caiv,descripcion:t.descripcion,cantidad:t.cantidad},this.empleado_recibe={id:t.empleado_recibe,nombre:t.empleado_r},this.empleado_entrega={id:t.empleado_entrega,nombre:t.empleado_e};var e=[];e=t.accesorios_listado!=[]?[]:JSON.parse(JSON.parse(t.accesorios_listado)),this.listado_data_accesorios=e,this.resguardo.cantidad_defectuoso=0},GuardarRetorno:function(){var t=this;return s(i().mark((function e(){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.$validator.validate()){e.next=3;break}return e.abrupt("return");case 3:t.isGuardarLoading=!0,(a=new FormData).append("id",t.resguardo.id),a.append("fecha_retorno",t.resguardo.fecha_retorno),a.append("observacion_recepcion",t.resguardo.observacion_retorno),a.append("cantidad_defectuoso",t.resguardo.cantidad_defectuoso),axios.post(t.url+"/regresar",a).then((function(e){t.isGuardarLoading=!1,e.data.status?(toastr.success("Guardado correctamente"),t.CerrarModal(),t.CargarDatosAux()):toastr.error(e.data.mensaje)}));case 10:case"end":return e.stop()}}),e)})))()},Descargar:function(t){window.open(this.url+"/descagar/"+t.id)},GuardarAccesorio:function(){this.resguardo.cantidad_accesorio<=0?toastr.warning("Ingrese una cantidad válida"):this.resguardo.cantidad_accesorio>this.resguardo.accesorios_data.cantidad?toastr.warning("Cantidad insufuciente"):(this.listado_data_accesorios.push({id:this.resguardo.accesorios_data.id,descripcion:this.resguardo.accesorios_data.descripcion,cantidad:this.resguardo.cantidad_accesorio,nuevo:0,temp:!0}),this.resguardo.accesorios_data="",this.resguardo.cantidad_accesorio="",this.resguardo.cantidad_accesorio_temporal="")},EliminarTemporal:function(t,e){this.listado_data_accesorios.splice(t,1)},AbrirModalAutorizar:function(t){this.id_autoriza=t.id,this.modal_autorizar=!0},CerrarModalAutorizar:function(){this.modal_autorizar=!1}},mounted:function(){}};const v=(0,a(14486).A)(m,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("v-client-table",{attrs:{data:t.list_vales,columns:t.columns_vales,options:t.options_vales},scopedSlots:t._u([{key:"id",fn:function(a){return[e("div",{staticClass:"btn-group",attrs:{role:"group"}},[e("button",{staticClass:"btn btn-outline-dark dropdown-toggle",attrs:{id:"btn_id",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("i",{staticClass:"fas fa-grip-horizontal"})]),t._v(" "),e("div",{staticClass:"dropdown-menu"},[[a.row.estado<=1?e("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(e){return t.AbrirModal(!1,a.row)}}},[e("i",{staticClass:"fas fa-edit mr-1"}),t._v("Actualizar\n                                ")]):t._e(),t._v(" "),a.row.estado<=1?e("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(e){return t.Regresar(a.row)}}},[e("i",{staticClass:"fas fa-undo mr-1"}),t._v("Retorno\n                                ")]):t._e()]],2)])]}},{key:"autorizado",fn:function(a){return[a.row.autorizado?e("button",{staticClass:"btn btn-outline-success"},[t._v(" Autorizado")]):e("button",{staticClass:"btn btn-outline-danger",on:{click:function(e){return t.AbrirModalAutorizar(a.row)}}},[t._v(" Por autorizar")])]}},{key:"descargar",fn:function(a){return[e("button",{staticClass:"btn btn-outline-dark",attrs:{type:"button"},on:{click:function(e){return t.Descargar(a.row)}}},[e("i",{staticClass:"fas fa-download"})])]}},{key:"estado",fn:function(a){return[1==a.row.estado?[e("span",{staticClass:"btn btn-outline-success"},[t._v(" EN RESGUARDO")])]:t._e(),t._v(" "),2==a.row.estado?[e("span",{staticClass:"btn btn-outline-primary"},[t._v(" RETORNADO")])]:t._e(),t._v(" "),3==a.row.estado?[e("span",{staticClass:"btn btn-outline-warning"},[t._v(" RETORNADO CON OBSERVACIONES")])]:t._e()]}},{key:"tipo",fn:function(a){return[1==a.row.tipo?[e("span",{staticClass:"btn btn-outline-success"},[t._v(" Computo")])]:t._e(),t._v(" "),2==a.row.tipo?[e("span",{staticClass:"btn btn-outline-primary"},[t._v(" Accesorios")])]:t._e(),t._v(" "),3==a.row.tipo?[e("span",{staticClass:"btn btn-outline-warning"},[t._v(" Impresión")])]:t._e(),t._v(" "),4==a.row.tipo?[e("span",{staticClass:"btn btn-outline-success"},[t._v(" Video")])]:t._e()]}}])})],1)]),t._v(" "),e("div",{staticClass:"modal fade",class:{mostrar:t.modal},staticStyle:{display:"none"},attrs:{tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-dark modal-lg",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h4",{staticClass:"modal-title",domProps:{textContent:t._s(t.tituloModal)}}),t._v(" "),e("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.CerrarModal()}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("x")])])]),t._v(" "),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"form-row"},[e("div",{staticClass:"col-md-3 mb-3"},[e("label",[t._v("Fecha")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.resguardo.fecha,expression:"resguardo.fecha"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{disabled:!t.editar,type:"date","data-vv-name":"fecha"},domProps:{value:t.resguardo.fecha},on:{input:function(e){e.target.composing||t.$set(t.resguardo,"fecha",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("fecha")))])]),t._v(" "),3==t.tipoAccion?[e("div",{staticClass:"col-md-4 mb-3"},[e("label",[t._v("Fecha retorno")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.resguardo.fecha_retorno,expression:"resguardo.fecha_retorno"}],staticClass:"form-control",attrs:{type:"date","data-vv-name":"Fecha Retorno"},domProps:{value:t.resguardo.fecha_retorno},on:{input:function(e){e.target.composing||t.$set(t.resguardo,"fecha_retorno",e.target.value)}}})])]:t._e(),t._v(" "),e("div",{staticClass:"col-md-3 mb-3"},[e("label",[t._v("Tipo")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.resguardo.tipo,expression:"resguardo.tipo"}],staticClass:"form-control",attrs:{disabled:!t.editar},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.resguardo,"tipo",e.target.multiple?a:a[0])},t.ObtenerEquipos]}},[e("option",{attrs:{value:"1"}},[t._v("Computo")]),t._v(" "),e("option",{attrs:{value:"2"}},[t._v("Accesorios")]),t._v(" "),e("option",{attrs:{value:"3"}},[t._v("Impresion")]),t._v(" "),e("option",{attrs:{value:"4"}},[t._v("Video")])]),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("tipo")))])])],2),t._v(" "),e("div",{staticClass:"form-row"},[e("div",{staticClass:"col-md-12 mb-3"},[e("label",[t._v("Seleccionar equipo")]),t._v(" "),e("v-select",{attrs:{disabled:!t.editar,options:t.list_equipos,label:"descripcion","data-vv-name":"material"},model:{value:t.resguardo.caiv,callback:function(e){t.$set(t.resguardo,"caiv",e)},expression:"resguardo.caiv"}})],1)]),t._v(" "),e("div",{staticClass:"form-row"},[e("div",{staticClass:"col-md-4 mb-3"},[e("label",[t._v("Cantidad")]),t._v(" "),e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|decimal:2",expression:"'required|decimal:2'"},{name:"model",rawName:"v-model",value:t.resguardo.cantidad,expression:"resguardo.cantidad"}],staticClass:"form-control",attrs:{disabled:!t.editar,type:"text","data-vv-name":"cantidad"},domProps:{value:t.resguardo.cantidad},on:{input:function(e){e.target.composing||t.$set(t.resguardo,"cantidad",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("cantidad")))])]),t._v(" "),3==t.tipoAccion?[e("div",{staticClass:"col-md-4 mb-3"},[e("label",[t._v("Cantidad Defectuoso")]),t._v(" "),e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|decimal:2",expression:"'required|decimal:2'"},{name:"model",rawName:"v-model",value:t.resguardo.cantidad_defectuoso,expression:"resguardo.cantidad_defectuoso"}],staticClass:"form-control",attrs:{type:"text","data-vv-name":"cantidad"},domProps:{value:t.resguardo.cantidad_defectuoso},on:{input:[function(e){e.target.composing||t.$set(t.resguardo,"cantidad_defectuoso",e.target.value)},function(e){return t.verificarCantidad()}]}})])]:t._e()],2),t._v(" "),e("div",{staticClass:"form-row"},[e("div",{staticClass:"col-md-8 mb-3"},[e("label",[t._v("Enlistar Accesorios Adicionales")]),t._v(" "),e("v-select",{attrs:{options:t.list_accesorios,label:"descripcion","data-vv-name":"material"},model:{value:t.resguardo.accesorios_data,callback:function(e){t.$set(t.resguardo,"accesorios_data",e)},expression:"resguardo.accesorios_data"}})],1),t._v(" "),e("div",{staticClass:"col-md-2 mb-3"},[e("label",[t._v("Cantidad")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.resguardo.cantidad_accesorio,expression:"resguardo.cantidad_accesorio"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.resguardo.cantidad_accesorio},on:{input:function(e){e.target.composing||t.$set(t.resguardo,"cantidad_accesorio",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-md-2 mb-3"},[e("label",[t._v(" ")]),e("br"),t._v(" "),e("button",{staticClass:"btn btn-outline-dark",attrs:{disabled:!t.editar},on:{click:function(e){return t.GuardarAccesorio()}}},[t._v("Agregar")])])]),t._v(" "),t._m(0),t._v(" "),t._l(t.listado_data_accesorios,(function(a,o){return e("li",{key:o,staticClass:"list-group-item"},[e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group col-md-9"},[e("label",[t._v(t._s(a.descripcion))])]),t._v(" "),e("div",{staticClass:"form-group col-md-2"},[e("label",[t._v(t._s(a.cantidad))])]),t._v(" "),e("div",{staticClass:"form-group col-md-1"},[e("a",{directives:[{name:"show",rawName:"v-show",value:a.temp,expression:"vi.temp"}],on:{click:function(e){return t.EliminarTemporal(o,a)}}},[e("span",{staticClass:"fas fa-trash"})])])])])})),t._v(" "),e("br"),t._v(" "),e("div",{staticClass:"form-row"},[e("div",{staticClass:"col-md-10 mb-3"},[e("label",[t._v("Observaciones adicionales a la entrega")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.resguardo.observacion_dos,expression:"resguardo.observacion_dos"}],staticClass:"form-control",attrs:{name:"name",rows:"2",cols:"80"},domProps:{value:t.resguardo.observacion_dos},on:{input:function(e){e.target.composing||t.$set(t.resguardo,"observacion_dos",e.target.value)}}})])]),t._v(" "),e("div",{staticClass:"form-row"},[e("div",{staticClass:"col-md-10 mb-3"},[e("label",[t._v("Observaciones adicionales a la recepción")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.resguardo.observacion_uno,expression:"resguardo.observacion_uno"}],staticClass:"form-control",attrs:{name:"name",rows:"2",cols:"80"},domProps:{value:t.resguardo.observacion_uno},on:{input:function(e){e.target.composing||t.$set(t.resguardo,"observacion_uno",e.target.value)}}})])]),t._v(" "),3==t.tipoAccion?[e("div",{staticClass:"form-row"},[e("div",{staticClass:"col-md-12 mb-3"},[e("label",[t._v("Observaciones al retorno")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.resguardo.observacion_retorno,expression:"resguardo.observacion_retorno"}],staticClass:"form-control",attrs:{name:"name",rows:"2",cols:"80"},domProps:{value:t.resguardo.observacion_retorno},on:{input:function(e){e.target.composing||t.$set(t.resguardo,"observacion_retorno",e.target.value)}}})])])]:t._e(),t._v(" "),e("div",{staticClass:"form-row"},[e("div",{staticClass:"col-md-6 mb-3"},[e("label",[t._v("Empleado Entrega")]),t._v(" "),e("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{options:t.listaEmpleadosEntrega,label:"nombre","data-vv-name":"Entrega"},model:{value:t.empleado_entrega,callback:function(e){t.empleado_entrega=e},expression:"empleado_entrega"}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Entrega")))])],1),t._v(" "),e("div",{staticClass:"col-md-6 mb-3"},[e("label",[t._v("Empleado Recibe")]),t._v(" "),e("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{disabled:!t.editar,options:t.listaEmpleados,label:"nombre","data-vv-name":"Recibe"},model:{value:t.empleado_recibe,callback:function(e){t.empleado_recibe=e},expression:"empleado_recibe"}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Recibe")))])],1)])],2),t._v(" "),e("div",{staticClass:"modal-footer"},[e("vue-element-loading",{attrs:{active:t.isGuardarLoading}}),t._v(" "),e("button",{staticClass:"btn btn-outline-dark",attrs:{type:"button"},on:{click:function(e){return t.CerrarModal()}}},[e("i",{staticClass:"fas fa-times"}),t._v(" Cerrar")]),t._v(" "),1==t.tipoAccion?e("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.GuardarResguardo()}}},[e("i",{staticClass:"fas fa-save mr-1"}),t._v("Guardar")]):t._e(),t._v(" "),2==t.tipoAccion?e("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.ActualizarResguardo()}}},[e("i",{staticClass:"fas fa-save mr-1"}),t._v("Actualizar")]):t._e(),t._v(" "),3==t.tipoAccion?e("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.GuardarRetorno()}}},[e("i",{staticClass:"fas fa-save mr-1"}),t._v("Aceptar")]):t._e()],1)])])]),t._v(" "),e("div",{staticClass:"modal fade",class:{mostrar:t.modal_autorizar},staticStyle:{display:"none"},attrs:{tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-dark modal-lg",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h4",{staticClass:"modal-title"},[t._v("Autorizar Entrega de Equipo")]),t._v(" "),e("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.CerrarModalAutorizar()}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("x")])])]),t._v(" "),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"form-row"},[e("div",{staticClass:"col-md-8"},[t.modal_autorizar?e("qrcode-stream",{on:{decode:t.onDecodeAutorizar,init:t.onInit}}):t._e()],1),t._v(" "),e("div",{staticClass:"col-md-12"},[e("br"),t._v(" "),e("h2",{staticStyle:{"font-family":"'Share Tech Mono', monospace","text-align":"center"}},[t._v(t._s(t.empleado_autoriza))])])])]),t._v(" "),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-outline-dark",attrs:{type:"button"},on:{click:function(e){return t.CerrarModalAutorizar()}}},[e("i",{staticClass:"fas fa-times"}),t._v(" Cerrar")]),t._v(" "),1==t.tipoAccion?e("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.GuardarAutorizacion()}}},[e("i",{staticClass:"fas fa-save"}),t._v(" Guardar")]):t._e()])])])])])}),[function(){var t=this,e=t._self._c;return e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group col-md-9"},[e("label",[e("b",[t._v("Descripción")])])]),t._v(" "),e("div",{staticClass:"form-group col-md-2"},[e("label",[e("b",[t._v("Cantidad")])])]),t._v(" "),e("div",{staticClass:"form-group col-md-1"},[e("label")])])}],!1,null,null,null).exports},17554:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>p});a(60173),a(89305);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,o)}return a}function r(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?i(Object(a),!0).forEach((function(e){s(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function s(t,e,a){return(e=function(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var i=a.call(t,e||"default");if("object"!=o(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function n(){n=function(){return e};var t,e={},a=Object.prototype,i=a.hasOwnProperty,r=Object.defineProperty||function(t,e,a){t[e]=a.value},s="function"==typeof Symbol?Symbol:{},l=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",d=s.toStringTag||"@@toStringTag";function u(t,e,a){return Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,a){return t[e]=a}}function p(t,e,a,o){var i=e&&e.prototype instanceof g?e:g,s=Object.create(i.prototype),n=new P(o||[]);return r(s,"_invoke",{value:E(t,a,n)}),s}function m(t,e,a){try{return{type:"normal",arg:t.call(e,a)}}catch(t){return{type:"throw",arg:t}}}e.wrap=p;var v="suspendedStart",_="suspendedYield",f="executing",h="completed",b={};function g(){}function C(){}function y(){}var w={};u(w,l,(function(){return this}));var x=Object.getPrototypeOf,z=x&&x(x(O([])));z&&z!==a&&i.call(z,l)&&(w=z);var k=y.prototype=g.prototype=Object.create(w);function q(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function a(r,s,n,l){var c=m(t[r],t,s);if("throw"!==c.type){var d=c.arg,u=d.value;return u&&"object"==o(u)&&i.call(u,"__await")?e.resolve(u.__await).then((function(t){a("next",t,n,l)}),(function(t){a("throw",t,n,l)})):e.resolve(u).then((function(t){d.value=t,n(d)}),(function(t){return a("throw",t,n,l)}))}l(c.arg)}var s;r(this,"_invoke",{value:function(t,o){function i(){return new e((function(e,i){a(t,o,e,i)}))}return s=s?s.then(i,i):i()}})}function E(e,a,o){var i=v;return function(r,s){if(i===f)throw Error("Generator is already running");if(i===h){if("throw"===r)throw s;return{value:t,done:!0}}for(o.method=r,o.arg=s;;){var n=o.delegate;if(n){var l=M(n,o);if(l){if(l===b)continue;return l}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(i===v)throw i=h,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);i=f;var c=m(e,a,o);if("normal"===c.type){if(i=o.done?h:_,c.arg===b)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(i=h,o.method="throw",o.arg=c.arg)}}}function M(e,a){var o=a.method,i=e.iterator[o];if(i===t)return a.delegate=null,"throw"===o&&e.iterator.return&&(a.method="return",a.arg=t,M(e,a),"throw"===a.method)||"return"!==o&&(a.method="throw",a.arg=new TypeError("The iterator does not provide a '"+o+"' method")),b;var r=m(i,e.iterator,a.arg);if("throw"===r.type)return a.method="throw",a.arg=r.arg,a.delegate=null,b;var s=r.arg;return s?s.done?(a[e.resultName]=s.value,a.next=e.nextLoc,"return"!==a.method&&(a.method="next",a.arg=t),a.delegate=null,b):s:(a.method="throw",a.arg=new TypeError("iterator result is not an object"),a.delegate=null,b)}function N(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(N,this),this.reset(!0)}function O(e){if(e||""===e){var a=e[l];if(a)return a.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,s=function a(){for(;++r<e.length;)if(i.call(e,r))return a.value=e[r],a.done=!1,a;return a.value=t,a.done=!0,a};return s.next=s}}throw new TypeError(o(e)+" is not iterable")}return C.prototype=y,r(k,"constructor",{value:y,configurable:!0}),r(y,"constructor",{value:C,configurable:!0}),C.displayName=u(y,d,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===C||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,u(t,d,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},q(A.prototype),u(A.prototype,c,(function(){return this})),e.AsyncIterator=A,e.async=function(t,a,o,i,r){void 0===r&&(r=Promise);var s=new A(p(t,a,o,i),r);return e.isGeneratorFunction(a)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},q(k),u(k,d,"Generator"),u(k,l,(function(){return this})),u(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),a=[];for(var o in e)a.push(o);return a.reverse(),function t(){for(;a.length;){var o=a.pop();if(o in e)return t.value=o,t.done=!1,t}return t.done=!0,t}},e.values=O,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var a in this)"t"===a.charAt(0)&&i.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var a=this;function o(o,i){return n.type="throw",n.arg=e,a.next=o,i&&(a.method="next",a.arg=t),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var s=this.tryEntries[r],n=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var l=i.call(s,"catchLoc"),c=i.call(s,"finallyLoc");if(l&&c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function(t,e){for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a];if(o.tryLoc<=this.prev&&i.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var r=o;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var s=r?r.completion:{};return s.type=t,s.arg=e,r?(this.method="next",this.next=r.finallyLoc,b):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),b},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.finallyLoc===t)return this.complete(a.completion,a.afterLoc),S(a),b}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.tryLoc===t){var o=a.completion;if("throw"===o.type){var i=o.arg;S(a)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,a,o){return this.delegate={iterator:O(e),resultName:a,nextLoc:o},"next"===this.method&&(this.arg=t),b}},e}function l(t,e,a,o,i,r,s){try{var n=t[r](s),l=n.value}catch(t){return void a(t)}n.done?e(l):Promise.resolve(l).then(o,i)}function c(t){return function(){var e=this,a=arguments;return new Promise((function(o,i){var r=t.apply(e,a);function s(t){l(r,o,i,s,n,"next",t)}function n(t){l(r,o,i,s,n,"throw",t)}s(void 0)}))}}var d=a(14941).call(void 0);const u={data:function(){return{empresa:"1",error:"",editar:!0,salida_sitio_id:0,tituloModal:"",modal:0,tipoAccion:0,modal_retorno:0,sitio:{id:0,proyecto:"",fecha_salida:"",fecha_retorno:"",solicita:"",check:!1,tipo:"",empresa:"1"},cantidad_temp:"",unidad_temp:"",catalogo:"",list_equipos:[],empleado_recibe:"",listaEmpleados:[],listaProyectos:[],empleado_entrega:[],listaCatalogo:[],listado_data:[],tableData:[],columns:["id","fecha_salida","nombre_corto","solicita_empleado","descargar","condicion"],options:{headings:{id:"Acciones",nombre_corto:"Proyecto"},perPage:10,perPageValues:[],skin:d.skin,sortIcon:d.sortIcon,filterByColumn:!0,listColumns:{condicion:[{id:1,text:"En sitio"},{id:2,text:"Retornado"}]},texts:d.texts}}},methods:{onInit:function(t){var e=this;return c(n().mark((function a(){return n().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t;case 3:a.next=8;break;case 5:a.prev=5,a.t0=a.catch(0),"NotAllowedError"===a.t0.name?e.error="ERROR: you need to grant camera access permisson":"NotFoundError"===a.t0.name?e.error="ERROR: no camera on this device":"NotSupportedError"===a.t0.name?e.error="ERROR: secure context required (HTTPS, localhost)":"NotReadableError"===a.t0.name?e.error="ERROR: is the camera already in use?":"OverconstrainedError"===a.t0.name?e.error="ERROR: installed cameras are not suitable":"StreamApiNotSupportedError"===a.t0.name&&(e.error="ERROR: Stream API is not supported in this browser");case 8:case"end":return a.stop()}}),a,null,[[0,5]])})))()},onDecode:function(t){this.result=t;var e=this.result.split("|");this.empleado_recibe={id:e[0],name:e[1]}},CargarDatos:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.empresa=t,this.CargarDatosAux()},CargarDatosAux:function(){var t=this;axios.get("ti/sitio/obtener/"+this.empresa).then((function(e){t.tableData=e.data}))},getData:function(){var t=this;this.listaEmpleados=[],axios.get("generales/empleadoactivos").then((function(e){t.listaEmpleados=e.data.empleados})),axios.get("generales/proyectos/1").then((function(e){e.data.status?t.listaProyectos=e.data.proyectos:toastr.error(e.data.mensaje)}))},vaciar:function(){this.sitio.proyecto="",this.sitio.fecha_salida="",this.empleado_recibe="",this.sitio.tipo="",this.listado_data=[]},AbrirModal:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.getData(),this.modal=1,t?(this.tituloModal="Guardar",this.tipoAccion=1,this.editar=!0):(this.editar=!1,this.editar=!1,this.tituloModal="Actualizar",this.tipoAccion=2,this.sitio=r(r({},a),{},{proyecto:{id:a.proyecto_id,nombre_corto:a.nombre_corto}}),this.empleado_recibe={id:a.solicita,nombre:a.solicita_empleado},axios.get("ti/sitio/obtenerpartidas/"+a.id).then((function(t){t.data.forEach((function(t,a){e.listado_data.push({id:t.data.material_id,descripcion:t.descripcion,cantidad:t.data.cantidad,unidad:t.data.unidad,tipo:t.data.tipo})}))})).catch((function(t){console.error(t)})))},CerrarModal:function(){this.modal=0,this.listado_data=[]},asignar:function(){""!=this.catalogo&&(this.cantidad_temp=this.catalogo.cantidad)},guardarasignacion:function(){""!=this.catalogo&&(this.listado_data.push({id:this.catalogo.id,descripcion:this.catalogo.descripcion,cantidad:this.cantidad_temp,unidad:this.unidad_temp,tipo:this.sitio.tipo,temp:!0}),this.catalogo="",this.cantidad_temp="",this.unidad_temp="")},deleteu:function(t){this.listado_data.splice(t,1)},Guardar:function(t){var e=this;return c(n().mark((function a(){var o;return n().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e.$validator.validate()){a.next=3;break}return a.abrupt("return");case 3:o=new FormData,t||o.append("id",e.sitio.id),o.append("proyecto",e.sitio.proyecto.id),o.append("fecha_salida",e.sitio.fecha_salida),o.append("solicita",e.empleado_recibe.id),o.append("data",JSON.stringify(e.listado_data.filter((function(t){return t.temp})))),o.append("empresa",e.empresa),axios.post("ti/sitio/guardar",o).then((function(t){t.data.status?(toastr.success("Actualizado Correctamente"),e.CerrarModal(),e.CargarDatosAux()):toastr.warning(t.data.mensaje)}));case 11:case"end":return a.stop()}}),a)})))()},descargar:function(t){window.open("ti/sitio/descargar/"+t,"_blank")},retorno:function(t){var e=this;this.salida_sitio_id=t,this.listado_data=[],axios.get("ti/sitio/obtenerpendeintes/"+t).then((function(t){t.data.forEach((function(t,a){e.listado_data.push({id:t.data.material_id,descripcion:t.descripcion,cantidad:t.data.cantidad,unidad:t.data.unidad,tipo:t.data.tipo})}))})).catch((function(t){console.error(t)})),this.modal_retorno=1},CerrarModalRetorno:function(){this.modal_retorno=0},limpiar:function(){this.listaCatalogo=[]},retornado:function(t,e){var a=this;axios.get("ti/sitio/regresarpartida/"+t.id+"&"+this.salida_sitio_id+"&"+e).then((function(t){toastr.success("Correcto !!!"),a.retorno(a.salida_sitio_id),a.CargarDatos(a.empresa),a.sitio.tipo="",a.listaCatalogo=[]})).catch((function(t){console.error(t)}))},ObtenerEquipos:function(){var t=this;axios.get("ti/resguardos/obtenerequipos/"+this.sitio.tipo).then((function(e){e.data.status?t.list_equipos=e.data.list_equipos:toastr.error(e.data.mensaje)}))}},mounted:function(){}};const p=(0,a(14486).A)(u,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("v-client-table",{attrs:{data:t.tableData,columns:t.columns,options:t.options},scopedSlots:t._u([{key:"id",fn:function(a){return[e("div",{staticClass:"btn-group",attrs:{role:"group"}},[e("button",{staticClass:"btn btn-outline-dark dropdown-toggle",attrs:{id:"btn_id",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("i",{staticClass:"fas fa-grip-horizontal"}),t._v(" \n                        ")]),t._v(" "),e("div",{staticClass:"dropdown-menu"},[[e("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(e){return t.AbrirModal(!1,a.row)}}},[e("i",{staticClass:"fas fa-pencil"}),t._v(" Actualizar\n                                ")]),t._v(" "),e("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(e){return t.retorno(a.row.id)}}},[e("i",{staticClass:"fas fa-trash"}),t._v(" Retornar\n                                ")])]],2)])]}},{key:"descargar",fn:function(a){return[e("button",{staticClass:"btn btn-outline-dark",attrs:{type:"button"},on:{click:function(e){return t.descargar(a.row.id)}}},[e("i",{staticClass:"fas fa-download"}),t._v(" \n                    ")])]}},{key:"condicion",fn:function(a){return[1==a.row.condicion?[e("button",{staticClass:"btn btn-outline-success"},[t._v("En sitio")])]:t._e(),t._v(" "),2==a.row.condicion?[e("button",{staticClass:"btn btn-outline-primary"},[t._v("Retornado")])]:t._e()]}}])})],1)]),t._v(" "),e("div",{staticClass:"modal fade",class:{mostrar:t.modal},staticStyle:{display:"none"},attrs:{tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-dark modal-lg",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h4",{staticClass:"modal-title",domProps:{textContent:t._s(t.tituloModal)}}),t._v(" "),e("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.CerrarModal()}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("x")])])]),t._v(" "),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"form-row"},[e("div",{staticClass:"col-md-5 mb-3"},[e("label",[t._v("Proyecto")]),t._v(" "),e("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{disables:!t.editar,options:t.listaProyectos,label:"nombre_corto","data-vv-name":"Proyecto"},model:{value:t.sitio.proyecto,callback:function(e){t.$set(t.sitio,"proyecto",e)},expression:"sitio.proyecto"}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Proyecto")))])],1),t._v(" "),e("div",{staticClass:"col-md-4 mb-3"},[e("label",[t._v("Fecha Salida")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.sitio.fecha_salida,expression:"sitio.fecha_salida"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{disables:!t.editar,type:"date","data-vv-name":"Fecha Salida"},domProps:{value:t.sitio.fecha_salida},on:{input:function(e){e.target.composing||t.$set(t.sitio,"fecha_salida",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Fecha Salida")))])])]),t._v(" "),e("div",{staticClass:"form-row"},[e("div",{staticClass:"col-md-3 mb-3"},[e("label",[t._v("Tipo")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.sitio.tipo,expression:"sitio.tipo"}],staticClass:"form-control",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.sitio,"tipo",e.target.multiple?a:a[0])},t.ObtenerEquipos]}},[e("option",{attrs:{value:"1"}},[t._v("Computo")]),t._v(" "),e("option",{attrs:{value:"2"}},[t._v("Accesorios")]),t._v(" "),e("option",{attrs:{value:"3"}},[t._v("Impresion")]),t._v(" "),e("option",{attrs:{value:"4"}},[t._v("Video")])]),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("tipo")))])]),t._v(" "),e("div",{staticClass:"col-md-9 mb-3"},[e("label",[t._v("Seleccione")]),t._v(" "),e("v-select",{attrs:{options:t.list_equipos,label:"descripcion","data-vv-name":"catalogo"},on:{input:function(e){return t.asignar()}},model:{value:t.catalogo,callback:function(e){t.catalogo=e},expression:"catalogo"}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("catalogo")))])],1)]),t._v(" "),e("div",{staticClass:"form-row"},[e("div",{staticClass:"col-md-2 mb-3"},[e("label",[t._v("Cantidad")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.cantidad_temp,expression:"cantidad_temp"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.cantidad_temp},on:{input:function(e){e.target.composing||(t.cantidad_temp=e.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-md-4 mb-3"},[e("label",[t._v("Unidad")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.unidad_temp,expression:"unidad_temp"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.unidad_temp},on:{input:function(e){e.target.composing||(t.unidad_temp=e.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-md-1 mb-3"},[e("label",[t._v(" ")]),e("br"),t._v(" "),e("button",{staticClass:"btn btn-outline-dark",attrs:{name:"button"},on:{click:function(e){return t.guardarasignacion()}}},[t._v("Crear")])])]),t._v(" "),e("hr"),t._v(" "),t._m(0),t._v(" "),t._l(t.listado_data,(function(a,o){return e("li",{key:o,staticClass:"list-group-item"},[e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group col-md-7"},[e("label",[t._v(t._s(a.descripcion))])]),t._v(" "),e("div",{staticClass:"form-group col-md-2"},[e("label",[t._v(t._s(a.cantidad))])]),t._v(" "),e("div",{staticClass:"form-group col-md-2"},[e("label",[t._v(t._s(a.unidad))])]),t._v(" "),e("div",{staticClass:"form-group col-md-1"},[e("a",{directives:[{name:"show",rawName:"v-show",value:a.temp,expression:"vi.temp"}],on:{click:function(e){return t.deleteu(o)}}},[e("span",{staticClass:"fas fa-trash",attrs:{"arial-hidden":"true"}})])])])])})),t._v(" "),e("hr"),t._v(" "),e("div",{staticClass:"form-row"},[e("div",{staticClass:"col-md-6 mb-3"},[e("label",[t._v("Solicita")]),t._v(" "),e("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{options:t.listaEmpleados,label:"nombre","data-vv-name":"Recibe"},model:{value:t.empleado_recibe,callback:function(e){t.empleado_recibe=e},expression:"empleado_recibe"}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Recibe")))])],1)])],2),t._v(" "),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-outline-dark",attrs:{type:"button"},on:{click:function(e){return t.CerrarModal()}}},[e("i",{staticClass:"fas fa-times"}),t._v(" Cerrar")]),t._v(" "),1==t.tipoAccion?e("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.Guardar(1)}}},[e("i",{staticClass:"fas fa-save"}),t._v(" Guardar")]):t._e(),t._v(" "),2==t.tipoAccion?e("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.Guardar(0)}}},[e("i",{staticClass:"fas fa-save"}),t._v(" Actualizar")]):t._e()])])])]),t._v(" "),e("div",{staticClass:"modal fade",class:{mostrar:t.modal_retorno},staticStyle:{display:"none"},attrs:{tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-dark modal-lg",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h4",{staticClass:"modal-title"},[t._v("Material a retornar")]),t._v(" "),e("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.CerrarModalRetorno()}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("x")])])]),t._v(" "),e("div",{staticClass:"modal-body"},[t._m(1),t._v(" "),t._l(t.listado_data,(function(a,o){return e("li",{key:o,staticClass:"list-group-item"},[e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group col-md-7"},[e("label",[t._v(t._s(a.descripcion))])]),t._v(" "),e("div",{staticClass:"form-group col-md-2"},[e("label",[t._v(t._s(a.cantidad))])]),t._v(" "),e("div",{staticClass:"form-group col-md-2"},[e("label",[t._v(t._s(a.unidad))])]),t._v(" "),e("div",{staticClass:"form-group col-md-1"},[e("button",{staticClass:"btn btn-outline-success",on:{click:function(e){return t.retornado(a,2)}}},[t._v("Si ")]),t._v(" "),e("button",{staticClass:"btn btn-outline-danger",on:{click:function(e){return t.retornado(a,0)}}},[t._v("No")])])])])}))],2),t._v(" "),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-outline-dark",attrs:{type:"button"},on:{click:function(e){return t.CerrarModalRetorno()}}},[e("i",{staticClass:"fas fa-times"}),t._v(" Cerrar")]),t._v(" "),e("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.GuardarRetorno(1)}}},[e("i",{staticClass:"fas fa-save"}),t._v(" Guardar")])])])])])])}),[function(){var t=this,e=t._self._c;return e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group col-md-7"},[e("label",[e("b",[t._v("Articulo")])])]),t._v(" "),e("div",{staticClass:"form-group col-md-2"},[e("label",[e("b",[t._v("Cantidad")])])]),t._v(" "),e("div",{staticClass:"form-group col-md-2"},[e("label",[e("b",[t._v("Unidad")])])]),t._v(" "),e("div",{staticClass:"form-group col-md-1"},[e("label",[e("b",[t._v(".")])])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group col-md-7"},[e("label",[e("b",[t._v("Articulo")])])]),t._v(" "),e("div",{staticClass:"form-group col-md-2"},[e("label",[e("b",[t._v("Cantidad")])])]),t._v(" "),e("div",{staticClass:"form-group col-md-2"},[e("label",[e("b",[t._v("Unidad")])])]),t._v(" "),e("div",{staticClass:"form-group col-md-1"},[e("label",[e("b",[t._v(".")])])])])}],!1,null,null,null).exports},26430:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>r});var o=a(60173);const i={data:function(){return{tab:1,empresa:1,PermisosCRUD:{}}},components:{resguardo:function(t){return a.e(18).then(function(){return t(a(94529))}.bind(null,a)).catch(a.oe)},sitio:function(t){return a.e(18).then(function(){return t(a(17554))}.bind(null,a)).catch(a.oe)}},methods:{CambiarTab:function(t){this.tab=t},AbrirModalResguardo:function(){this.$refs.resguardo.AbrirModal(!0)},AbrirModalSitio:function(){this.$refs.sitio.AbrirModal(!0)},ObtenerResguardos:function(){this.$refs.resguardo.CargarDatos(this.empresa)},ObtenerSitios:function(){this.$refs.sitio.CargarDatos(this.empresa)},CargarInicio:function(){this.CambiarTab(1)},DescargarReporte:function(){window.open("ti/vales/descargar")}},mounted:function(){this.PermisosCRUD=o.A.getCRUD(this.$route.path),this.CargarInicio()}};const r=(0,a(14486).A)(i,(function(){var t=this,e=t._self._c;return e("main",{staticClass:"main"},[e("div",{staticClass:"container-fluid1"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-header"},[e("i",{staticClass:"fa fa-align-justify"}),t._v(" Vales De Equipo\n                "),t.PermisosCRUD.Download?e("button",{staticClass:"btn btn-dark float-sm-right btn btn-sm",attrs:{type:"button"},on:{click:function(e){return t.DescargarReporte()}}},[e("i",{staticClass:"fas fa-download mr-1"}),t._v("Descargar\n                ")]):t._e()]),t._v(" "),e("div",{staticClass:"card-body1"},[e("ul",{ref:"tabs",staticClass:"nav nav-tabs",attrs:{role:"tablist"}},[e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link active",attrs:{"aria-expanded":"true","data-toggle":"tab",href:"#menu1",role:"tab"},on:{click:function(e){return t.CambiarTab(1)}}},[e("i",{staticClass:"fas fa-user-shield"}),t._v(" Resguardo")])]),t._v(" "),e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link",attrs:{"data-toggle":"tab",href:"#menu2",role:"tab"},on:{click:function(e){return t.CambiarTab(2)}}},[e("i",{staticClass:"fas fa-map-marker-alt"}),t._v(" Salida")])])]),t._v(" "),e("div",{staticClass:"tab-content"},[e("div",{directives:[{name:"show",rawName:"v-show",value:1==t.tab,expression:"tab == 1"}],staticClass:"tab-pane active",attrs:{id:"menu1","aria-expanded":"true"}},[e("div",{staticClass:"form-row"},[t._m(0),t._v(" "),e("div",{staticClass:"col-md-4"},[t.PermisosCRUD.Create?e("button",{staticClass:"btn btn-dark float-sm-right",attrs:{type:"button"},on:{click:function(e){return t.AbrirModalResguardo()}}},[e("i",{staticClass:"fas fa-plus"}),t._v(" Nuevo\n                                ")]):t._e(),t._v(" "),e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn btn-secondary dropdown-toggle float-sm-right",attrs:{type:"button",id:"dropdownMenu2","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("\n                                        Empresa\n                                    ")]),t._v(" "),e("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenu2"}},[e("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(e){t.empresa=1,t.ObtenerResguardos()}}},[t._v("Conserflow")]),t._v(" "),e("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(e){t.empresa=2,t.ObtenerResguardos()}}},[t._v("CSCT")])])])])]),t._v(" "),e("resguardo",{ref:"resguardo"})],1),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:2==t.tab,expression:"tab == 2"}],staticClass:"tab-pane fade",attrs:{id:"menu2"}},[e("div",{staticClass:"form-row"},[t._m(1),t._v(" "),e("div",{staticClass:"col-md-4"},[e("button",{staticClass:"btn btn-dark float-sm-right",attrs:{type:"button"},on:{click:function(e){return t.AbrirModalSitio()}}},[e("i",{staticClass:"fas fa-plus"}),t._v(" Nuevo\n                                ")]),t._v(" "),e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn btn-secondary dropdown-toggle float-sm-right",attrs:{type:"button",id:"dropdownMenu2","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("\n                                        Empresa\n                                    ")]),t._v(" "),e("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenu2"}},[e("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(e){t.empresa=1,t.ObtenerSitios()}}},[t._v("Conserflow")]),t._v(" "),e("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(e){t.empresa=2,t.ObtenerSitios()}}},[t._v("CSCT")])])])])]),t._v(" "),e("sitio",{ref:"sitio"})],1)])])])])])}),[function(){var t=this._self._c;return t("div",{staticClass:"col-md-8"},[t("h4",[this._v("Resguardo")])])},function(){var t=this._self._c;return t("div",{staticClass:"col-md-8"},[t("h4",[this._v("Sitio")])])}],!1,null,null,null).exports},49133:function(t){t.exports=function(){"use strict";var t,e=(function(t){var e=function(){function t(t,e){for(var a=0;a<e.length;a++){var o=e[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,a,o){return a&&t(e.prototype,a),o&&t(e,o),e}}();function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(){o(this,t)}return e(t,[{key:"on",value:function(t,e){return this._callbacks=this._callbacks||{},this._callbacks[t]||(this._callbacks[t]=[]),this._callbacks[t].push(e),this}},{key:"emit",value:function(t){this._callbacks=this._callbacks||{};var e=this._callbacks[t];if(e){for(var a=arguments.length,o=Array(a>1?a-1:0),i=1;i<a;i++)o[i-1]=arguments[i];for(var r=0,s=s=e;!(r>=s.length);)s[r++].apply(this,o)}return this}},{key:"off",value:function(t,e){if(!this._callbacks||0===arguments.length)return this._callbacks={},this;var a=this._callbacks[t];if(!a)return this;if(1===arguments.length)return delete this._callbacks[t],this;for(var o=0;o<a.length;o++)if(a[o]===e){a.splice(o,1);break}return this}}]),t}(),r=function(){function t(e,i){o(this,t);var r,s=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=void 0;if(s.element=e,s.version=t.version,s.defaultOptions.previewTemplate=s.defaultOptions.previewTemplate.replace(/\n*/g,""),s.clickableElements=[],s.listeners=[],s.files=[],"string"==typeof s.element&&(s.element=document.querySelector(s.element)),!s.element||null==s.element.nodeType)throw new Error("Invalid dropzone element.");if(s.element.dropzone)throw new Error("Dropzone already attached.");t.instances.push(s),s.element.dropzone=s;var l,c=null!=(r=t.optionsForElement(s.element))?r:{};if(s.options=t.extend({},s.defaultOptions,c,null!=i?i:{}),s.options.forceFallback||!t.isBrowserSupported())return l=s.options.fallback.call(s),a(s,l);if(null==s.options.url&&(s.options.url=s.element.getAttribute("action")),!s.options.url)throw new Error("No URL provided.");if(s.options.acceptedFiles&&s.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");if(s.options.uploadMultiple&&s.options.chunking)throw new Error("You cannot set both: uploadMultiple and chunking.");return s.options.acceptedMimeTypes&&(s.options.acceptedFiles=s.options.acceptedMimeTypes,delete s.options.acceptedMimeTypes),null!=s.options.renameFilename&&(s.options.renameFile=function(t){return s.options.renameFilename.call(s,t.name,t)}),s.options.method=s.options.method.toUpperCase(),(n=s.getExistingFallback())&&n.parentNode&&n.parentNode.removeChild(n),!1!==s.options.previewsContainer&&(s.options.previewsContainer?s.previewsContainer=t.getElement(s.options.previewsContainer,"previewsContainer"):s.previewsContainer=s.element),s.options.clickable&&(!0===s.options.clickable?s.clickableElements=[s.element]:s.clickableElements=t.getElements(s.options.clickable,"clickable")),s.init(),s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(t,i),e(t,null,[{key:"initClass",value:function(){this.prototype.Emitter=i,this.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],this.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,timeout:3e4,parallelUploads:2,uploadMultiple:!1,chunking:!1,forceChunking:!1,chunkSize:2e6,parallelChunkUploads:!1,retryChunks:!1,retryChunksLimit:3,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:.8,resizeMethod:"contain",filesizeBase:1e3,maxFiles:null,headers:null,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictUploadCanceled:"Upload canceled.",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init:function(){},params:function(t,e,a){if(a)return{dzuuid:a.file.upload.uuid,dzchunkindex:a.index,dztotalfilesize:a.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:a.file.upload.totalChunkCount,dzchunkbyteoffset:a.index*this.options.chunkSize}},accept:function(t,e){return e()},chunksUploaded:function(t,e){e()},fallback:function(){var e=void 0;this.element.className=this.element.className+" dz-browser-not-supported";for(var a=0,o=o=this.element.getElementsByTagName("div");!(a>=o.length);){var i=o[a++];if(/(^| )dz-message($| )/.test(i.className)){e=i,i.className="dz-message";break}}e||(e=t.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(e));var r=e.getElementsByTagName("span")[0];return r&&(null!=r.textContent?r.textContent=this.options.dictFallbackMessage:null!=r.innerText&&(r.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(t,e,a,o){var i={srcX:0,srcY:0,srcWidth:t.width,srcHeight:t.height},r=t.width/t.height;null==e&&null==a?(e=i.srcWidth,a=i.srcHeight):null==e?e=a*r:null==a&&(a=e/r);var s=(e=Math.min(e,i.srcWidth))/(a=Math.min(a,i.srcHeight));if(i.srcWidth>e||i.srcHeight>a)if("crop"===o)r>s?(i.srcHeight=t.height,i.srcWidth=i.srcHeight*s):(i.srcWidth=t.width,i.srcHeight=i.srcWidth/s);else{if("contain"!==o)throw new Error("Unknown resizeMethod '"+o+"'");r>s?a=e/r:e=a*r}return i.srcX=(t.width-i.srcWidth)/2,i.srcY=(t.height-i.srcHeight)/2,i.trgWidth=e,i.trgHeight=a,i},transformFile:function(t,e){return(this.options.resizeWidth||this.options.resizeHeight)&&t.type.match(/image.*/)?this.resizeImage(t,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,e):e(t)},previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>',drop:function(t){return this.element.classList.remove("dz-drag-hover")},dragstart:function(t){},dragend:function(t){return this.element.classList.remove("dz-drag-hover")},dragenter:function(t){return this.element.classList.add("dz-drag-hover")},dragover:function(t){return this.element.classList.add("dz-drag-hover")},dragleave:function(t){return this.element.classList.remove("dz-drag-hover")},paste:function(t){},reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(e){var a=this;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){e.previewElement=t.createElement(this.options.previewTemplate.trim()),e.previewTemplate=e.previewElement,this.previewsContainer.appendChild(e.previewElement);for(var o=0,i=i=e.previewElement.querySelectorAll("[data-dz-name]");!(o>=i.length);){var r=i[o++];r.textContent=e.name}for(var s=0,n=n=e.previewElement.querySelectorAll("[data-dz-size]");!(s>=n.length);)(r=n[s++]).innerHTML=this.filesize(e.size);this.options.addRemoveLinks&&(e._removeLink=t.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),e.previewElement.appendChild(e._removeLink));for(var l=function(o){return o.preventDefault(),o.stopPropagation(),e.status===t.UPLOADING?t.confirm(a.options.dictCancelUploadConfirmation,(function(){return a.removeFile(e)})):a.options.dictRemoveFileConfirmation?t.confirm(a.options.dictRemoveFileConfirmation,(function(){return a.removeFile(e)})):a.removeFile(e)},c=0,d=d=e.previewElement.querySelectorAll("[data-dz-remove]");!(c>=d.length);)d[c++].addEventListener("click",l)}},removedfile:function(t){return null!=t.previewElement&&null!=t.previewElement.parentNode&&t.previewElement.parentNode.removeChild(t.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(t,e){if(t.previewElement){t.previewElement.classList.remove("dz-file-preview");for(var a=0,o=o=t.previewElement.querySelectorAll("[data-dz-thumbnail]");!(a>=o.length);){var i=o[a++];i.alt=t.name,i.src=e}return setTimeout((function(){return t.previewElement.classList.add("dz-image-preview")}),1)}},error:function(t,e){if(t.previewElement){t.previewElement.classList.add("dz-error"),"String"!=typeof e&&e.error&&(e=e.error);for(var a=0,o=o=t.previewElement.querySelectorAll("[data-dz-errormessage]");!(a>=o.length);)o[a++].textContent=e}},errormultiple:function(){},processing:function(t){if(t.previewElement&&(t.previewElement.classList.add("dz-processing"),t._removeLink))return t._removeLink.innerHTML=this.options.dictCancelUpload},processingmultiple:function(){},uploadprogress:function(t,e,a){if(t.previewElement)for(var o=0,i=i=t.previewElement.querySelectorAll("[data-dz-uploadprogress]");!(o>=i.length);){var r=i[o++];"PROGRESS"===r.nodeName?r.value=e:r.style.width=e+"%"}},totaluploadprogress:function(){},sending:function(){},sendingmultiple:function(){},success:function(t){if(t.previewElement)return t.previewElement.classList.add("dz-success")},successmultiple:function(){},canceled:function(t){return this.emit("error",t,this.options.dictUploadCanceled)},canceledmultiple:function(){},complete:function(t){if(t._removeLink&&(t._removeLink.innerHTML=this.options.dictRemoveFile),t.previewElement)return t.previewElement.classList.add("dz-complete")},completemultiple:function(){},maxfilesexceeded:function(){},maxfilesreached:function(){},queuecomplete:function(){},addedfiles:function(){}},this.prototype._thumbnailQueue=[],this.prototype._processingThumbnail=!1}},{key:"extend",value:function(t){for(var e=arguments.length,a=Array(e>1?e-1:0),o=1;o<e;o++)a[o-1]=arguments[o];for(var i=0,r=r=a;!(i>=r.length);){var s=r[i++];for(var n in s){var l=s[n];t[n]=l}}return t}}]),e(t,[{key:"getAcceptedFiles",value:function(){return this.files.filter((function(t){return t.accepted})).map((function(t){return t}))}},{key:"getRejectedFiles",value:function(){return this.files.filter((function(t){return!t.accepted})).map((function(t){return t}))}},{key:"getFilesWithStatus",value:function(t){return this.files.filter((function(e){return e.status===t})).map((function(t){return t}))}},{key:"getQueuedFiles",value:function(){return this.getFilesWithStatus(t.QUEUED)}},{key:"getUploadingFiles",value:function(){return this.getFilesWithStatus(t.UPLOADING)}},{key:"getAddedFiles",value:function(){return this.getFilesWithStatus(t.ADDED)}},{key:"getActiveFiles",value:function(){return this.files.filter((function(e){return e.status===t.UPLOADING||e.status===t.QUEUED})).map((function(t){return t}))}},{key:"init",value:function(){var e=this;"form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(t.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length&&function a(){return e.hiddenFileInput&&e.hiddenFileInput.parentNode.removeChild(e.hiddenFileInput),e.hiddenFileInput=document.createElement("input"),e.hiddenFileInput.setAttribute("type","file"),(null===e.options.maxFiles||e.options.maxFiles>1)&&e.hiddenFileInput.setAttribute("multiple","multiple"),e.hiddenFileInput.className="dz-hidden-input",null!==e.options.acceptedFiles&&e.hiddenFileInput.setAttribute("accept",e.options.acceptedFiles),null!==e.options.capture&&e.hiddenFileInput.setAttribute("capture",e.options.capture),e.hiddenFileInput.style.visibility="hidden",e.hiddenFileInput.style.position="absolute",e.hiddenFileInput.style.top="0",e.hiddenFileInput.style.left="0",e.hiddenFileInput.style.height="0",e.hiddenFileInput.style.width="0",t.getElement(e.options.hiddenInputContainer,"hiddenInputContainer").appendChild(e.hiddenFileInput),e.hiddenFileInput.addEventListener("change",(function(){var t=e.hiddenFileInput.files;if(t.length)for(var o=0,i=i=t;!(o>=i.length);){var r=i[o++];e.addFile(r)}return e.emit("addedfiles",t),a()}))}(),this.URL=null!==window.URL?window.URL:window.webkitURL;for(var a=0,o=o=this.events;!(a>=o.length);){var i=o[a++];this.on(i,this.options[i])}this.on("uploadprogress",(function(){return e.updateTotalUploadProgress()})),this.on("removedfile",(function(){return e.updateTotalUploadProgress()})),this.on("canceled",(function(t){return e.emit("complete",t)})),this.on("complete",(function(t){if(0===e.getAddedFiles().length&&0===e.getUploadingFiles().length&&0===e.getQueuedFiles().length)return setTimeout((function(){return e.emit("queuecomplete")}),0)}));var r=function(t){return t.stopPropagation(),t.preventDefault?t.preventDefault():t.returnValue=!1};return this.listeners=[{element:this.element,events:{dragstart:function(t){return e.emit("dragstart",t)},dragenter:function(t){return r(t),e.emit("dragenter",t)},dragover:function(t){var a=void 0;try{a=t.dataTransfer.effectAllowed}catch(t){}return t.dataTransfer.dropEffect="move"===a||"linkMove"===a?"move":"copy",r(t),e.emit("dragover",t)},dragleave:function(t){return e.emit("dragleave",t)},drop:function(t){return r(t),e.drop(t)},dragend:function(t){return e.emit("dragend",t)}}}],this.clickableElements.forEach((function(a){return e.listeners.push({element:a,events:{click:function(o){return(a!==e.element||o.target===e.element||t.elementInside(o.target,e.element.querySelector(".dz-message")))&&e.hiddenFileInput.click(),!0}}})})),this.enable(),this.options.init.call(this)}},{key:"destroy",value:function(){return this.disable(),this.removeAllFiles(!0),(null!=this.hiddenFileInput?this.hiddenFileInput.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,t.instances.splice(t.instances.indexOf(this),1)}},{key:"updateTotalUploadProgress",value:function(){var t=void 0,e=0,a=0;if(this.getActiveFiles().length){for(var o=0,i=i=this.getActiveFiles();!(o>=i.length);){var r=i[o++];e+=r.upload.bytesSent,a+=r.upload.total}t=100*e/a}else t=100;return this.emit("totaluploadprogress",t,a,e)}},{key:"_getParamName",value:function(t){return"function"==typeof this.options.paramName?this.options.paramName(t):this.options.paramName+(this.options.uploadMultiple?"["+t+"]":"")}},{key:"_renameFile",value:function(t){return"function"!=typeof this.options.renameFile?t.name:this.options.renameFile(t)}},{key:"getFallbackForm",value:function(){var e,a=void 0;if(e=this.getExistingFallback())return e;var o='<div class="dz-fallback">';this.options.dictFallbackText&&(o+="<p>"+this.options.dictFallbackText+"</p>"),o+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>';var i=t.createElement(o);return"FORM"!==this.element.tagName?(a=t.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>')).appendChild(i):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=a?a:i}},{key:"getExistingFallback",value:function(){for(var t=function(t){for(var e=0,a=a=t;!(e>=a.length);){var o=a[e++];if(/(^| )fallback($| )/.test(o.className))return o}},e=["div","form"],a=0;a<e.length;a++){var o,i=e[a];if(o=t(this.element.getElementsByTagName(i)))return o}}},{key:"setupEventListeners",value:function(){return this.listeners.map((function(t){return function(){var e=[];for(var a in t.events){var o=t.events[a];e.push(t.element.addEventListener(a,o,!1))}return e}()}))}},{key:"removeEventListeners",value:function(){return this.listeners.map((function(t){return function(){var e=[];for(var a in t.events){var o=t.events[a];e.push(t.element.removeEventListener(a,o,!1))}return e}()}))}},{key:"disable",value:function(){var t=this;return this.clickableElements.forEach((function(t){return t.classList.remove("dz-clickable")})),this.removeEventListeners(),this.disabled=!0,this.files.map((function(e){return t.cancelUpload(e)}))}},{key:"enable",value:function(){return delete this.disabled,this.clickableElements.forEach((function(t){return t.classList.add("dz-clickable")})),this.setupEventListeners()}},{key:"filesize",value:function(t){var e=0,a="b";if(t>0){for(var o=["tb","gb","mb","kb","b"],i=0;i<o.length;i++){var r=o[i];if(t>=Math.pow(this.options.filesizeBase,4-i)/10){e=t/Math.pow(this.options.filesizeBase,4-i),a=r;break}}e=Math.round(10*e)/10}return"<strong>"+e+"</strong> "+this.options.dictFileSizeUnits[a]}},{key:"_updateMaxFilesReachedClass",value:function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")}},{key:"drop",value:function(t){if(t.dataTransfer){this.emit("drop",t);for(var e=[],a=0;a<t.dataTransfer.files.length;a++)e[a]=t.dataTransfer.files[a];if(this.emit("addedfiles",e),e.length){var o=t.dataTransfer.items;o&&o.length&&null!=o[0].webkitGetAsEntry?this._addFilesFromItems(o):this.handleFiles(e)}}}},{key:"paste",value:function(t){if(null!=(a=function(t){return t.items},null!=(e=null!=t?t.clipboardData:void 0)?a(e):void 0)){var e,a;this.emit("paste",t);var o=t.clipboardData.items;return o.length?this._addFilesFromItems(o):void 0}}},{key:"handleFiles",value:function(t){for(var e=0,a=a=t;!(e>=a.length);){var o=a[e++];this.addFile(o)}}},{key:"_addFilesFromItems",value:function(t){var e=this;return function(){for(var a=[],o=0,i=i=t;!(o>=i.length);){var r,s=i[o++];null!=s.webkitGetAsEntry&&(r=s.webkitGetAsEntry())?r.isFile?a.push(e.addFile(s.getAsFile())):r.isDirectory?a.push(e._addFilesFromDirectory(r,r.name)):a.push(void 0):null==s.getAsFile||null!=s.kind&&"file"!==s.kind?a.push(void 0):a.push(e.addFile(s.getAsFile()))}return a}()}},{key:"_addFilesFromDirectory",value:function(t,e){var a=this,o=t.createReader(),i=function(t){return a="log",o=function(e){return e.log(t)},null!=(e=console)&&"function"==typeof e[a]?o(e,a):void 0;var e,a,o};return function t(){return o.readEntries((function(o){if(o.length>0){for(var i=0,r=r=o;!(i>=r.length);){var s=r[i++];s.isFile?s.file((function(t){if(!a.options.ignoreHiddenFiles||"."!==t.name.substring(0,1))return t.fullPath=e+"/"+t.name,a.addFile(t)})):s.isDirectory&&a._addFilesFromDirectory(s,e+"/"+s.name)}t()}return null}),i)}()}},{key:"accept",value:function(e,a){return this.options.maxFilesize&&e.size>1024*this.options.maxFilesize*1024?a(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(e.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):t.isValidFile(e,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(a(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",e)):this.options.accept.call(this,e,a):a(this.options.dictInvalidFileType)}},{key:"addFile",value:function(e){var a=this;return e.upload={uuid:t.uuidv4(),progress:0,total:e.size,bytesSent:0,filename:this._renameFile(e),chunked:this.options.chunking&&(this.options.forceChunking||e.size>this.options.chunkSize),totalChunkCount:Math.ceil(e.size/this.options.chunkSize)},this.files.push(e),e.status=t.ADDED,this.emit("addedfile",e),this._enqueueThumbnail(e),this.accept(e,(function(t){return t?(e.accepted=!1,a._errorProcessing([e],t)):(e.accepted=!0,a.options.autoQueue&&a.enqueueFile(e)),a._updateMaxFilesReachedClass()}))}},{key:"enqueueFiles",value:function(t){for(var e=0,a=a=t;!(e>=a.length);){var o=a[e++];this.enqueueFile(o)}return null}},{key:"enqueueFile",value:function(e){var a=this;if(e.status!==t.ADDED||!0!==e.accepted)throw new Error("This file can't be queued because it has already been processed or was rejected.");if(e.status=t.QUEUED,this.options.autoProcessQueue)return setTimeout((function(){return a.processQueue()}),0)}},{key:"_enqueueThumbnail",value:function(t){var e=this;if(this.options.createImageThumbnails&&t.type.match(/image.*/)&&t.size<=1024*this.options.maxThumbnailFilesize*1024)return this._thumbnailQueue.push(t),setTimeout((function(){return e._processThumbnailQueue()}),0)}},{key:"_processThumbnailQueue",value:function(){var t=this;if(!this._processingThumbnail&&0!==this._thumbnailQueue.length){this._processingThumbnail=!0;var e=this._thumbnailQueue.shift();return this.createThumbnail(e,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,(function(a){return t.emit("thumbnail",e,a),t._processingThumbnail=!1,t._processThumbnailQueue()}))}}},{key:"removeFile",value:function(e){if(e.status===t.UPLOADING&&this.cancelUpload(e),this.files=s(this.files,e),this.emit("removedfile",e),0===this.files.length)return this.emit("reset")}},{key:"removeAllFiles",value:function(e){null==e&&(e=!1);for(var a=0,o=o=this.files.slice();!(a>=o.length);){var i=o[a++];(i.status!==t.UPLOADING||e)&&this.removeFile(i)}return null}},{key:"resizeImage",value:function(e,a,o,i,r){var s=this;return this.createThumbnail(e,a,o,i,!0,(function(a,o){if(null==o)return r(e);var i=s.options.resizeMimeType;null==i&&(i=e.type);var n=o.toDataURL(i,s.options.resizeQuality);return"image/jpeg"!==i&&"image/jpg"!==i||(n=c.restore(e.dataURL,n)),r(t.dataURItoBlob(n))}))}},{key:"createThumbnail",value:function(t,e,a,o,i,r){var s=this,n=new FileReader;return n.onload=function(){if(t.dataURL=n.result,"image/svg+xml"!==t.type)return s.createThumbnailFromUrl(t,e,a,o,i,r);null!=r&&r(n.result)},n.readAsDataURL(t)}},{key:"createThumbnailFromUrl",value:function(t,e,a,o,i,r,s){var n=this,c=document.createElement("img");return s&&(c.crossOrigin=s),c.onload=function(){var s=function(t){return t(1)};return"undefined"!=typeof EXIF&&null!==EXIF&&i&&(s=function(t){return EXIF.getData(c,(function(){return t(EXIF.getTag(this,"Orientation"))}))}),s((function(i){t.width=c.width,t.height=c.height;var s=n.options.resize.call(n,t,e,a,o),d=document.createElement("canvas"),u=d.getContext("2d");switch(d.width=s.trgWidth,d.height=s.trgHeight,i>4&&(d.width=s.trgHeight,d.height=s.trgWidth),i){case 2:u.translate(d.width,0),u.scale(-1,1);break;case 3:u.translate(d.width,d.height),u.rotate(Math.PI);break;case 4:u.translate(0,d.height),u.scale(1,-1);break;case 5:u.rotate(.5*Math.PI),u.scale(1,-1);break;case 6:u.rotate(.5*Math.PI),u.translate(0,-d.width);break;case 7:u.rotate(.5*Math.PI),u.translate(d.height,-d.width),u.scale(-1,1);break;case 8:u.rotate(-.5*Math.PI),u.translate(-d.height,0)}l(u,c,null!=s.srcX?s.srcX:0,null!=s.srcY?s.srcY:0,s.srcWidth,s.srcHeight,null!=s.trgX?s.trgX:0,null!=s.trgY?s.trgY:0,s.trgWidth,s.trgHeight);var p=d.toDataURL("image/png");if(null!=r)return r(p,d)}))},null!=r&&(c.onerror=r),c.src=t.dataURL}},{key:"processQueue",value:function(){var t=this.options.parallelUploads,e=this.getUploadingFiles().length,a=e;if(!(e>=t)){var o=this.getQueuedFiles();if(o.length>0){if(this.options.uploadMultiple)return this.processFiles(o.slice(0,t-e));for(;a<t;){if(!o.length)return;this.processFile(o.shift()),a++}}}}},{key:"processFile",value:function(t){return this.processFiles([t])}},{key:"processFiles",value:function(e){for(var a=0,o=o=e;!(a>=o.length);){var i=o[a++];i.processing=!0,i.status=t.UPLOADING,this.emit("processing",i)}return this.options.uploadMultiple&&this.emit("processingmultiple",e),this.uploadFiles(e)}},{key:"_getFilesWithXhr",value:function(t){return this.files.filter((function(e){return e.xhr===t})).map((function(t){return t}))}},{key:"cancelUpload",value:function(e){if(e.status===t.UPLOADING){for(var a=this._getFilesWithXhr(e.xhr),o=0,i=i=a;!(o>=i.length);)i[o++].status=t.CANCELED;void 0!==e.xhr&&e.xhr.abort();for(var r=0,s=s=a;!(r>=s.length);){var n=s[r++];this.emit("canceled",n)}this.options.uploadMultiple&&this.emit("canceledmultiple",a)}else e.status!==t.ADDED&&e.status!==t.QUEUED||(e.status=t.CANCELED,this.emit("canceled",e),this.options.uploadMultiple&&this.emit("canceledmultiple",[e]));if(this.options.autoProcessQueue)return this.processQueue()}},{key:"resolveOption",value:function(t){if("function"==typeof t){for(var e=arguments.length,a=Array(e>1?e-1:0),o=1;o<e;o++)a[o-1]=arguments[o];return t.apply(this,a)}return t}},{key:"uploadFile",value:function(t){return this.uploadFiles([t])}},{key:"uploadFiles",value:function(e){var a=this;this._transformFiles(e,(function(o){if(e[0].upload.chunked){var i=e[0],r=o[0];i.upload.chunks=[];var s=function(){for(var o=0;void 0!==i.upload.chunks[o];)o++;if(!(o>=i.upload.totalChunkCount)){var s=o*a.options.chunkSize,n=Math.min(s+a.options.chunkSize,i.size),l={name:a._getParamName(0),data:r.webkitSlice?r.webkitSlice(s,n):r.slice(s,n),filename:i.upload.filename,chunkIndex:o};i.upload.chunks[o]={file:i,index:o,dataBlock:l,status:t.UPLOADING,progress:0,retries:0},a._uploadData(e,[l])}};if(i.upload.finishedChunkUpload=function(o){var r=!0;o.status=t.SUCCESS,o.dataBlock=null,o.xhr=null;for(var n=0;n<i.upload.totalChunkCount;n++){if(void 0===i.upload.chunks[n])return s();i.upload.chunks[n].status!==t.SUCCESS&&(r=!1)}r&&a.options.chunksUploaded(i,(function(){a._finished(e,"",null)}))},a.options.parallelChunkUploads)for(var n=0;n<i.upload.totalChunkCount;n++)s();else s()}else{for(var l=[],c=0;c<e.length;c++)l[c]={name:a._getParamName(c),data:o[c],filename:e[c].upload.filename};a._uploadData(e,l)}}))}},{key:"_getChunk",value:function(t,e){for(var a=0;a<t.upload.totalChunkCount;a++)if(void 0!==t.upload.chunks[a]&&t.upload.chunks[a].xhr===e)return t.upload.chunks[a]}},{key:"_uploadData",value:function(e,a){for(var o=this,i=new XMLHttpRequest,r=0,s=s=e;!(r>=s.length);)s[r++].xhr=i;e[0].upload.chunked&&(e[0].upload.chunks[a[0].chunkIndex].xhr=i);var n=this.resolveOption(this.options.method,e),l=this.resolveOption(this.options.url,e);i.open(n,l,!0),i.timeout=this.resolveOption(this.options.timeout,e),i.withCredentials=!!this.options.withCredentials,i.onload=function(t){o._finishedUploading(e,i,t)},i.onerror=function(){o._handleUploadError(e,i)},(null!=i.upload?i.upload:i).onprogress=function(t){return o._updateFilesUploadProgress(e,i,t)};var c={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};for(var d in this.options.headers&&t.extend(c,this.options.headers),c){var u=c[d];u&&i.setRequestHeader(d,u)}var p=new FormData;if(this.options.params){var m=this.options.params;for(var v in"function"==typeof m&&(m=m.call(this,e,i,e[0].upload.chunked?this._getChunk(e[0],i):null)),m){var _=m[v];p.append(v,_)}}for(var f=0,h=h=e;!(f>=h.length);){var b=h[f++];this.emit("sending",b,i,p)}this.options.uploadMultiple&&this.emit("sendingmultiple",e,i,p),this._addFormElementData(p);for(var g=0;g<a.length;g++){var C=a[g];p.append(C.name,C.data,C.filename)}this.submitRequest(i,p,e)}},{key:"_transformFiles",value:function(t,e){for(var a=this,o=[],i=0,r=function(r){a.options.transformFile.call(a,t[r],(function(a){o[r]=a,++i===t.length&&e(o)}))},s=0;s<t.length;s++)r(s)}},{key:"_addFormElementData",value:function(t){if("FORM"===this.element.tagName)for(var e=0,a=a=this.element.querySelectorAll("input, textarea, select, button");!(e>=a.length);){var o=a[e++],i=o.getAttribute("name"),r=o.getAttribute("type");if(r&&(r=r.toLowerCase()),null!=i)if("SELECT"===o.tagName&&o.hasAttribute("multiple"))for(var s=0,n=n=o.options;!(s>=n.length);){var l=n[s++];l.selected&&t.append(i,l.value)}else(!r||"checkbox"!==r&&"radio"!==r||o.checked)&&t.append(i,o.value)}}},{key:"_updateFilesUploadProgress",value:function(t,e,a){var o=void 0;if(void 0!==a){if(o=100*a.loaded/a.total,t[0].upload.chunked){var i=t[0],r=this._getChunk(i,e);r.progress=o,r.total=a.total,r.bytesSent=a.loaded,i.upload.progress=0,i.upload.total=0,i.upload.bytesSent=0;for(var s=0;s<i.upload.totalChunkCount;s++)void 0!==i.upload.chunks[s]&&void 0!==i.upload.chunks[s].progress&&(i.upload.progress+=i.upload.chunks[s].progress,i.upload.total+=i.upload.chunks[s].total,i.upload.bytesSent+=i.upload.chunks[s].bytesSent);i.upload.progress=i.upload.progress/i.upload.totalChunkCount}else for(var n=0,l=l=t;!(n>=l.length);){var c=l[n++];c.upload.progress=o,c.upload.total=a.total,c.upload.bytesSent=a.loaded}for(var d=0,u=u=t;!(d>=u.length);){var p=u[d++];this.emit("uploadprogress",p,p.upload.progress,p.upload.bytesSent)}}else{var m=!0;o=100;for(var v=0,_=_=t;!(v>=_.length);){var f=_[v++];100===f.upload.progress&&f.upload.bytesSent===f.upload.total||(m=!1),f.upload.progress=o,f.upload.bytesSent=f.upload.total}if(m)return;for(var h=0,b=b=t;!(h>=b.length);){var g=b[h++];this.emit("uploadprogress",g,o,g.upload.bytesSent)}}}},{key:"_finishedUploading",value:function(e,a,o){var i=void 0;if(e[0].status!==t.CANCELED&&4===a.readyState){if("arraybuffer"!==a.responseType&&"blob"!==a.responseType&&(i=a.responseText,a.getResponseHeader("content-type")&&~a.getResponseHeader("content-type").indexOf("application/json")))try{i=JSON.parse(i)}catch(e){o=e,i="Invalid JSON response from server."}this._updateFilesUploadProgress(e),200<=a.status&&a.status<300?e[0].upload.chunked?e[0].upload.finishedChunkUpload(this._getChunk(e[0],a)):this._finished(e,i,o):this._handleUploadError(e,a,i)}}},{key:"_handleUploadError",value:function(e,a,o){if(e[0].status!==t.CANCELED){if(e[0].upload.chunked&&this.options.retryChunks){var i=this._getChunk(e[0],a);if(i.retries++<this.options.retryChunksLimit)return void this._uploadData(e,[i.dataBlock]);console.warn("Retried this chunk too often. Giving up.")}for(var r=0,s=s=e;!(r>=s.length);)s[r++],this._errorProcessing(e,o||this.options.dictResponseError.replace("{{statusCode}}",a.status),a)}}},{key:"submitRequest",value:function(t,e,a){t.send(e)}},{key:"_finished",value:function(e,a,o){for(var i=0,r=r=e;!(i>=r.length);){var s=r[i++];s.status=t.SUCCESS,this.emit("success",s,a,o),this.emit("complete",s)}if(this.options.uploadMultiple&&(this.emit("successmultiple",e,a,o),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()}},{key:"_errorProcessing",value:function(e,a,o){for(var i=0,r=r=e;!(i>=r.length);){var s=r[i++];s.status=t.ERROR,this.emit("error",s,a,o),this.emit("complete",s)}if(this.options.uploadMultiple&&(this.emit("errormultiple",e,a,o),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()}}],[{key:"uuidv4",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))}}]),t}();r.initClass(),r.version="5.5.1",r.options={},r.optionsForElement=function(t){return t.getAttribute("id")?r.options[n(t.getAttribute("id"))]:void 0},r.instances=[],r.forElement=function(t){if("string"==typeof t&&(t=document.querySelector(t)),null==(null!=t?t.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return t.dropzone},r.autoDiscover=!0,r.discover=function(){var t=void 0;if(document.querySelectorAll)t=document.querySelectorAll(".dropzone");else{t=[];var e=function(e){return function(){for(var a=[],o=0,i=i=e;!(o>=i.length);){var r=i[o++];/(^| )dropzone($| )/.test(r.className)?a.push(t.push(r)):a.push(void 0)}return a}()};e(document.getElementsByTagName("div")),e(document.getElementsByTagName("form"))}return function(){for(var e=[],a=0,o=o=t;!(a>=o.length);){var i=o[a++];!1!==r.optionsForElement(i)?e.push(new r(i)):e.push(void 0)}return e}()},r.blacklistedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i],r.isBrowserSupported=function(){var t=!0;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(var e=0,a=a=r.blacklistedBrowsers;!(e>=a.length);)a[e++].test(navigator.userAgent)&&(t=!1);else t=!1;else t=!1;return t},r.dataURItoBlob=function(t){for(var e=atob(t.split(",")[1]),a=t.split(",")[0].split(":")[1].split(";")[0],o=new ArrayBuffer(e.length),i=new Uint8Array(o),r=0,s=e.length,n=0<=s;n?r<=s:r>=s;n?r++:r--)i[r]=e.charCodeAt(r);return new Blob([o],{type:a})};var s=function(t,e){return t.filter((function(t){return t!==e})).map((function(t){return t}))},n=function(t){return t.replace(/[\-_](\w)/g,(function(t){return t.charAt(1).toUpperCase()}))};r.createElement=function(t){var e=document.createElement("div");return e.innerHTML=t,e.childNodes[0]},r.elementInside=function(t,e){if(t===e)return!0;for(;t=t.parentNode;)if(t===e)return!0;return!1},r.getElement=function(t,e){var a=void 0;if("string"==typeof t?a=document.querySelector(t):null!=t.nodeType&&(a=t),null==a)throw new Error("Invalid `"+e+"` option provided. Please provide a CSS selector or a plain HTML element.");return a},r.getElements=function(t,e){var a=void 0,o=void 0;if(t instanceof Array){o=[];try{for(var i=0,r=r=t;!(i>=r.length);)a=r[i++],o.push(this.getElement(a,e))}catch(t){o=null}}else if("string"==typeof t){o=[];for(var s=0,n=n=document.querySelectorAll(t);!(s>=n.length);)a=n[s++],o.push(a)}else null!=t.nodeType&&(o=[t]);if(null==o||!o.length)throw new Error("Invalid `"+e+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return o},r.confirm=function(t,e,a){return window.confirm(t)?e():null!=a?a():void 0},r.isValidFile=function(t,e){if(!e)return!0;e=e.split(",");for(var a=t.type,o=a.replace(/\/.*$/,""),i=0,r=r=e;!(i>=r.length);){var s=r[i++];if("."===(s=s.trim()).charAt(0)){if(-1!==t.name.toLowerCase().indexOf(s.toLowerCase(),t.name.length-s.length))return!0}else if(/\/\*$/.test(s)){if(o===s.replace(/\/.*$/,""))return!0}else if(a===s)return!0}return!1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(t){return this.each((function(){return new r(this,t)}))}),null!==t?t.exports=r:window.Dropzone=r,r.ADDED="added",r.QUEUED="queued",r.ACCEPTED=r.QUEUED,r.UPLOADING="uploading",r.PROCESSING=r.UPLOADING,r.CANCELED="canceled",r.ERROR="error",r.SUCCESS="success";var l=function(t,e,a,o,i,r,s,n,l,c){var d=function(t){t.naturalWidth;var e=t.naturalHeight,a=document.createElement("canvas");a.width=1,a.height=e;var o=a.getContext("2d");o.drawImage(t,0,0);for(var i=o.getImageData(1,0,1,e).data,r=0,s=e,n=e;n>r;)0===i[4*(n-1)+3]?s=n:r=n,n=s+r>>1;var l=n/e;return 0===l?1:l}(e);return t.drawImage(e,a,o,i,r,s,n,l,c/d)},c=function(){function t(){o(this,t)}return e(t,null,[{key:"initClass",value:function(){this.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}},{key:"encode64",value:function(t){for(var e="",a=void 0,o=void 0,i="",r=void 0,s=void 0,n=void 0,l="",c=0;r=(a=t[c++])>>2,s=(3&a)<<4|(o=t[c++])>>4,n=(15&o)<<2|(i=t[c++])>>6,l=63&i,isNaN(o)?n=l=64:isNaN(i)&&(l=64),e=e+this.KEY_STR.charAt(r)+this.KEY_STR.charAt(s)+this.KEY_STR.charAt(n)+this.KEY_STR.charAt(l),a=o=i="",r=s=n=l="",c<t.length;);return e}},{key:"restore",value:function(t,e){if(!t.match("data:image/jpeg;base64,"))return e;var a=this.decode64(t.replace("data:image/jpeg;base64,","")),o=this.slice2Segments(a),i=this.exifManipulation(e,o);return"data:image/jpeg;base64,"+this.encode64(i)}},{key:"exifManipulation",value:function(t,e){var a=this.getExifArray(e),o=this.insertExif(t,a);return new Uint8Array(o)}},{key:"getExifArray",value:function(t){for(var e=void 0,a=0;a<t.length;){if(255===(e=t[a])[0]&225===e[1])return e;a++}return[]}},{key:"insertExif",value:function(t,e){var a=t.replace("data:image/jpeg;base64,",""),o=this.decode64(a),i=o.indexOf(255,3),r=o.slice(0,i),s=o.slice(i),n=r;return(n=n.concat(e)).concat(s)}},{key:"slice2Segments",value:function(t){for(var e=0,a=[];!(255===t[e]&218===t[e+1]);){if(255===t[e]&216===t[e+1])e+=2;else{var o=e+(256*t[e+2]+t[e+3])+2,i=t.slice(e,o);a.push(i),e=o}if(e>t.length)break}return a}},{key:"decode64",value:function(t){var e=void 0,a=void 0,o="",i=void 0,r=void 0,s="",n=0,l=[];for(/[^A-Za-z0-9\+\/\=]/g.exec(t)&&console.warn("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding."),t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");e=this.KEY_STR.indexOf(t.charAt(n++))<<2|(i=this.KEY_STR.indexOf(t.charAt(n++)))>>4,a=(15&i)<<4|(r=this.KEY_STR.indexOf(t.charAt(n++)))>>2,o=(3&r)<<6|(s=this.KEY_STR.indexOf(t.charAt(n++))),l.push(e),64!==r&&l.push(a),64!==s&&l.push(o),e=a=o="",i=r=s="",n<t.length;);return l}}]),t}();c.initClass(),r._autoDiscoverFunction=function(){if(r.autoDiscover)return r.discover()},function(t,e){var a=!1,o=!0,i=t.document,r=i.documentElement,s=i.addEventListener?"addEventListener":"attachEvent",n=i.addEventListener?"removeEventListener":"detachEvent",l=i.addEventListener?"":"on",c=function o(r){if("readystatechange"!==r.type||"complete"===i.readyState)return("load"===r.type?t:i)[n](l+r.type,o,!1),!a&&(a=!0)?e.call(t,r.type||r):void 0};if("complete"!==i.readyState){if(i.createEventObject&&r.doScroll){try{o=!t.frameElement}catch(t){}o&&function t(){try{r.doScroll("left")}catch(e){return void setTimeout(t,50)}return c("poll")}()}i[s](l+"DOMContentLoaded",c,!1),i[s](l+"readystatechange",c,!1),t[s](l+"load",c,!1)}}(window,r._autoDiscoverFunction)}(t={exports:{}},t.exports),t.exports),a={getSignedURL(t,e){let a={filePath:t.name,contentType:t.type};return new Promise(((o,i)=>{var r=new FormData;let s=new XMLHttpRequest,n="function"==typeof e.signingURL?e.signingURL(t):e.signingURL;s.open("POST",n),s.onload=function(){200==s.status?o(JSON.parse(s.response)):i(s.statusText)},s.onerror=function(t){console.error("Network Error : Could not send request to AWS (Maybe CORS errors)"),i(t)},!0===e.withCredentials&&(s.withCredentials=!0),Object.entries(e.headers||{}).forEach((([t,e])=>{s.setRequestHeader(t,e)})),a=Object.assign(a,e.params||{}),Object.entries(a).forEach((([t,e])=>{r.append(t,e)})),s.send(r)}))},sendFile(t,e,a){var o=a?this.setResponseHandler:this.sendS3Handler;return this.getSignedURL(t,e).then((e=>o(e,t))).catch((t=>t))},setResponseHandler(t,e){e.s3Signature=t.signature,e.s3Url=t.postEndpoint},sendS3Handler(t,e){let a=new FormData,o=t.signature;return Object.keys(o).forEach((function(t){a.append(t,o[t])})),a.append("file",e),new Promise(((e,o)=>{let i=new XMLHttpRequest;i.open("POST",t.postEndpoint),i.onload=function(){if(201==i.status){var t=(new window.DOMParser).parseFromString(i.response,"text/xml").firstChild.children[0].innerHTML;e({success:!0,message:t})}else{var a=(new window.DOMParser).parseFromString(i.response,"text/xml").firstChild.children[0].innerHTML;o({success:!1,message:a+". Request is marked as resolved when returns as status 201"})}},i.onerror=function(t){var e=(new window.DOMParser).parseFromString(i.response,"text/xml").firstChild.children[1].innerHTML;o({success:!1,message:e})},i.send(a)}))}};return e.autoDiscover=!1,function(t,e,a,o,i,r,s,n,l,c){"boolean"!=typeof s&&(l=n,n=s,s=!1);var d,u="function"==typeof a?a.options:a;if(t&&t.render&&(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0,i&&(u.functional=!0)),o&&(u._scopeId=o),r?(d=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,l(t)),t&&t._registeredComponents&&t._registeredComponents.add(r)},u._ssrRegister=d):e&&(d=s?function(){e.call(this,c(this.$root.$options.shadowRoot))}:function(t){e.call(this,n(t))}),d)if(u.functional){var p=u.render;u.render=function(t,e){return d.call(e),p(t,e)}}else{var m=u.beforeCreate;u.beforeCreate=m?[].concat(m,d):[d]}return a}({render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{ref:"dropzoneElement",class:{"vue-dropzone dropzone":this.includeStyling},attrs:{id:this.id}},[this.useCustomSlot?e("div",{staticClass:"dz-message"},[this._t("default",[this._v("Drop files here to upload")])],2):this._e()])},staticRenderFns:[]},void 0,{props:{id:{type:String,required:!0,default:"dropzone"},options:{type:Object,required:!0},includeStyling:{type:Boolean,default:!0,required:!1},awss3:{type:Object,required:!1,default:null},destroyDropzone:{type:Boolean,default:!0,required:!1},duplicateCheck:{type:Boolean,default:!1,required:!1},useCustomSlot:{type:Boolean,default:!1,required:!1}},data:()=>({isS3:!1,isS3OverridesServerPropagation:!1,wasQueueAutoProcess:!0}),computed:{dropzoneSettings(){let t={thumbnailWidth:200,thumbnailHeight:200};return Object.keys(this.options).forEach((function(e){t[e]=this.options[e]}),this),null!==this.awss3&&(t.autoProcessQueue=!1,this.isS3=!0,this.isS3OverridesServerPropagation=!1===this.awss3.sendFileToServer,void 0!==this.options.autoProcessQueue&&(this.wasQueueAutoProcess=this.options.autoProcessQueue),this.isS3OverridesServerPropagation&&(t.url=t=>t[0].s3Url)),t}},mounted(){if(this.$isServer&&this.hasBeenMounted)return;this.hasBeenMounted=!0,this.dropzone=new e(this.$refs.dropzoneElement,this.dropzoneSettings);let t=this;this.dropzone.on("thumbnail",(function(e,a){t.$emit("vdropzone-thumbnail",e,a)})),this.dropzone.on("addedfile",(function(e){var a,o;if(t.duplicateCheck&&this.files.length)for(a=0,o=this.files.length;a<o-1;a++)this.files[a].name===e.name&&this.files[a].size===e.size&&this.files[a].lastModifiedDate.toString()===e.lastModifiedDate.toString()&&(this.removeFile(e),t.$emit("vdropzone-duplicate-file",e));t.$emit("vdropzone-file-added",e),t.isS3&&t.wasQueueAutoProcess&&!e.manuallyAdded&&t.getSignedAndUploadToS3(e)})),this.dropzone.on("addedfiles",(function(e){t.$emit("vdropzone-files-added",e)})),this.dropzone.on("removedfile",(function(e){t.$emit("vdropzone-removed-file",e),e.manuallyAdded&&null!==t.dropzone.options.maxFiles&&t.dropzone.options.maxFiles++})),this.dropzone.on("success",(function(e,a){if(t.$emit("vdropzone-success",e,a),t.isS3){if(t.isS3OverridesServerPropagation){var o=(new window.DOMParser).parseFromString(a,"text/xml").firstChild.children[0].innerHTML;t.$emit("vdropzone-s3-upload-success",o)}t.wasQueueAutoProcess&&t.setOption("autoProcessQueue",!1)}})),this.dropzone.on("successmultiple",(function(e,a){t.$emit("vdropzone-success-multiple",e,a)})),this.dropzone.on("error",(function(e,a,o){t.$emit("vdropzone-error",e,a,o),this.isS3&&t.$emit("vdropzone-s3-upload-error")})),this.dropzone.on("errormultiple",(function(e,a,o){t.$emit("vdropzone-error-multiple",e,a,o)})),this.dropzone.on("sending",(function(e,a,o){if(t.isS3)if(t.isS3OverridesServerPropagation){let t=e.s3Signature;Object.keys(t).forEach((function(e){o.append(e,t[e])}))}else o.append("s3ObjectLocation",e.s3ObjectLocation);t.$emit("vdropzone-sending",e,a,o)})),this.dropzone.on("sendingmultiple",(function(e,a,o){t.$emit("vdropzone-sending-multiple",e,a,o)})),this.dropzone.on("complete",(function(e){t.$emit("vdropzone-complete",e)})),this.dropzone.on("completemultiple",(function(e){t.$emit("vdropzone-complete-multiple",e)})),this.dropzone.on("canceled",(function(e){t.$emit("vdropzone-canceled",e)})),this.dropzone.on("canceledmultiple",(function(e){t.$emit("vdropzone-canceled-multiple",e)})),this.dropzone.on("maxfilesreached",(function(e){t.$emit("vdropzone-max-files-reached",e)})),this.dropzone.on("maxfilesexceeded",(function(e){t.$emit("vdropzone-max-files-exceeded",e)})),this.dropzone.on("processing",(function(e){t.$emit("vdropzone-processing",e)})),this.dropzone.on("processingmultiple",(function(e){t.$emit("vdropzone-processing-multiple",e)})),this.dropzone.on("uploadprogress",(function(e,a,o){t.$emit("vdropzone-upload-progress",e,a,o)})),this.dropzone.on("totaluploadprogress",(function(e,a,o){t.$emit("vdropzone-total-upload-progress",e,a,o)})),this.dropzone.on("reset",(function(){t.$emit("vdropzone-reset")})),this.dropzone.on("queuecomplete",(function(){t.$emit("vdropzone-queue-complete")})),this.dropzone.on("drop",(function(e){t.$emit("vdropzone-drop",e)})),this.dropzone.on("dragstart",(function(e){t.$emit("vdropzone-drag-start",e)})),this.dropzone.on("dragend",(function(e){t.$emit("vdropzone-drag-end",e)})),this.dropzone.on("dragenter",(function(e){t.$emit("vdropzone-drag-enter",e)})),this.dropzone.on("dragover",(function(e){t.$emit("vdropzone-drag-over",e)})),this.dropzone.on("dragleave",(function(e){t.$emit("vdropzone-drag-leave",e)})),t.$emit("vdropzone-mounted")},beforeDestroy(){this.destroyDropzone&&this.dropzone.destroy()},methods:{manuallyAddFile:function(t,e){t.manuallyAdded=!0,this.dropzone.emit("addedfile",t);let a=!1;if((e.indexOf(".svg")>-1||e.indexOf(".png")>-1||e.indexOf(".jpg")>-1||e.indexOf(".jpeg")>-1||e.indexOf(".gif")>-1||e.indexOf(".webp")>-1)&&(a=!0),this.dropzone.options.createImageThumbnails&&a&&t.size<=1024*this.dropzone.options.maxThumbnailFilesize*1024){e&&this.dropzone.emit("thumbnail",t,e);for(var o=t.previewElement.querySelectorAll("[data-dz-thumbnail]"),i=0;i<o.length;i++)o[i].style.width=this.dropzoneSettings.thumbnailWidth+"px",o[i].style.height=this.dropzoneSettings.thumbnailHeight+"px",o[i].style["object-fit"]="contain"}this.dropzone.emit("complete",t),this.dropzone.options.maxFiles&&this.dropzone.options.maxFiles--,this.dropzone.files.push(t),this.$emit("vdropzone-file-added-manually",t)},setOption:function(t,e){this.dropzone.options[t]=e},removeAllFiles:function(t){this.dropzone.removeAllFiles(t)},processQueue:function(){let t=this.dropzone;this.isS3&&!this.wasQueueAutoProcess?this.getQueuedFiles().forEach((t=>{this.getSignedAndUploadToS3(t)})):this.dropzone.processQueue(),this.dropzone.on("success",(function(){t.options.autoProcessQueue=!0})),this.dropzone.on("queuecomplete",(function(){t.options.autoProcessQueue=!1}))},init:function(){return this.dropzone.init()},destroy:function(){return this.dropzone.destroy()},updateTotalUploadProgress:function(){return this.dropzone.updateTotalUploadProgress()},getFallbackForm:function(){return this.dropzone.getFallbackForm()},getExistingFallback:function(){return this.dropzone.getExistingFallback()},setupEventListeners:function(){return this.dropzone.setupEventListeners()},removeEventListeners:function(){return this.dropzone.removeEventListeners()},disable:function(){return this.dropzone.disable()},enable:function(){return this.dropzone.enable()},filesize:function(t){return this.dropzone.filesize(t)},accept:function(t,e){return this.dropzone.accept(t,e)},addFile:function(t){return this.dropzone.addFile(t)},removeFile:function(t){this.dropzone.removeFile(t)},getAcceptedFiles:function(){return this.dropzone.getAcceptedFiles()},getRejectedFiles:function(){return this.dropzone.getRejectedFiles()},getFilesWithStatus:function(){return this.dropzone.getFilesWithStatus()},getQueuedFiles:function(){return this.dropzone.getQueuedFiles()},getUploadingFiles:function(){return this.dropzone.getUploadingFiles()},getAddedFiles:function(){return this.dropzone.getAddedFiles()},getActiveFiles:function(){return this.dropzone.getActiveFiles()},getSignedAndUploadToS3(t){var e=a.sendFile(t,this.awss3,this.isS3OverridesServerPropagation);this.isS3OverridesServerPropagation?e.then((()=>{setTimeout((()=>this.dropzone.processFile(t)))})):e.then((e=>{e.success?(t.s3ObjectLocation=e.message,setTimeout((()=>this.dropzone.processFile(t))),this.$emit("vdropzone-s3-upload-success",e.message)):void 0!==e.message?this.$emit("vdropzone-s3-upload-error",e.message):this.$emit("vdropzone-s3-upload-error","Network Error : Could not send request to AWS. (Maybe CORS error)")})),e.catch((t=>{alert(t)}))},setAWSSigningURL(t){this.isS3&&(this.awss3.signingURL=t)}}},void 0,!1,void 0,void 0,void 0)}()}}]);