"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[748],{97025:(t,s,o)=>{o.r(s),o.d(s,{default:()=>e});const a={components:{barchart:function(t){return o.e(704).then(function(){return t(o(85077))}.bind(null,o)).catch(o.oe)}},data:function(){return{list_proyectos:[],list_costos:[],isLoading:!1,proyecto:{},isObtener_loading:!1,total:0}},methods:{ObtenerProyectos:function(){var t=this;this.isObtener_loading=!0,axios.get("generales/proyectos/0").then((function(s){t.isObtener_loading=!1,s.data.status?t.list_proyectos=s.data.proyectos:toastr.error(s.data.mensaje)}))},ObtenerTotales:function(){var t=this;null!=this.proyecto&&null!=this.proyecto.id&&(this.isObtener_loading=!0,this.list_costos=[],this.total=0,axios.get("costos/proyecto/viaticos/"+this.proyecto.id).then((function(s){if(t.isObtener_loading=!1,s.data.status){t.list_costos=s.data.costos.conceptos,t.total=s.data.costos.total;var o=[],a=[];s.data.costos.conceptos.forEach((function(t){o.push(t.nombre),a.push(t.subtotal)})),t.$refs.barchart_costos.Mostrar("asdasd",o,a)}else toastr.error(s.data.mensaje)})))}},mounted:function(){this.ObtenerProyectos(),this.proyecto={id:340,nombre_corto:"L1 Y L2, Dos Bocas."}}};const e=(0,o(14486).A)(a,(function(){var t=this,s=t._self._c;return s("main",{staticClass:"main",staticStyle:{height:"90vh"}},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-header"},[t._v("Costo de Proyecto")]),t._v(" "),s("div",{staticClass:"card-body"},[s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-md-1 form-control-label",attrs:{for:"tipo_partida"}},[t._v("Proyecto")]),t._v(" "),s("div",{staticClass:"col-md-5"},[s("v-select",{attrs:{options:t.list_proyectos,label:"nombre_corto"},model:{value:t.proyecto,callback:function(s){t.proyecto=s},expression:"proyecto"}})],1),t._v(" "),s("div",{staticClass:"col-md-2"},[s("button",{staticClass:"btn btn-dark",on:{click:t.ObtenerTotales}},[t._v("Buscar")])])]),t._v(" "),s("br"),t._v(" "),s("vue-element-loading",{attrs:{active:t.isObtener_loading}}),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("table",{staticClass:"table table-sm"},[t._m(0),t._v(" "),s("tbody",[t._l(t.list_costos,(function(o,a){return s("tr",{key:a,attrs:{scope:"row"}},[s("td",[t._v(t._s(a+1))]),t._v(" "),s("td",[t._v(t._s(o.nombre))]),t._v(" "),s("td",[t._v("$ "+t._s(Intl.NumberFormat("en-US").format(o.subtotal)))]),t._v(" "),s("td",[t._v("0")])])})),t._v(" "),s("tr",[s("td",{staticClass:"font-weight-bold",attrs:{colspan:"2"}},[t._v("Costo Total")]),t._v(" "),s("td"),t._v(" "),s("td",[t._v("$ "+t._s(Intl.NumberFormat("en-US").format(t.total)))])])],2)])]),t._v(" "),s("div",{staticClass:"col"},[s("barchart",{ref:"barchart_costos"})],1)])],1)])])}),[function(){var t=this,s=t._self._c;return s("thead",{staticClass:"thead-dark"},[s("tr",[s("td",{staticClass:"font-weight-bold",attrs:{scope:"col"}},[t._v("#")]),t._v(" "),s("td",{staticClass:"font-weight-bold",attrs:{scope:"col"}},[t._v("Concepto")]),t._v(" "),s("td",{staticClass:"font-weight-bold",attrs:{scope:"col"}},[t._v("Subtotal")]),t._v(" "),s("td",{staticClass:"font-weight-bold",attrs:{scope:"col"}},[t._v("Total")])])])}],!1,null,null,null).exports}}]);