/*! For license information please see via.js.LICENSE.txt */
(self.webpackChunk=self.webpackChunk||[]).push([[753],{14941:t=>{t.exports=function(){return{dateColumns:[],listColumns:{},datepickerOptions:{locale:{cancelLabel:"Clear"}},datepickerPerColumnOptions:{},initialPage:1,perPage:10,perPageValues:[10,25,50,100],groupBy:!1,collapseGroups:!1,destroyEventBus:!1,sendEmptyFilters:!1,params:{},sortable:!0,filterable:!0,groupMeta:[],initFilters:{},customFilters:[],templates:{},debounce:250,dateFormat:"DD/MM/YYYY",dateFormatPerColumn:{},toMomentFormat:!1,skin:"table table-striped table-bordered table-hover table-sm",skinBusqueda:"table table-striped table-bordered table-hover table-sm busqueda",columnsDisplay:{},columnsDropdown:!1,texts:{count:"Mostrando del {from} al  {to} de {count} registros|{count} registros|Un registro",first:"Primero",last:"Ultimo",filter:"Buscar:",filterPlaceholder:"Buscar...",limit:"Registros:",page:"Pagina:",noResults:"No se encontraron registros",filterBy:"Filtrar por {column}",loading:"Cargando...",defaultOption:"Seleccionar {column}",columns:"Columnas"},sortIcon:{base:"fa",up:"fa-chevron-up",down:"fa-chevron-down",is:"fa-sort"},sortingAlgorithm:function(t,e){return t.sort(this.getSortFn(e))},customSorting:{},multiSorting:{},clientMultiSorting:!0,serverMultiSorting:!1,filterByColumn:!1,highlightMatches:!1,orderBy:!1,descOrderColumns:[],footerHeadings:!1,headings:{},headingsTooltips:{},pagination:{dropdown:!1,chunk:10,edge:!1,align:"center",nav:"fixed"},childRow:!1,childRowTogglerFirst:!0,uniqueKey:"id",requestFunction:!1,requestAdapter:function(t){return t},responseAdapter:function(t){var e=this.getResponseData(t);return{data:e.data,count:e.count}},requestKeys:{query:"query",limit:"limit",orderBy:"orderBy",ascending:"ascending",page:"page",byColumn:"byColumn"},rowClassCallback:!1,preserveState:!1,saveState:!1,storage:"local",columnsClasses:{},columnCondicion:[{id:1,text:"Activo"},{id:0,text:"Desactivado"}]}}},60173:(t,e,o)=>{"use strict";function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}o.d(e,{A:()=>i});const i={resetObject:function(t){for(var e in t)"string"==typeof t[e]?t[e]="":"number"==typeof t[e]?t[e]=0:void 0===a(t[e])?t[e]=null:"object"===a(t[e])&&(t[e]={})},getCRUD:function(t){var e=new FormData;e.append("ruta",t),e.append("identificador",1);var o={Create:!1,Read:!1,Update:!1,Delete:!1,Download:!1,Upload:!1};return axios.post("/CRUD",e).then((function(t){for(var e=0;e<t.data.length;e++)1==t.data[e].control_id&&(o.Create=!0),2==t.data[e].control_id&&(o.Read=!0),3==t.data[e].control_id&&(o.Update=!0),4==t.data[e].control_id&&(o.Delete=!0),5==t.data[e].control_id&&(o.Download=!0),6==t.data[e].control_id&&(o.Upload=!0)})).catch((function(t){console.log(t)})),o}}},18764:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>v});var a=o(60173);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function s(){s=function(){return e};var t,e={},o=Object.prototype,a=o.hasOwnProperty,r=Object.defineProperty||function(t,e,o){t[e]=o.value},n="function"==typeof Symbol?Symbol:{},l=n.iterator||"@@iterator",c=n.asyncIterator||"@@asyncIterator",d=n.toStringTag||"@@toStringTag";function u(t,e,o){return Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,o){return t[e]=o}}function v(t,e,o,a){var i=e&&e.prototype instanceof g?e:g,s=Object.create(i.prototype),n=new F(a||[]);return r(s,"_invoke",{value:E(t,o,n)}),s}function p(t,e,o){try{return{type:"normal",arg:t.call(e,o)}}catch(t){return{type:"throw",arg:t}}}e.wrap=v;var _="suspendedStart",m="suspendedYield",f="executing",h="completed",b={};function g(){}function C(){}function y(){}var w={};u(w,l,(function(){return this}));var x=Object.getPrototypeOf,D=x&&x(x(T([])));D&&D!==o&&a.call(D,l)&&(w=D);var O=y.prototype=g.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function o(s,r,n,l){var c=p(t[s],t,r);if("throw"!==c.type){var d=c.arg,u=d.value;return u&&"object"==i(u)&&a.call(u,"__await")?e.resolve(u.__await).then((function(t){o("next",t,n,l)}),(function(t){o("throw",t,n,l)})):e.resolve(u).then((function(t){d.value=t,n(d)}),(function(t){return o("throw",t,n,l)}))}l(c.arg)}var s;r(this,"_invoke",{value:function(t,a){function i(){return new e((function(e,i){o(t,a,e,i)}))}return s=s?s.then(i,i):i()}})}function E(e,o,a){var i=_;return function(s,r){if(i===f)throw Error("Generator is already running");if(i===h){if("throw"===s)throw r;return{value:t,done:!0}}for(a.method=s,a.arg=r;;){var n=a.delegate;if(n){var l=A(n,a);if(l){if(l===b)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(i===_)throw i=h,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);i=f;var c=p(e,o,a);if("normal"===c.type){if(i=a.done?h:m,c.arg===b)continue;return{value:c.arg,done:a.done}}"throw"===c.type&&(i=h,a.method="throw",a.arg=c.arg)}}}function A(e,o){var a=o.method,i=e.iterator[a];if(i===t)return o.delegate=null,"throw"===a&&e.iterator.return&&(o.method="return",o.arg=t,A(e,o),"throw"===o.method)||"return"!==a&&(o.method="throw",o.arg=new TypeError("The iterator does not provide a '"+a+"' method")),b;var s=p(i,e.iterator,o.arg);if("throw"===s.type)return o.method="throw",o.arg=s.arg,o.delegate=null,b;var r=s.arg;return r?r.done?(o[e.resultName]=r.value,o.next=e.nextLoc,"return"!==o.method&&(o.method="next",o.arg=t),o.delegate=null,b):r:(o.method="throw",o.arg=new TypeError("iterator result is not an object"),o.delegate=null,b)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function F(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function T(e){if(e||""===e){var o=e[l];if(o)return o.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var s=-1,r=function o(){for(;++s<e.length;)if(a.call(e,s))return o.value=e[s],o.done=!1,o;return o.value=t,o.done=!0,o};return r.next=r}}throw new TypeError(i(e)+" is not iterable")}return C.prototype=y,r(O,"constructor",{value:y,configurable:!0}),r(y,"constructor",{value:C,configurable:!0}),C.displayName=u(y,d,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===C||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,u(t,d,"GeneratorFunction")),t.prototype=Object.create(O),t},e.awrap=function(t){return{__await:t}},k(S.prototype),u(S.prototype,c,(function(){return this})),e.AsyncIterator=S,e.async=function(t,o,a,i,s){void 0===s&&(s=Promise);var r=new S(v(t,o,a,i),s);return e.isGeneratorFunction(o)?r:r.next().then((function(t){return t.done?t.value:r.next()}))},k(O),u(O,d,"Generator"),u(O,l,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),o=[];for(var a in e)o.push(a);return o.reverse(),function t(){for(;o.length;){var a=o.pop();if(a in e)return t.value=a,t.done=!1,t}return t.done=!0,t}},e.values=T,F.prototype={constructor:F,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var o in this)"t"===o.charAt(0)&&a.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var o=this;function i(a,i){return n.type="throw",n.arg=e,o.next=a,i&&(o.method="next",o.arg=t),!!i}for(var s=this.tryEntries.length-1;s>=0;--s){var r=this.tryEntries[s],n=r.completion;if("root"===r.tryLoc)return i("end");if(r.tryLoc<=this.prev){var l=a.call(r,"catchLoc"),c=a.call(r,"finallyLoc");if(l&&c){if(this.prev<r.catchLoc)return i(r.catchLoc,!0);if(this.prev<r.finallyLoc)return i(r.finallyLoc)}else if(l){if(this.prev<r.catchLoc)return i(r.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return i(r.finallyLoc)}}}},abrupt:function(t,e){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&a.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var s=i;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=e&&e<=s.finallyLoc&&(s=null);var r=s?s.completion:{};return r.type=t,r.arg=e,s?(this.method="next",this.next=s.finallyLoc,b):this.complete(r)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),b},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var o=this.tryEntries[e];if(o.finallyLoc===t)return this.complete(o.completion,o.afterLoc),N(o),b}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var o=this.tryEntries[e];if(o.tryLoc===t){var a=o.completion;if("throw"===a.type){var i=a.arg;N(o)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,o,a){return this.delegate={iterator:T(e),resultName:o,nextLoc:a},"next"===this.method&&(this.arg=t),b}},e}function r(t,e,o,a,i,s,r){try{var n=t[s](r),l=n.value}catch(t){return void o(t)}n.done?e(l):Promise.resolve(l).then(a,i)}function n(t){return function(){var e=this,o=arguments;return new Promise((function(a,i){var s=t.apply(e,o);function n(t){r(s,a,i,n,l,"next",t)}function l(t){r(s,a,i,n,l,"throw",t)}n(void 0)}))}}function l(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,a)}return o}function c(t,e,o){return(e=function(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var a=o.call(t,e||"default");if("object"!=i(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==i(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var d=o(14941).call(void 0);const u={data:function(){return{url_depositos:"viaticos/depositos",tipoAccion_depositos:1,tipoCardDepositos:1,PermisosCRUD:{},ver_modal_depositos:!1,tituloModal_depositos:"",depositos_id:0,isGuardardepositos_loading:!1,isObtenerdepositos_loading:!1,columns_depositos:["vd_id","fecha","banco","cantidad","comprobante","observaciones"],list_depositos:[],list_folios:[],solicitud:{},comprobante:{},list_conceptos:[],depositos:{fecha:"",solicitud:{},total:0,banco:"BBVA",folio:"-",observaciones:"-"},options_depositos:{headings:{vd_id:"Acciones"},perPage:20,perPageValues:[],skin:d.skin,sortIcon:d.sortIcon,filterByColumn:!0,texts:d.texts},isObtenerSolicitudes_loading:!1,columns_solicitudes:["sv_id","fecha_solicitud","folio","beneficiario","elabora","total_pedido","total_enviado","doc","estado"],list_solicitudes:[],options_solicitudes:{headings:{sv_id:"Acciones",doc:"Solicitud"},perPage:10,perPageValues:[],skin:d.skin,sortIcon:d.sortIcon,filterByColumn:!0,texts:d.texts}}},computed:{total_abono:function(){return this.list_conceptos.reduce((function(t,e){return t+parseFloat(e.abono)}),0)}},methods:{ObtenerDepositos:function(t){var e=this;this.isObtenerdepositos_loading=!0,axios.get(this.url_depositos+"/obtener/"+t).then((function(t){e.isObtenerdepositos_loading=!1,t.data.status?e.list_depositos=t.data.depositos:toastr.error(t.data.mensaje)}))},LimpiarModel:function(){this.solicitud={},this.depositos={fecha:"",solicitud:{},total:0,banco:"BBVA",folio:"-",observaciones:"-"},this.list_conceptos=[]},AbrirModalDepositos:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.$validator.resume(),this.ver_modal_depositos=!0,t?(this.LimpiarModel(),this.tituloModal_depositos="Registrar Depósitos Viáticos",this.tipoAccion_depositos=1):(this.tituloModal_depositos="Actualizar Depósitos Viáticos",this.tipoAccion_depositos=2,this.depositos=function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?l(Object(o),!0).forEach((function(e){c(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):l(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({},e))},RegistrarDepositos:function(t){var e=this;return n(s().mark((function o(){var a;return s().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return 0==e.total_depositos&&toastr.warning("Ingrese una cantidad"),o.next=3,e.$validator.validate();case 3:if(o.sent){o.next=6;break}return o.abrupt("return");case 6:if(!(e.total_abono<=0)){o.next=9;break}return toastr.warning("Ingrese una cantidad válida"),o.abrupt("return");case 9:if(0!=e.$refs.comprobante.files.length){o.next=12;break}return toastr.warning("Ingrese el comprobante"),o.abrupt("return");case 12:a=new FormData,t||a.append("vd_id",e.depositos.vd_id),a.append("fecha",e.depositos.fecha),a.append("solicitud_id",e.solicitud.id),a.append("banco",e.depositos.banco),a.append("observaciones",e.depositos.observaciones),a.append("conceptos",JSON.stringify(e.list_conceptos)),a.append("comprobante_doc",e.$refs.comprobante.files[0]),a.append("folio_comprobante",e.depositos.folio_comprobante),e.isGuardardepositos_loading=!0,axios.post(e.url_depositos+"/guardar",a).then((function(t){e.isGuardardepositos_loading=!1,t.data.status?(toastr.success("Guardado correctamente"),e.ObtenerDepositos(),e.CerrarModalDepositos(),e.ObtenerSolicitudes()):toastr.error(t.data.mensaje)}));case 23:case"end":return o.stop()}}),o)})))()},CerrarModalDepositos:function(){this.$validator.pause(),this.ver_modal_depositos=!1,this.depositos={}},ObtenerFolios:function(){var t=this;this.isObtener_loading=!0,axios.get("viaticos/depositos/obtenerfolios").then((function(e){t.isObtener_loading=!1,e.data.status?t.list_folios=e.data.folios:toastr.error(e.data.mensaje)}))},ObtenerDetalles:function(){var t=this;return n(s().mark((function e(){var o,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.error(t.solicitud),null!=t.solicitud){e.next=3;break}return e.abrupt("return");case 3:if(null!=t.solicitud.id){e.next=5;break}return e.abrupt("return");case 5:return t.isGuardardepositos_loading=!0,t.list_conceptos=[],e.next=9,axios.get("viaticos/solcitud/detalles/"+t.solicitud.id);case 9:o=e.sent,a=o.data,t.isGuardardepositos_loading=!1,a.status?t.list_conceptos=a.detalles:toastr.error(a.mensaje);case 13:case"end":return e.stop()}}),e)})))()},CargarComprobante:function(){this.comprobante=this.$refs.comprobante.files[0]},ObtenerSolicitudes:function(){var t=this;this.isObtenerSolicitudes_loading=!0,axios.get(this.url_depositos+"/solicitudes").then((function(e){t.isObtenerSolicitudes_loading=!1,e.data.status?t.list_solicitudes=e.data.solicitudes:toastr.error(e.data.mensaje)}))},VerDepositos:function(t){this.tipoCardDepositos=2,this.solicitud={id:t.sv_id,folio:t.folio},this.ObtenerDepositos(t.sv_id)},DescargarSolictitud:function(t){window.open("descargarformatoviatico/"+t+"&1","_blank")},DescargarComprobante:function(t){window.open(this.url_depositos+"/comprobante/"+t)}},mounted:function(){this.PermisosCRUD=a.A.getCRUD(this.$route.path),this.ObtenerFolios(),this.ObtenerSolicitudes()}};const v=(0,o(14486).A)(u,(function(){var t=this,e=t._self._c;return e("main",{staticClass:"main"},[e("div",{directives:[{name:"show",rawName:"v-show",value:1==t.tipoCardDepositos,expression:"tipoCardDepositos==1"}],staticClass:"card"},[e("div",{staticClass:"card-header"},[e("i",{staticClass:"fa fa-align-justify"}),t._v(" SOLICITUDES DE VIÁTICOS\n            "),t.PermisosCRUD.Create?[e("button",{staticClass:"btn btn-dark float-sm-right",attrs:{type:"button"},on:{click:function(e){return t.AbrirModalDepositos(!0)}}},[e("i",{staticClass:"fas fa-plus mr-1"}),t._v("Nuevo\n                ")])]:t._e()],2),t._v(" "),e("div",{staticClass:"card-body"},[e("vue-element-loading",{attrs:{active:t.isObtenerSolicitudes_loading}}),t._v(" "),e("v-client-table",{attrs:{columns:t.columns_solicitudes,data:t.list_solicitudes,options:t.options_solicitudes},scopedSlots:t._u([{key:"sv_id",fn:function(o){return[e("div",{staticClass:"btn-group",attrs:{role:"group"}},[e("div",{staticClass:"btn-group dropup",attrs:{role:"group"}},[e("button",{staticClass:"btn btn-outline-dark dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("i",{staticClass:"fas fa-grip-horizontal"}),t._v(" Acciones\n                            ")]),t._v(" "),e("div",{staticClass:"dropdown-menu"},[e("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(e){return t.VerDepositos(o.row)}}},[e("i",{staticClass:"fas fa-list"}),t._v(" Ver depósitos\n                                ")])])])])]}},{key:"total_pedido",fn:function(e){return[t._v("\n                    "+t._s(new Intl.NumberFormat("en-US").format(e.row.total_pedido))+"\n                ")]}},{key:"total_enviado",fn:function(e){return[t._v("\n                    "+t._s(new Intl.NumberFormat("en-US").format(e.row.total_enviado))+"\n                ")]}},{key:"doc",fn:function(o){return[e("button",{staticClass:"btn btn-sm btn-dark",on:{click:function(e){return t.DescargarSolicitud(o.row.sv_id)}}},[e("i",{staticClass:"fas fa-download"})])]}},{key:"estado",fn:function(o){return[o.row.total_pedido===o.row.total_enviado?[e("button",{staticClass:"btn btn-sm btn-outline-success"},[t._v("Pagado\n                        ")])]:[e("button",{staticClass:"btn btn-sm btn-outline-warning"},[t._v("Pendiente de pago\n                        ")])]]}}])})],1)]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:2==t.tipoCardDepositos,expression:"tipoCardDepositos==2"}],staticClass:"card"},[e("div",{staticClass:"card-header"},[e("i",{staticClass:"fa fa-align-justify"}),t._v(" DEPÓSITOS DE VIÁTICOS\n            "),t.solicitud.folio?e("span",[t._v("- "+t._s(t.solicitud.folio))]):t._e(),t._v(" "),e("button",{staticClass:"btn btn-dark float-sm-right",attrs:{type:"button"},on:{click:function(e){t.tipoCardDepositos=1}}},[e("i",{staticClass:"fas fa-arrow-left mr-1"}),t._v("Regresar\n            ")]),t._v(" "),t.PermisosCRUD.Create?[e("button",{staticClass:"btn btn-dark float-sm-right",attrs:{type:"button"},on:{click:function(e){return t.AbrirModalDepositos(!0)}}},[e("i",{staticClass:"fas fa-plus mr-1"}),t._v("Nuevo\n                ")])]:t._e()],2),t._v(" "),e("div",{staticClass:"card-body"},[e("vue-element-loading",{attrs:{active:t.isObtenerdepositos_loading}}),t._v(" "),e("v-client-table",{attrs:{columns:t.columns_depositos,data:t.list_depositos,options:t.options_depositos},scopedSlots:t._u([{key:"vd_id",fn:function(o){return[e("div",{staticClass:"btn-group",attrs:{role:"group"}},[e("div",{staticClass:"btn-group dropup",attrs:{role:"group"}},[e("button",{staticClass:"btn btn-outline-dark dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("i",{staticClass:"fas fa-grip-horizontal"}),t._v(" Acciones\n                            ")]),t._v(" "),e("div",{staticClass:"dropdown-menu"},[e("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(e){return t.AbrirModalDepositos(!1,o.row)}}},[e("i",{staticClass:"fas fa-edit"}),t._v(" Actualizar\n                                ")])])])])]}},{key:"comprobante",fn:function(o){return[e("button",{staticClass:"btn btn-sm btn-dark",on:{click:function(e){return t.DescargarComprobante(o.row.comprobante)}}},[e("i",{staticClass:"fas fa-download"})])]}}])})],1)]),t._v(" "),t.ver_modal_depositos?e("div",{staticClass:"modal fade",class:{mostrar:t.ver_modal_depositos},staticStyle:{display:"none"},attrs:{tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-dark modal-lg",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",[e("div",{staticClass:"modal-header"},[e("h4",{staticClass:"modal-title",domProps:{textContent:t._s(t.tituloModal_depositos)}}),t._v(" "),e("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.CerrarModalDepositos()}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("X")])])]),t._v(" "),e("div",{staticClass:"modal-body"},[e("vue-element-loading",{attrs:{active:t.isGuardardepositos_loading}}),t._v(" "),t.ver_modal_depositos?e("div",[e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-md-3 form-control-label"},[t._v("Fecha")]),t._v(" "),e("div",{staticClass:"col-md-3"},[e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.depositos.fecha,expression:"depositos.fecha"}],staticClass:"form-control",attrs:{type:"date","data-vv-name":"Fecha"},domProps:{value:t.depositos.fecha},on:{input:function(e){e.target.composing||t.$set(t.depositos,"fecha",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Fecha")))])])]),t._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-md-3 form-control-label"},[t._v("Solicitud")]),t._v(" "),e("div",{staticClass:"col-md-8"},[e("v-select",{attrs:{label:"folio",options:t.list_folios,"data-vv-name":"Solicitud"},model:{value:t.solicitud,callback:function(e){t.solicitud=e},expression:"solicitud"}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Solicitud")))])],1),t._v(" "),e("button",{staticClass:"btn btn-dark",on:{click:t.ObtenerDetalles}},[e("i",{staticClass:"fas fa-search"})])]),t._v(" "),t._m(0),t._v(" "),t.list_conceptos?t._l(t.list_conceptos,(function(o,a){return e("div",{key:a,staticClass:"form-group row"},[e("label",{staticClass:"col-md-3 form-control-label"},[t._v(t._s(o.nombre))]),t._v(" "),e("div",{staticClass:"col-md-3"},[e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:o.abono,expression:"c.abono"}],staticClass:"form-control",attrs:{type:"number",min:"0",max:o.transferencia_pendiente,"data-vv-name":o.nombre},domProps:{value:o.abono},on:{input:function(e){e.target.composing||t.$set(o,"abono",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first(o.nombre)))])]),t._v(" "),e("label",{staticClass:"col-md-2 text-center"},[t._v("-"+t._s(o.transferencia_pendiente)+"-")])])})):t._e(),t._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-md-3 form-control-label"},[t._v("Total")]),t._v(" "),e("div",{staticClass:"col-md-3"},[e("label",{staticClass:"form-control",attrs:{readonly:""},domProps:{textContent:t._s(t.total_abono)}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Total")))])])]),t._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-md-3 form-control-label"},[t._v("Banco")]),t._v(" "),e("div",{staticClass:"col-md-3"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.depositos.banco,expression:"depositos.banco"}],staticClass:"form-control",on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.depositos,"banco",e.target.multiple?o:o[0])}}},[e("option",{attrs:{value:"BBVA"}},[t._v("BBVA")]),t._v(" "),e("option",{attrs:{value:"SANTANDER"}},[t._v("SANTANDER")])]),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Banco")))])])]),t._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-md-3 form-control-label"},[t._v("Folio Transacción")]),t._v(" "),e("div",{staticClass:"col-md-4"},[e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.depositos.folio_comprobante,expression:"depositos.folio_comprobante"}],staticClass:"form-control",attrs:{type:"text",maxlength:"50","data-vv-name":"Folio"},domProps:{value:t.depositos.folio_comprobante},on:{input:function(e){e.target.composing||t.$set(t.depositos,"folio_comprobante",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Folio")))])])]),t._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-md-3 form-control-label"},[t._v("Comprobante")]),t._v(" "),e("div",{staticClass:"col-md-5"},[e("input",{ref:"comprobante",staticClass:"form-control",attrs:{type:"file",accept:"application/pdf"},on:{change:t.CargarComprobante}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Comprobante")))])])]),t._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-md-3 form-control-label"},[t._v("Observaciones")]),t._v(" "),e("div",{staticClass:"col-md-10"},[e("textarea",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.depositos.observaciones,expression:"depositos.observaciones"}],staticClass:"form-control",attrs:{maxlength:"150",minlength:"1","data-vv-name":"Observaciones",autocomplete:"off",cols:"30",rows:"4"},domProps:{value:t.depositos.observaciones},on:{input:function(e){e.target.composing||t.$set(t.depositos,"observaciones",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Observaciones")))])])])],2):t._e()],1),t._v(" "),e("div",{staticClass:"modal-footer"},[e("vue-element-loading",{attrs:{active:t.isGuardardepositos_loading}}),t._v(" "),e("div",[e("button",{staticClass:"btn btn-outline-dark",attrs:{type:"button"},on:{click:function(e){return t.CerrarModalDepositos()}}},[e("i",{staticClass:"fas fa-window-close"}),t._v(" Cerrar\n                            ")]),t._v(" "),1==t.tipoAccion_depositos?e("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.RegistrarDepositos(!0)}}},[e("i",{staticClass:"fas fa-save"}),t._v(" Guardar\n                            ")]):t._e(),t._v(" "),2==t.tipoAccion_depositos?e("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.RegistrarDepositos(!1)}}},[e("i",{staticClass:"fas fa-save"}),t._v(" Actualizar\n                            ")]):t._e()])],1)])])])]):t._e()])}),[function(){var t=this,e=t._self._c;return e("div",{staticClass:"form-group row"},[e("label",{staticClass:"font-weight-bold text-center col-md-3 form-control-label"}),t._v(" "),e("label",{staticClass:"font-weight-bold text-center col-md-3 form-control-label"},[t._v("Depositado")]),t._v(" "),e("label",{staticClass:"font-weight-bold text-center col-md-3 form-control-label"},[t._v("Pendiente")])])}],!1,null,null,null).exports},55244:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>s});var a=o(60173);o(14941).call(void 0);const i={data:function(){return{empresa_beneficiarios:"",tipo_viatico:"",nuevo:null,solicitud:{beneficiariosuno:"",datos_bancos_beneficiariosuno:"",clavecuentatarjetauno:"",claveuno:"",cuentauno:"",banco:""},optionsvs_benficiario_uno:[],listaDatosBancariosuno:[]}},watch:{solicitud:{handler:function(t,e){var o=[];o.push({id:t.beneficiariosuno,dbemp_id:t.datos_bancos_beneficiariosuno,tarjeta:t.clavecuentatarjetauno,clave:t.claveuno,cuenta:t.cuentauno,banco:t.banco}),this.$emit("enviarUno",o)},deep:!0}},methods:{datos:function(){},getDatos:function(t,e,o){this.quitar_uno(),this.solicitud.beneficiariosuno="",this.optionsvs_benficiario_uno=[],this.empresa_beneficiarios=t,this.tipo_viatico=e,this.optionsvs_benficiario_uno=o,a.A.resetObject(this.solicitud)},buscar_uno:function(){this.listaDatosBancariosuno=[];var t=this;axios.get("/datosbanemp/"+t.solicitud.beneficiariosuno.id+"&"+t.empresa_beneficiarios+"/datosbanemp").then((function(e){t.listaDatosBancariosuno=e.data})).catch((function(t){}))},enviar_uno:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.limpiaInputs();null==t||t.target.selectedIndex;0!=t.target.value&&(this.solicitud.datos_bancos_beneficiariosuno=this.listaDatosBancariosuno[t.target.selectedIndex].id,this.solicitud.clavecuentatarjetauno=this.listaDatosBancariosuno[t.target.selectedIndex].numero_tarjeta,this.solicitud.claveuno=this.listaDatosBancariosuno[t.target.selectedIndex].clabe,this.solicitud.cuentauno=this.listaDatosBancariosuno[t.target.selectedIndex].numero_cuenta,this.solicitud.banco=this.listaDatosBancariosuno[t.target.selectedIndex].bnombre);var e=[];e.push({id:this.solicitud.beneficiariosuno,dbemp_id:this.solicitud.datos_bancos_beneficiariosuno,tarjeta:this.solicitud.clavecuentatarjetauno,clave:this.solicitud.claveuno,cuenta:this.solicitud.cuentauno,banco:this.solicitud.banco}),this.$emit("enviarUno",e)},setDatos:function(t,e,o){this.nuevo=t,0!=t.length&&(this.tipo_viatico=e,this.empresa_beneficiarios=o,0==t[0].empleado_beneficiario_id?(this.solicitud.beneficiariosuno=t[0].beneficiario_externo,this.solicitud.datos_bancos_beneficiariosuno=t[0].banco_nombre):(this.solicitud.beneficiariosuno={id:t[0].empleado_beneficiario_id,name:t[0].nombre_beneficiario},this.solicitud.datos_bancos_beneficiariosuno=t[0].datos_bancarios_empleado_id),this.solicitud.clavecuentatarjetauno=t[0].tarjeta,this.solicitud.claveuno=t[0].clabe,this.solicitud.cuentauno=t[0].cuenta,this.solicitud.banco=t[0].banco_nombre)},quitar_uno:function(){this.solicitud.beneficiariosuno="",this.solicitud.datos_bancos_beneficiariosuno="",this.solicitud.clavecuentatarjetauno="",this.solicitud.claveuno="",this.solicitud.cuentauno="",this.solicitud.banco="",this.listaDatosBancariosuno=[],this.$emit("limpiarUno")},limpiaInputs:function(){this.solicitud.clavecuentatarjetauno="",this.solicitud.claveuno="",this.solicitud.cuentauno="",this.solicitud.banco=""}},mounted:function(){}};const s=(0,o(14486).A)(i,(function(){var t=this,e=t._self._c;return e("div",[0!=t.tipo_viatico?[e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group col-md-6"},[e("label",[t._v(" Beneficiario")]),t._v(" "),e("v-select",{attrs:{options:t.optionsvs_benficiario_uno,label:"name",name:"proyecto","data-vv-name":"proyecto"},on:{input:t.buscar_uno},model:{value:t.solicitud.beneficiariosuno,callback:function(e){t.$set(t.solicitud,"beneficiariosuno",e)},expression:"solicitud.beneficiariosuno"}})],1),t._v(" "),e("div",{staticClass:"form-group col-md-6"},[e("label",[t._v(" Banco beneficiario")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.solicitud.datos_bancos_beneficiariosuno,expression:"solicitud.datos_bancos_beneficiariosuno"}],staticClass:"form-control",attrs:{name:"datos bancarios","data-vv-name":"Proyecto"},on:{change:[function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.solicitud,"datos_bancos_beneficiariosuno",e.target.multiple?o:o[0])},function(e){return t.enviar_uno(e)}]}},[t._l(t.listaDatosBancariosuno,(function(o){return e("option",{key:o.id,domProps:{value:o.id}},[t._v(t._s(o.bnombre))])})),t._v(" "),e("option",{attrs:{value:"0"}},[t._v("OTRO")])],2),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("datos bancarios")))])])])]:t._e(),t._v(" "),0==t.tipo_viatico?[e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group col-md-6"},[e("label",[t._v(" Beneficiario")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.solicitud.beneficiariosuno,expression:"solicitud.beneficiariosuno"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.solicitud.beneficiariosuno},on:{input:function(e){e.target.composing||t.$set(t.solicitud,"beneficiariosuno",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group col-md-6"},[e("label",[t._v(" Banco")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.solicitud.datos_bancos_beneficiariosuno,expression:"solicitud.datos_bancos_beneficiariosuno"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.solicitud.datos_bancos_beneficiariosuno},on:{input:function(e){e.target.composing||t.$set(t.solicitud,"datos_bancos_beneficiariosuno",e.target.value)}}})])])]:t._e(),t._v(" "),e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group col-md-6"},[e("label",[t._v("CUENTA")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.solicitud.cuentauno,expression:"solicitud.cuentauno"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.solicitud.cuentauno},on:{input:function(e){e.target.composing||t.$set(t.solicitud,"cuentauno",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group col-md-6"},[e("label",[t._v("CLABE")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.solicitud.claveuno,expression:"solicitud.claveuno"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.solicitud.claveuno},on:{input:function(e){e.target.composing||t.$set(t.solicitud,"claveuno",e.target.value)}}})])]),t._v(" "),e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group col-md-6"},[e("label",[t._v("TARJETA")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.solicitud.clavecuentatarjetauno,expression:"solicitud.clavecuentatarjetauno"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.solicitud.clavecuentatarjetauno},on:{input:function(e){e.target.composing||t.$set(t.solicitud,"clavecuentatarjetauno",e.target.value)}}})]),t._v(" "),"0"===t.solicitud.datos_bancos_beneficiariosuno&&t.tipo_viatico>0?[e("div",{staticClass:"form-group col-md-6"},[e("label",[t._v("BANCO")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.solicitud.banco,expression:"solicitud.banco"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.solicitud.banco},on:{input:function(e){e.target.composing||t.$set(t.solicitud,"banco",e.target.value)}}})])]:t._e(),t._v(" "),e("div",{staticClass:"form-group col-md-6"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.quitar_uno()}}},[e("i",{staticClass:"fas fa-trash"}),t._v(" Limpiar")])])],2),t._v(" "),e("hr")],2)}),[],!1,null,null,null).exports},48985:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>i});o(60173),o(14941).call(void 0);const a={data:function(){return{tipo:"",listaConceptos:[],listado:{tranferencia:[],efectivo:[],conceptos:[]},listado_temporal:{tranferencia:"",efectivo:"",conceptos:""},totales:{totaltranferencia:"",totalefectivo:"",totalgeneral:""}}},computed:{totalTransferencia:function(){var t=this;return this.listado.tranferencia.reduce((function(e,o){return t.totales.totaltranferencia=e+parseFloat(o)}),0)},totalEfectivo:function(){var t=this;return this.listado.efectivo.reduce((function(e,o){return t.totales.totalefectivo=e+parseFloat(o)}),0)},totalGeneral:function(){return this.totales.totalgeneral=parseFloat(this.totales.totaltranferencia)+parseFloat(this.totales.totalefectivo)}},methods:{getDatos:function(t){this.tipo=t,this.listado.tranferencia=[],this.listado.efectivo=[],this.listado.conceptos=[],this.listaConceptos=[],t>0&&this.getData()},getData:function(){var t=this;axios.get("conceptosviaticos").then((function(e){for(var o=0;o<e.data.length;o++)t.listado.tranferencia.push(0),t.listado.efectivo.push(0),t.listado.conceptos.push(e.data[o].id);t.listaConceptos=e.data})).catch((function(t){console.log(t)}))},enviar:function(){this.$emit("listado",this.listado),this.$emit("totales",this.totales),this.$emit("conceptos",this.conceptos)},setDatos:function(t,e){console.log(t,"datos reci");var o=[],a=[],i=[];this.tipo=e;for(var s=0;s<t.length;s++)o.push(t[s].transferencia_electronica),a.push(t[s].efectivo),0==e?i.push(t[s].catalogo_concepto_viaticos):i.push(s+1);console.log(o),console.log(a),console.log(i),this.listado.tranferencia=o,this.listado.efectivo=a,this.listado.conceptos=i;this.enviar()},crear:function(){this.listado.tranferencia.push(this.listado_temporal.tranferencia),this.listado.efectivo.push(this.listado_temporal.efectivo),this.listado.conceptos.push(this.listado_temporal.conceptos),this.listado_temporal.tranferencia="",this.listado_temporal.efectivo="",this.listado_temporal.conceptos="";this.enviar()},deleteu:function(t){this.listado.tranferencia.splice(t,1),this.listado.efectivo.splice(t,1),this.listado.conceptos.splice(t,1)}},mounted:function(){this.getData()}};const i=(0,o(14486).A)(a,(function(){var t=this,e=t._self._c;return e("div",[t.tipo>0?[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table"},[t._m(0),t._v(" "),t._l(t.listaConceptos,(function(o){return e("tr",[e("td",{attrs:{scope:"row"}},[e("label",[t._v(t._s(o.nombre))])]),t._v(" "),e("td",[t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.listado.tranferencia[o.id-1],expression:"listado.tranferencia[item.id - 1]",modifiers:{number:!0}}],staticClass:"form-control col-md-6",attrs:{type:"number",step:".01"},domProps:{value:t.listado.tranferencia[o.id-1]},on:{input:[function(e){e.target.composing||t.$set(t.listado.tranferencia,o.id-1,t._n(e.target.value))},t.enviar],blur:function(e){return t.$forceUpdate()}}})]),t._v(" "),e("td",[t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.listado.efectivo[o.id-1],expression:"listado.efectivo[item.id - 1]",modifiers:{number:!0}}],staticClass:"form-control col-md-6",attrs:{type:"number",step:".01"},domProps:{value:t.listado.efectivo[o.id-1]},on:{input:[function(e){e.target.composing||t.$set(t.listado.efectivo,o.id-1,t._n(e.target.value))},t.enviar],blur:function(e){return t.$forceUpdate()}}})]),t._v(" "),e("td",[t._v(" "+t._s((parseFloat(t.listado.tranferencia[o.id-1])+parseFloat(t.listado.efectivo[o.id-1])).toFixed(2)))])])})),t._v(" "),t._m(1),t._v(" "),e("tr",[t._m(2),t._v(" "),e("td",[e("b",[t._v(t._s(t.totalTransferencia.toFixed(2)))])]),t._v(" "),e("td",[e("b",[t._v(t._s(t.totalEfectivo.toFixed(2)))])]),t._v(" "),e("td",[e("b",[t._v(t._s(t.totalGeneral.toFixed(2)))])])])],2)])]:t._e(),t._v(" "),0==t.tipo?[t._m(3),t._v(" "),t._l(t.listado.conceptos,(function(o,a){return e("li",{staticClass:"list-group-item"},[e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group col-md-4"},[e("label",[t._v(t._s(t.listado.conceptos[a]))])]),t._v(" "),e("div",{staticClass:"form-group col-md-2"},[e("label",[t._v(t._s(t.listado.tranferencia[a]))])]),t._v(" "),e("div",{staticClass:"form-group col-md-2"},[e("label",[t._v(t._s(t.listado.efectivo[a]))])]),t._v(" "),e("div",{staticClass:"form-group col-md-2"},[e("label",[t._v(t._s(parseFloat(t.listado.tranferencia[a])+parseFloat(t.listado.efectivo[a])))])]),t._v(" "),e("div",{staticClass:"form-group col-md-2"},[e("a",{on:{click:function(e){return t.deleteu(a)}}},[e("span",{staticClass:"fas fa-trash",attrs:{"arial-hidden":"true"}})])])])])})),t._v(" "),e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group col-md-4"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.listado_temporal.conceptos,expression:"listado_temporal.conceptos"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Concepto"},domProps:{value:t.listado_temporal.conceptos},on:{input:function(e){e.target.composing||t.$set(t.listado_temporal,"conceptos",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group col-md-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.listado_temporal.tranferencia,expression:"listado_temporal.tranferencia"}],staticClass:"form-control",attrs:{type:"number",placeholder:"Tranferencia"},domProps:{value:t.listado_temporal.tranferencia},on:{input:function(e){e.target.composing||t.$set(t.listado_temporal,"tranferencia",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group col-md-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.listado_temporal.efectivo,expression:"listado_temporal.efectivo"}],staticClass:"form-control",attrs:{type:"number",placeholder:"Efectivo"},domProps:{value:t.listado_temporal.efectivo},on:{input:function(e){e.target.composing||t.$set(t.listado_temporal,"efectivo",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group col-md-2"},[t._v("\n       \n      ")]),t._v(" "),e("div",{staticClass:"form-group col-md-2"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.crear()}}},[e("i",{staticClass:"fas fa-plus"}),t._v(" Crear")])])])]:t._e()],2)}),[function(){var t=this,e=t._self._c;return e("tr",[e("th",{attrs:{scope:"col"}},[t._v("Concepto")]),t._v(" "),e("th",{attrs:{scope:"col"}},[t._v("T.E (Transferencia Electronica)")]),t._v(" "),e("th",{attrs:{scope:"col"}},[t._v("Efectivo")]),t._v(" "),e("th",{attrs:{scope:"col"}},[t._v("Total")])])},function(){var t=this._self._c;return t("tr",[t("td",{attrs:{colspan:"4"}},[this._v(" ")])])},function(){var t=this._self._c;return t("td",[t("b",[this._v("Total")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group col-md-4"},[e("label",[e("b",[t._v("Concepto")])])]),t._v(" "),e("div",{staticClass:"form-group col-md-2"},[e("label",[e("b",[t._v("T.E (Transferencia Electronica)")])])]),t._v(" "),e("div",{staticClass:"form-group col-md-2"},[e("label",[e("b",[t._v("Efectivo")])])]),t._v(" "),e("div",{staticClass:"form-group col-md-2"},[e("label",[e("b",[t._v("Total")])])]),t._v(" "),e("div",{staticClass:"form-group col-md-2"},[e("label",[e("b",[t._v("ACCIONES")])])])])}],!1,null,null,null).exports},35516:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>r});var a=o(60173),i=o(14941).call(void 0);const s={data:function(){return{PermisosCrud:{},timbre_modal:0,tipo:"",unidadtemporal:{},empresa:"1",ver:1,tabs:1,isLoading:!1,tituloModal:"",modal:0,tipoAccion:0,isEnabled:!0,data_detalle:"",isObtener_Loading:!1,isGuardar_Loading:!1,solicitud:{id:"",fecha:"",fecha_pago:"",proyecto_id:"",personal_servicio_viaticos_id:"",empleado_elabora_id:"",empleado_revisa_id:"",empleado_autoriza_id:"",empleado_supervisor_id:"",beneficiario_uno:[],detalles_listado:[],detalles_totales:[],detalles_conceptos:[],origen_destino:"",origen_destino_destino:"",fecha_salida:"",hora_estimada_salida:"",fecha_operacion:"",fecha_retorno:"",total_personas:""},list_unidades:[],vehiculos_itinerario_viaticos:[],vehiculos_temporal:{unidad:"",km_inicial:"",empleado_operador_id:"",empleado_operador_name:""},optionsvs_proyecto:[],vs_options:[],columns:["sv__id","sv__folio","sv__tipo","sv__fecha_solicitud","sv__fecha_pago","benef__nombre","id2","EE__nombre","sv__total_efectivo","sv__total_transferencia","sv__estado"],options:{headings:{sv__id:"Acciones",sv__folio:"Folio",sv__tipo:"Tipo",sv__fecha_pago:"Fecha de pago",sv__estado:"Estado",benef__nombre:"Beneficiario",sv__fecha_solicitud:"Fecha solicitada",id2:"Descargar",sv__nombre_revisa:"Revisa",EE__nombre:"Elabora",sv__nombre_autoriza:"Autoriza",sv__total_efectivo:"Total efectivo",sv__total_transferencia:"Total transferencia"},perPage:10,perPageValues:[],skin:i.skin,sortIcon:i.sortIcon,filterByColumn:!0,listColumns:{sv__tipo:[{id:1,text:"REEMBOLSO"},{id:2,text:"VIATICOS"},{id:0,text:"SINDICATO"}]},texts:i.texts}}},components:{beneficiario:function(t){return o.e(753).then(function(){return t(o(55244))}.bind(null,o)).catch(o.oe)},detallesv:function(t){return o.e(753).then(function(){return t(o(48985))}.bind(null,o)).catch(o.oe)}},methods:{getData:function(){this.ver=1,this.PermisosCrud=a.A.getCRUD(this.$route.path)},sumarTotalPersona:function(){this.solicitud.total_personas=1},sumarTotalPersonas:function(){this.solicitud.personal_servicio_viaticos_id.length,this.solicitud.total_personas="",this.solicitud.total_personas=1+this.solicitud.personal_servicio_viaticos_id.length},diaActual:function(){var t=new Date,e=t.getDate(),o=t.getMonth()+1,a=t.getFullYear();e<10&&(e="0"+e),o<10&&(o="0"+o),t=a+"-"+o+"-"+e,this.solicitud.fecha=t,this.solicitud.fecha_salida=t},verdiferencia:function(){new Date(this.solicitud.fecha).getTime()>new Date(this.solicitud.fecha_retorno)&&toastr.warning("La fecha de salida no puede ser menor a la fecha salida")},componenteBeneficiario:function(){this.$refs.beneficiario.getDatos(this.empresa,this.tipo,this.vs_options),this.$refs.detallesv.getDatos(this.tipo)},ObtenerUnidades:function(){var t=this;axios.get("vehiculos/combustible/obtenerunidades").then((function(e){e.data.status?t.list_unidades=e.data.unidades:toastr.error(e.data.mensaje)}))},abrirModal:function(t,e){var o=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(""===this.empresa)toastr.warning("Seleccione una empresa");else if(this.ObtenerProyectos(),this.ObtenerEmpleados(),this.ObtenerUnidades(),"solicitud"===t)switch(e){case"registrar":this.isEnabled=!0,a.A.resetObject(this.solicitud),this.modal=1,this.diaActual(),this.tituloModal="Registrar solicitud de viaticos",this.tipoAccion=1,this.solicitud.empleado_autoriza_id={id:461,name:"BRIGIDA MARTINEZ HERRERA"};break;case"actualizar":this.isEnabled=!1,a.A.resetObject(this.solicitud),this.tituloModal="Actualizar solicitud de viaticos",this.modal=1,this.tipoAccion=2,axios.get("solicitud/viaticos/detalles/"+i.sv__id).then((function(t){t=t.data[0],o.tipo=t.solicitud[0].tipo,o.solicitud.fecha=t.solicitud[0].fecha_solicitud,o.solicitud.fecha_pago=t.solicitud[0].fecha_pago,o.solicitud.proyecto_id={id:t.solicitud[0].proyecto_id,nombre_corto:t.solicitud[0].nombre_proyecto},o.$refs.beneficiario.setDatos(t.beneficiarios,t.solicitud[0].tipo,o.empresa),o.$refs.detallesv.setDatos(t.detalles_listado,t.solicitud[0].tipo),o.solicitud.origen_destino=t.solicitud[0].origen_destino,o.solicitud.origen_destino_destino=t.solicitud[0].origen_destino_destino,o.solicitud.fecha_salida=t.solicitud[0].fecha_salida,o.solicitud.hora_estimada_salida=t.solicitud[0].hora_estimada_salida,o.solicitud.fecha_operacion=t.solicitud[0].fecha_operacion,o.solicitud.fecha_retorno=t.solicitud[0].fecha_retorno,o.vehiculos_itinerario_viaticos=[];for(var e=0;e<t.vehiculo.length;e++){o.vehiculos_itinerario_viaticos.push({unidad:t.vehiculo[e].unidad,km_inicial:t.vehiculo[e].km_inicial,empleado_operador_id:t.vehiculo[e].empleado_operador_id,empleado_operador_name:t.vehiculo[e].nombre_operador})}o.solicitud.total_personas=t.solicitud[0].total_personas,o.solicitud.empleado_supervisor_id={id:t.solicitud[0].empleado_supervisor_id,name:t.solicitud[0].nombre_supervisor},o.solicitud.empleado_elabora_id={id:t.solicitud[0].empleado_elabora_id,name:t.solicitud[0].nombre_elabora},o.solicitud.empleado_revisa_id={id:t.solicitud[0].empleado_revisa_id,name:t.solicitud[0].nombre_revisa},o.solicitud.empleado_autoriza_id={id:t.solicitud[0].empleado_autoriza_id,name:t.solicitud[0].nombre_autoriza},o.solicitud.id=t.solicitud[0].id;var a=[];for(e=0;e<t.empleados.length;e++)a.push({id:t.empleados[e].empleado_id,name:t.empleados[e].nombre_empleado});o.solicitud.personal_servicio_viaticos_id=a}))}},cerrarModal:function(){this.modal=0,this.$refs.beneficiario.quitar_uno(),this.vehiculos_itinerario_viaticos=[],a.A.resetObject(this.solicitud)},enviouno:function(t){this.solicitud.beneficiario_uno=t},envio_u:function(t){this.solicitud.detalles_listado=t},envio_d:function(t){this.solicitud.detalles_totales=t},envio_c:function(t){this.solicitud.detalles_conceptos=t},crear:function(){null!=this.unidadtemporal&&(null!=this.unidadtemporal.id?null!=this.vehiculos_temporal.empleado_operador_id.id?(this.vehiculos_itinerario_viaticos.push({unidad:this.unidadtemporal.modelo,km_inicial:this.unidadtemporal.placas,empleado_operador_id:this.vehiculos_temporal.empleado_operador_id.id,empleado_operador_name:this.vehiculos_temporal.empleado_operador_id.name,temp:!0}),this.unidadtemporal={},this.vehiculos_temporal={}):toastr.warning("Seleccione el operador"):toastr.warning("Seleccione una unidad"))},guardar:function(t){var e=this;this.$validator.validate().then((function(o){if(o){e.isGuardar_Loading=!0,axios({method:t?"POST":"PUT",url:t?"/solicitudviaticos":"/solicitudviaticos/"+e.solicitud.id,data:{id:e.solicitud.id,fecha_solicitud:e.solicitud.fecha,fecha_pago:e.solicitud.fecha_pago,proyecto_id:e.solicitud.proyecto_id.id,personal_servicio_viaticos_id:""==e.solicitud.personal_servicio_viaticos_id?[]:e.solicitud.personal_servicio_viaticos_id,empleado_elabora_id:e.solicitud.empleado_elabora_id.id,empleado_revisa_id:e.solicitud.empleado_revisa_id.id,empleado_autoriza_id:e.solicitud.empleado_autoriza_id.id,empleado_supervisor_id:""==e.solicitud.empleado_supervisor_id?"":e.solicitud.empleado_supervisor_id.id,beneficiario_uno:e.solicitud.beneficiario_uno,detalles_totales:e.solicitud.detalles_totales,detalles_listado:e.solicitud.detalles_listado,detalles_conceptos:e.solicitud.detalles_conceptos,origen_destino:e.solicitud.origen_destino,origen_destino_destino:e.solicitud.origen_destino_destino,fecha_salida:e.solicitud.fecha_salida,hora_estimada_salida:e.solicitud.hora_estimada_salida,fecha_operacion:e.solicitud.fecha_operacion,fecha_retorno:e.solicitud.fecha_retorno,total_personas:e.solicitud.total_personas,vehiculos_itinerario_viaticos:e.vehiculos_itinerario_viaticos,empresa:e.empresa,tipo:e.tipo}}).then((function(o){if(e.isGuardar_Loading=!1,o.data.status){toastr.success(t?"Solicitud creada exitosamente":"Solicitud actualizada exitosamente","Correcto");var a=e;e.ObtenerSolicitudes(),a.cerrarModal(),a.getData()}else toastr.error("Error al guardar la solicitud")})).catch((function(t){console.error(t)}))}else toastr.warning("Complete los campos requeridos")}))},limpiarBeneficiarioUno:function(){this.solicitud.beneficiario_uno=null},limpiarBeneficiarioDos:function(){this.solicitud.beneficiario_dos=null},maestro:function(){this.ver=1},enviaRevision:function(t,e){var o=this;this.isLoading=!0,swal({title:"Esta seguro(a) de enviar?",type:"warning",showCancelButton:!0,confirmButtonColor:"#4dbd74",cancelButtonColor:"#f86c6b",confirmButtonText:"Aceptar!",cancelButtonText:"Cancelar",reverseButtons:!0}).then((function(a){a.value?axios.post("/estadosviaticos",{id:t,edo:e,empresa:o.empresa}).then((function(t){o.isLoading=!1,t.data.status?(2==e&&toastr.success("Solicitud de viaticos enviada a revisión","Correcto"),o.getData(),o.ObtenerSolicitudes()):toastr.warning(t.data.respuesta,"Atención")})).catch((function(t){console.log(t)})):o.isLoading=!1}))},decargarForVia:function(t,e){window.open("/descargarformatoviatico/"+t+"&"+e,"_blank")},descargarnForFij:function(t,e){window.open("/descargarnformatofij/"+t+"&"+e,"_blank")},ObtenerProyectos:function(){var t=this;axios.get("generales/proyectos/1").then((function(e){t.optionsvs_proyecto=e.data.proyectos}))},ObtenerEmpleados:function(){var t=this;axios.get("rh/empleados/obtenerporempresa/"+this.empresa).then((function(e){var o=[];e.data.empleados.forEach((function(t){o.push({id:t.id,name:t.nombre+" "+t.ap_paterno+" "+t.ap_materno})})),t.vs_options=o}))},eliminar:function(t,e){var o=this;axios.get("eliminar/solicitud/viaticos/"+t+"&"+e).then((function(t){toastr.success("Eliminado Correctamente"),o.ObtenerSolicitudes()})).catch((function(t){console.error(t)}))},ObtenerSolicitudes:function(){this.$refs.myTable.refresh()},descargaViatico:function(t,e){switch(e){case 0:this.descargarnForFij(t,this.empresa);break;case 1:case 2:this.decargarForVia(t,this.empresa)}}},mounted:function(){this.getData()}};const r=(0,o(14486).A)(s,(function(){var t=this,e=t._self._c;return e("main",{staticClass:"main"},[e("div",[e("div",{directives:[{name:"show",rawName:"v-show",value:1==t.ver,expression:"ver == 1"}],staticClass:"card"},[e("div",{staticClass:"card-header"},[e("i",{staticClass:"fa fa-align-justify"}),t._v(" Solicitudes "+t._s(1==t.empresa?"CONSERFLOW":2==t.empresa?"CSCT":"")+"\n\n                "),e("button",{staticClass:"btn btn-dark float-sm-right",attrs:{type:"button"},on:{click:function(e){return t.abrirModal("solicitud","registrar")}}},[e("i",{staticClass:"fas fa-plus"}),t._v("Nuevo\n                ")])]),t._v(" "),e("div",{staticClass:"card-body"},[e("vue-element-loading",{attrs:{active:t.isObtener_Loading}}),t._v(" "),e("v-server-table",{ref:"myTable",attrs:{columns:t.columns,options:t.options,url:"solicitud/viaticos/conserflow/".concat(t.empresa,"?query={}&limit=10&ascending=1&page=1&byColumn=1")},scopedSlots:t._u([{key:"sv__id",fn:function(o){return[e("div",{staticClass:"btn-group",attrs:{role:"group","aria-label":"Button group with nested dropdown"}},[e("div",{staticClass:"btn-group dropup",attrs:{role:"group"}},[e("button",{staticClass:"btn btn-outline-dark dropdown-toggle",attrs:{id:"btnGroupDrop1",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("i",{staticClass:"fas fa-grip-horizontal"})]),t._v(" "),e("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"btnGroupDrop1"}},[0==o.row.sv__eliminado?[1==o.row.sv__estado?[e("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.abrirModal("solicitud","actualizar",o.row)}}},[e("i",{staticClass:"fas fa-edit"}),t._v("Actualizar Solicitud\n                                            ")]),t._v(" "),e("button",{directives:[{name:"show",rawName:"v-show",value:t.PermisosCrud.Delete,expression:"PermisosCrud.Delete"}],staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.eliminar(o.row.sv__id,t.empresa)}}},[e("i",{staticClass:"fas fa-trash"}),t._v("Eliminar\n                                            ")]),t._v(" "),e("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.enviaRevision(o.row.sv__id,2)}}},[e("i",{staticClass:"far fa-paper-plane"}),t._v("Cerrar\n                                            ")])]:t._e()]:t._e()],2)])])]}},{key:"sv__estado",fn:function(o){return[1==o.row.sv__eliminado?[e("span",{staticClass:"btn btn-outline-danger"},[t._v("Eliminado")])]:t._e(),t._v(" "),0==o.row.sv__eliminado?[6==o.row.sv__estado?[e("span",{staticClass:"btn btn-outline-info"},[t._v("Finalizado")])]:t._e(),t._v(" "),5==o.row.sv__estado?[e("span",{staticClass:"btn btn-outline-info"},[t._v("Pagos "),e("br"),t._v(" agendados")])]:t._e(),t._v(" "),4==o.row.sv__estado?[e("span",{staticClass:"btn btn-outline-info"},[t._v("En espera "),e("br"),t._v(" de pagos")])]:t._e(),t._v(" "),3==o.row.sv__estado?[e("span",{staticClass:"btn btn-outline-warning"},[t._v("En Autorizacion")])]:t._e(),t._v(" "),2==o.row.sv__estado?[e("span",{staticClass:"btn btn-outline-warning"},[t._v("En revisión")])]:t._e(),t._v(" "),1==o.row.sv__estado?[e("span",{staticClass:"btn btn-outline-success"},[t._v("Nuevo")])]:t._e(),t._v(" "),0==o.row.sv__estado?[e("span",{staticClass:"btn btn-outline-danger"},[t._v("No autorizado")])]:t._e()]:t._e()]}},{key:"sv__tipo",fn:function(e){return[0==e.row.sv__tipo?[t._v("\n                            SINDICATO\n                        ")]:t._e(),t._v(" "),1==e.row.sv__tipo?[t._v("\n                            REEMBOLSO\n                        ")]:t._e(),t._v(" "),2==e.row.sv__tipo?[t._v("\n                            VIATICOS\n                        ")]:t._e()]}},{key:"id2",fn:function(o){return[e("button",{staticClass:"btn btn-outline-dark",attrs:{type:"button"},on:{click:function(e){return t.descargaViatico(o.row.sv__id,o.row.sv__tipo)}}},[e("i",{staticClass:"fas fa-file-pdf"}),e("i",{staticClass:"fas fa-download"})])]}},{key:"sv__total_efectivo",fn:function(o){return[e("p",[t._v(t._s(o.row.sv__total_efectivo.toLocaleString("es-MX",{style:"currency",currency:"MXN"})))])]}},{key:"sv__total_transferencia",fn:function(o){return[e("p",[t._v(t._s(o.row.sv__total_transferencia.toLocaleString("es-MX",{style:"currency",currency:"MXN"})))])]}}])})],1)]),t._v(" "),e("div",{staticClass:"modal fade",class:{mostrar:t.modal},staticStyle:{display:"none"},attrs:{tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel","arial-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-dark modal-lg",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h4",{staticClass:"modal-title"},[t._v(t._s(t.tituloModal)+" "+t._s(1==t.empresa?"Conserflow":"CSCT"))]),t._v(" "),e("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.cerrarModal()}}},[e("span",{attrs:{"arial-hidden":"true"}},[t._v("X")])])]),t._v(" "),e("div",{staticClass:"modal-body"},[e("vue-element-loading",{attrs:{active:t.isGuardar_Loading}}),t._v(" "),e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group col-md-6"},[e("label",[t._v("Tipo")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.tipo,expression:"tipo"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{disabled:!t.isEnabled,"data-vv-name":"tipo"},on:{change:[function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.tipo=e.target.multiple?o:o[0]},function(e){return t.componenteBeneficiario()}]}},[e("option",{attrs:{value:"0"}},[t._v("SINDICATO")]),t._v(" "),e("option",{attrs:{value:"1"}},[t._v("REEMBOLSO")]),t._v(" "),e("option",{attrs:{value:"2"}},[t._v("VIATICOS")])]),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("tipo")))])]),t._v(" "),e("div",{staticClass:"form-group col-md-6"},[e("label",[t._v("Fecha solicitud")]),t._v(" "),e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.solicitud.fecha,expression:"solicitud.fecha"}],staticClass:"form-control",attrs:{type:"date","data-vv-name":"Fecha solicitud"},domProps:{value:t.solicitud.fecha},on:{input:function(e){e.target.composing||t.$set(t.solicitud,"fecha",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Fecha solicitud")))])])]),t._v(" "),e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group col-md-6"},[e("label",[t._v("Fecha requerida de pago")]),t._v(" "),e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.solicitud.fecha_pago,expression:"solicitud.fecha_pago"}],staticClass:"form-control",attrs:{type:"date","data-vv-name":"Fecha de pago"},domProps:{value:t.solicitud.fecha_pago},on:{input:function(e){e.target.composing||t.$set(t.solicitud,"fecha_pago",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Fecha de pago")))])]),t._v(" "),e("div",{staticClass:"form-group col-md-6"},[e("label",[t._v("Proyecto")]),t._v(" "),e("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{disabled:!t.isEnabled,options:t.optionsvs_proyecto,label:"nombre_corto","data-vv-name":"Proyecto"},model:{value:t.solicitud.proyecto_id,callback:function(e){t.$set(t.solicitud,"proyecto_id",e)},expression:"solicitud.proyecto_id"}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Proyecto")))])],1)]),t._v(" "),e("hr"),t._v(" "),e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card"},[t._m(0),t._v(" "),e("div",{staticClass:"collapse",attrs:{id:"collapseOne","aria-labelledby":"headingOne","data-parent":"#accordion"}},[e("div",{staticClass:"card-body"},[e("beneficiario",{ref:"beneficiario",on:{enviarUno:function(e){return t.enviouno(e)},enviarDos:function(e){return t.enviodos(e)},limpiarUno:function(e){return t.limpiarBeneficiarioUno()},limpiarDos:function(e){return t.limpiarBeneficiarioDos()}}})],1)])]),t._v(" "),e("div",{staticClass:"card"},[t._m(1),t._v(" "),e("div",{staticClass:"collapse",attrs:{id:"collapseTwo","aria-labelledby":"headingTwo","data-parent":"#accordion"}},[e("div",{staticClass:"card-body"},[e("detallesv",{ref:"detallesv",on:{listado:function(e){return t.envio_u(e)},totales:function(e){return t.envio_d(e)},conceptos:function(e){return t.envio_c(e)}}})],1)])]),t._v(" "),t.tipo>0?[e("div",{staticClass:"card"},[t._m(2),t._v(" "),e("div",{staticClass:"collapse",attrs:{id:"collapseThree","aria-labelledby":"headingThree","data-parent":"#accordion"}},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"form-row"},[t._m(3),t._v(" "),e("div",{staticClass:"form-group col-md-4"},[e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.solicitud.origen_destino,expression:"solicitud.origen_destino"}],staticClass:"form-control",attrs:{type:"text","data-vv-name":"Origen"},domProps:{value:t.solicitud.origen_destino},on:{input:function(e){e.target.composing||t.$set(t.solicitud,"origen_destino",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Origen")))])]),t._v(" "),t._m(4),t._v(" "),e("div",{staticClass:"form-group col-md-4"},[e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.solicitud.origen_destino_destino,expression:"solicitud.origen_destino_destino"}],staticClass:"form-control",attrs:{type:"text","data-vv-name":"Destino"},domProps:{value:t.solicitud.origen_destino_destino},on:{input:function(e){e.target.composing||t.$set(t.solicitud,"origen_destino_destino",e.target.value)}}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Destino")))])])]),t._v(" "),e("hr"),t._v(" "),e("div",{staticClass:"form-row"},[t._m(5),t._v(" "),e("div",{staticClass:"form-group col-md-4"},[e("div",{staticClass:"input-group"},[t._m(6),t._v(" "),e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.solicitud.fecha_salida,expression:"solicitud.fecha_salida"}],staticClass:"form-control",attrs:{type:"date","data-vv-name":"Fecha salida"},domProps:{value:t.solicitud.fecha_salida},on:{input:function(e){e.target.composing||t.$set(t.solicitud,"fecha_salida",e.target.value)}}})]),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Fecha salida")))]),t._v(" "),e("div",{staticClass:"input-group"},[t._m(7),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.solicitud.hora_estimada_salida,expression:"solicitud.hora_estimada_salida"}],staticClass:"form-control",attrs:{type:"time","data-vv-name":"Hora estimada de salida"},domProps:{value:t.solicitud.hora_estimada_salida},on:{input:function(e){e.target.composing||t.$set(t.solicitud,"hora_estimada_salida",e.target.value)}}})]),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Hora estimada de salida")))])]),t._v(" "),t._m(8),t._v(" "),e("div",{staticClass:"form-group col-md-4"},[e("div",{staticClass:"input-group"},[t._m(9),t._v(" "),e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.solicitud.fecha_operacion,expression:"solicitud.fecha_operacion"}],staticClass:"form-control",attrs:{type:"date","data-vv-name":"Fecha de operacion"},domProps:{value:t.solicitud.fecha_operacion},on:{input:function(e){e.target.composing||t.$set(t.solicitud,"fecha_operacion",e.target.value)}}})]),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(" "+t._s(t.errors.first("Fecha de operacion"))+" ")]),t._v(" "),e("div",{staticClass:"input-group"},[t._m(10),t._v(" "),e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.solicitud.fecha_retorno,expression:"solicitud.fecha_retorno"}],staticClass:"form-control",attrs:{type:"date","data-vv-name":"Fecha de retorno"},domProps:{value:t.solicitud.fecha_retorno},on:{change:function(e){return t.verdiferencia()},input:function(e){e.target.composing||t.$set(t.solicitud,"fecha_retorno",e.target.value)}}})]),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(" "+t._s(t.errors.first("Fecha de retorno"))+" ")])])]),t._v(" "),e("hr"),t._v(" "),t._m(11),t._v(" "),t._l(t.vehiculos_itinerario_viaticos,(function(o,a){return e("li",{key:a,staticClass:"list-group-item"},[e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group col-md-2"},[e("label",[t._v(t._s(o.km_inicial))])]),t._v(" "),e("div",{staticClass:"form-group col-md-4"},[e("label",[t._v(t._s(o.unidad))])]),t._v(" "),e("div",{staticClass:"form-group col-md-4"},[e("label",[t._v(t._s(o.empleado_operador_name))])])])])})),t._v(" "),e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group col-md-2"},[e("v-select",{attrs:{options:t.list_unidades,label:"placas"},model:{value:t.unidadtemporal,callback:function(e){t.unidadtemporal=e},expression:"unidadtemporal"}})],1),t._v(" "),e("div",{staticClass:"form-group col"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.unidadtemporal.modelo,expression:"unidadtemporal.modelo"}],staticClass:"form-control",attrs:{disabled:"",type:"text",placeholder:"Unidad"},domProps:{value:t.unidadtemporal.modelo},on:{input:function(e){e.target.composing||t.$set(t.unidadtemporal,"modelo",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group col-md-4"},[e("v-select",{attrs:{options:t.vs_options,label:"name",name:"personal_servicio_viaticos_id","data-vv-name":"personal_servicio_viaticos_id"},model:{value:t.vehiculos_temporal.empleado_operador_id,callback:function(e){t.$set(t.vehiculos_temporal,"empleado_operador_id",e)},expression:"vehiculos_temporal.empleado_operador_id"}})],1),t._v(" "),e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.crear()}}},[e("i",{staticClass:"fas fa-plus"})])])])],2)])]),t._v(" "),e("div",{staticClass:"card"},[t._m(12),t._v(" "),e("div",{staticClass:"collapse",attrs:{id:"collapseFour","aria-labelledby":"headingFour","data-parent":"#accordion"}},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"form-row"},[t._m(13),t._v(" "),e("div",{staticClass:"form-group col-md-6"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.solicitud.total_personas,expression:"solicitud.total_personas"}],staticClass:"form-control",attrs:{type:"number",name:"total_personas","data-vv-name":"total_personas",readonly:""},domProps:{value:t.solicitud.total_personas},on:{input:function(e){e.target.composing||t.$set(t.solicitud,"total_personas",e.target.value)}}})])]),t._v(" "),e("div",{staticClass:"form-row"},[t._m(14),t._v(" "),e("div",{staticClass:"form-group col-md-6"},[e("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{options:t.vs_options,label:"name","data-vv-name":"Supervisor"},on:{input:t.sumarTotalPersona},model:{value:t.solicitud.empleado_supervisor_id,callback:function(e){t.$set(t.solicitud,"empleado_supervisor_id",e)},expression:"solicitud.empleado_supervisor_id"}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(" "+t._s(t.errors.first("Supervisor"))+" ")])],1)]),t._v(" "),e("div",{staticClass:"form-row"},[t._m(15),t._v(" "),e("div",{staticClass:"form-group col-md-6"},[e("v-select",{attrs:{multiple:"",options:t.vs_options,label:"name",name:"personal_servicio_viaticos_id","data-vv-name":"personal_servicio_viaticos_id"},on:{input:t.sumarTotalPersonas},model:{value:t.solicitud.personal_servicio_viaticos_id,callback:function(e){t.$set(t.solicitud,"personal_servicio_viaticos_id",e)},expression:"solicitud.personal_servicio_viaticos_id"}})],1)])])])])]:t._e()],2),t._v(" "),e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group col-md-6"},[e("label",[t._v("Elaboró")]),t._v(" "),e("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{options:t.vs_options,label:"name","data-vv-name":"Elabora"},model:{value:t.solicitud.empleado_elabora_id,callback:function(e){t.$set(t.solicitud,"empleado_elabora_id",e)},expression:"solicitud.empleado_elabora_id"}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Elabora")))])],1),t._v(" "),e("div",{staticClass:"form-group col-md-6"},[e("label",[t._v("Revisó")]),t._v(" "),e("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{options:t.vs_options,label:"name",name:"revisa","data-vv-name":"Revisa"},model:{value:t.solicitud.empleado_revisa_id,callback:function(e){t.$set(t.solicitud,"empleado_revisa_id",e)},expression:"solicitud.empleado_revisa_id"}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Revisa")))])],1)]),t._v(" "),e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group col-md-6"},[e("label",[t._v("Autorizó")]),t._v(" "),e("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{disabled:"",options:t.vs_options,label:"name",name:"autoriza","data-vv-name":"Autoriza"},model:{value:t.solicitud.empleado_autoriza_id,callback:function(e){t.$set(t.solicitud,"empleado_autoriza_id",e)},expression:"solicitud.empleado_autoriza_id"}}),t._v(" "),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Autoriza")))])],1)])],1),t._v(" "),e("div",{staticClass:"modal-footer"},[e("vue-element-loading",{attrs:{active:t.isGuardar_Loading}}),t._v(" "),e("div",[e("button",{staticClass:"btn btn-outline-dark",attrs:{type:"button"},on:{click:function(e){return t.cerrarModal()}}},[e("i",{staticClass:"fas fa-times"}),t._v("Cerrar")]),t._v(" "),1==t.tipoAccion?e("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.guardar(1)}}},[e("i",{staticClass:"fas fa-save"}),t._v("Guardar")]):t._e(),t._v(" "),2==t.tipoAccion?e("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.guardar(0)}}},[e("i",{staticClass:"fas fa-save"}),t._v("Actualizar")]):t._e()])],1)])])])])])}),[function(){var t=this._self._c;return t("div",{staticClass:"card-header",attrs:{id:"headingOne"}},[t("h5",{staticClass:"mb-0"},[t("button",{staticClass:"btn btn-link",attrs:{type:"button","data-toggle":"collapse","data-target":"#collapseOne","aria-expanded":"true","aria-controls":"collapseOne"}},[this._v("\n                                            BENEFICIARIOS\n                                        ")])])])},function(){var t=this._self._c;return t("div",{staticClass:"card-header",attrs:{id:"headingTwo"}},[t("h5",{staticClass:"mb-0"},[t("button",{staticClass:"btn btn-link",attrs:{type:"button","data-toggle":"collapse","data-target":"#collapseTwo","aria-expanded":"true","aria-controls":"collapseTwo"}},[this._v("\n                                            DETALLE DE VIATICOS\n                                        ")])])])},function(){var t=this._self._c;return t("div",{staticClass:"card-header",attrs:{id:"headingThree"}},[t("h5",{staticClass:"mb-0"},[t("button",{staticClass:"btn btn-link",attrs:{type:"button","data-toggle":"collapse","data-target":"#collapseThree","aria-expanded":"true","aria-controls":"collapseThree"}},[this._v("\n                                                NOTAS DE ITINERIARIO Y LOGISTICA\n                                            ")])])])},function(){var t=this._self._c;return t("div",{staticClass:"form-group col-md-2"},[t("label",[this._v("Origen")])])},function(){var t=this._self._c;return t("div",{staticClass:"form-group col-md-2"},[t("label",[this._v("Destino")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"form-group col-md-5"},[e("label",[t._v("1.- Fecha salida:")]),t._v(" "),e("label",[t._v("2.- Hora de estimada de salida:")])])},function(){var t=this._self._c;return t("div",{staticClass:"input-group-addon"},[t("span",{staticClass:"input-group-text"},[this._v("1")])])},function(){var t=this._self._c;return t("div",{staticClass:"input-group-addon"},[t("span",{staticClass:"input-group-text"},[this._v("2")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"form-group col-md-5"},[e("label",[t._v("3.- Fecha de operación:")]),t._v(" "),e("label",[t._v("4.- Fecha de retorno estimada:")])])},function(){var t=this._self._c;return t("div",{staticClass:"input-group-addon"},[t("span",{staticClass:"input-group-text"},[this._v("3")])])},function(){var t=this._self._c;return t("div",{staticClass:"input-group-addon"},[t("span",{staticClass:"input-group-text"},[this._v("4")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group col-md-2"},[e("label",[e("b",[t._v("PLACAS")])])]),t._v(" "),e("div",{staticClass:"form-group col-md-4"},[e("label",[e("b",[t._v("UNIDAD")])])]),t._v(" "),e("div",{staticClass:"form-group col-md-4"},[e("label",[e("b",[t._v("OPERADOR")])])])])},function(){var t=this._self._c;return t("div",{staticClass:"card-header",attrs:{id:"headingFour"}},[t("h5",{staticClass:"mb-0"},[t("button",{staticClass:"btn btn-link",attrs:{type:"button","data-toggle":"collapse","data-target":"#collapseFour","aria-expanded":"true","aria-controls":"collapseFour"}},[this._v("\n                                                PERSONAL DESTINADO AL SERVICIO\n                                            ")])])])},function(){var t=this._self._c;return t("div",{staticClass:"form-group col-md-4"},[t("label",[this._v("Total de personas a asistir")])])},function(){var t=this._self._c;return t("div",{staticClass:"form-group col-md-4"},[t("label",[this._v("Supervisor")])])},function(){var t=this._self._c;return t("div",{staticClass:"form-group col-md-4"},[t("label",[this._v("Nombre del personal que asiste al servicio")])])}],!1,null,null,null).exports}}]);