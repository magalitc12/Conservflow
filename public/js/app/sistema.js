/*! For license information please see sistema.js.LICENSE.txt */
(self.webpackChunk=self.webpackChunk||[]).push([[565],{14941:t=>{t.exports=function(){return{dateColumns:[],listColumns:{},datepickerOptions:{locale:{cancelLabel:"Clear"}},datepickerPerColumnOptions:{},initialPage:1,perPage:10,perPageValues:[10,25,50,100],groupBy:!1,collapseGroups:!1,destroyEventBus:!1,sendEmptyFilters:!1,params:{},sortable:!0,filterable:!0,groupMeta:[],initFilters:{},customFilters:[],templates:{},debounce:250,dateFormat:"DD/MM/YYYY",dateFormatPerColumn:{},toMomentFormat:!1,skin:"table table-striped table-bordered table-hover table-sm",skinBusqueda:"table table-striped table-bordered table-hover table-sm busqueda",columnsDisplay:{},columnsDropdown:!1,texts:{count:"Mostrando del {from} al  {to} de {count} registros|{count} registros|Un registro",first:"Primero",last:"Ultimo",filter:"Buscar:",filterPlaceholder:"Buscar...",limit:"Registros:",page:"Pagina:",noResults:"No se encontraron registros",filterBy:"Filtrar por {column}",loading:"Cargando...",defaultOption:"Seleccionar {column}",columns:"Columnas"},sortIcon:{base:"fa",up:"fa-chevron-up",down:"fa-chevron-down",is:"fa-sort"},sortingAlgorithm:function(t,a){return t.sort(this.getSortFn(a))},customSorting:{},multiSorting:{},clientMultiSorting:!0,serverMultiSorting:!1,filterByColumn:!1,highlightMatches:!1,orderBy:!1,descOrderColumns:[],footerHeadings:!1,headings:{},headingsTooltips:{},pagination:{dropdown:!1,chunk:10,edge:!1,align:"center",nav:"fixed"},childRow:!1,childRowTogglerFirst:!0,uniqueKey:"id",requestFunction:!1,requestAdapter:function(t){return t},responseAdapter:function(t){var a=this.getResponseData(t);return{data:a.data,count:a.count}},requestKeys:{query:"query",limit:"limit",orderBy:"orderBy",ascending:"ascending",page:"page",byColumn:"byColumn"},rowClassCallback:!1,preserveState:!1,saveState:!1,storage:"local",columnsClasses:{},columnCondicion:[{id:1,text:"Activo"},{id:0,text:"Desactivado"}]}}},60173:(t,a,o)=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}o.d(a,{A:()=>s});const s={resetObject:function(t){for(var a in t)"string"==typeof t[a]?t[a]="":"number"==typeof t[a]?t[a]=0:void 0===e(t[a])?t[a]=null:"object"===e(t[a])&&(t[a]={})},getCRUD:function(t){var a=new FormData;a.append("ruta",t),a.append("identificador",1);var o={Create:!1,Read:!1,Update:!1,Delete:!1,Download:!1,Upload:!1};return axios.post("/CRUD",a).then((function(t){for(var a=0;a<t.data.length;a++)1==t.data[a].control_id&&(o.Create=!0),2==t.data[a].control_id&&(o.Read=!0),3==t.data[a].control_id&&(o.Update=!0),4==t.data[a].control_id&&(o.Delete=!0),5==t.data[a].control_id&&(o.Download=!0),6==t.data[a].control_id&&(o.Upload=!0)})).catch((function(t){console.log(t)})),o}}},26475:(t,a,o)=>{"use strict";o.d(a,{A:()=>r});var e=o(76798),s=o.n(e)()((function(t){return t[1]}));s.push([t.id,".btn-uno{background-color:#f6a152;border-color:#f6a152;border-radius:2px;color:#fff}.btn-dos{background-color:#e9b443;border-color:#e9b443;border-radius:2px;color:#000}.btn-tres{background-color:#8bbbef;border-color:#8bbbef;border-radius:2px;color:#000}.btn-cuatro{background-color:#40d0d0;border-color:#40d0d0;border-radius:2px;color:#fff}.btn-cinco{background-color:#0d4da3;border-color:#0d4da3;border-radius:2px;color:#fff}.btn-seis{background-color:#0d98a3;border-color:#0d98a3;border-radius:2px;color:#fff}.btn-siete{background-color:#25a30d;border-color:#25a30d;border-radius:2px;color:#fff}.btn-ocho{background-color:#d04040;border-color:#d04040;border-radius:2px;color:#fff}.btn-nueve{background-color:#40d088;border-color:#40d088;border-radius:2px;color:#000}",""]);const r=s},19485:(t,a,o)=>{"use strict";o.d(a,{A:()=>r});var e=o(76798),s=o.n(e)()((function(t){return t[1]}));s.push([t.id,".table-scroll{overflow-x:scroll;overflow-y:visible;padding-bottom:5px;scroll-behavior:smooth;scroll-snap-type:x mandatory}.item{scroll-snap-align:start;width:12rem}.header-modulo{font-weight:700;text-align:center}",""]);const r=s},329:(t,a,o)=>{"use strict";o.r(a),o.d(a,{default:()=>r});o(60173);var e=o(14941).call(void 0);const s={data:function(){return{fecha:"",isLoading:!1,columns:["f","o.u","o.m","o.id","o.c","o.o","o.n"],tableData:[],options:{headings:{f:"Fecha","o.u":"Usuario","o.m":"Modelo","o.id":"PK","o.c":"Campo","o.o":"Original","o.n":"Nuevo"},perPage:10,perPageValues:[],skin:e.skin,sortIcon:e.sortIcon,sortable:["o.u","o.u","o.c","o.m"],filterable:["o.u","o.u","o.c","o.m","o.id"],filterByColumn:!0,texts:e.texts}}},computed:{},methods:{getData:function(){var t=this;axios.get("/auditoria").then((function(a){t.tableData=a.data})).catch((function(t){console.log(t)}))},buscar:function(){var t=this;this.$validator.validate().then((function(a){if(a){t.isLoading=!0;var o=t;axios.post("/auditoria",{fecha:o.fecha}).then((function(t){o.tableData=t.data,o.isLoading=!1})).catch((function(t){console.log(t)}))}}))}},mounted:function(){this.$root.limpiarDashboard()}};const r=(0,o(14486).A)(s,(function(){var t=this,a=t._self._c;return a("main",{staticClass:"main"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"card"},[t._m(0),t._v(" "),a("div",{staticClass:"card-body"},[a("vue-element-loading",{attrs:{active:t.isLoading}}),t._v(" "),a("div",{staticClass:"form-group row"},[a("div",{staticClass:"col-md-6 col-sm-12"},[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.fecha,expression:"fecha"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{id:"fecha",name:"fecha",placeholder:"Fecha",type:"date"},domProps:{value:t.fecha},on:{input:function(a){a.target.composing||(t.fecha=a.target.value)}}}),t._v(" "),a("span",{staticClass:"input-group-append"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(a){return t.buscar()}}},[t._v("Buscar")])])]),t._v(" "),a("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("fecha")))])])]),t._v(" "),a("v-client-table",{ref:"myTable",attrs:{columns:t.columns,data:t.tableData,options:t.options}})],1)])])])}),[function(){var t=this._self._c;return t("div",{staticClass:"card-header"},[t("i",{staticClass:"fa fa-align-justify"}),this._v(" Auditoria\n            ")])}],!1,null,null,null).exports},96997:(t,a,o)=>{"use strict";o.r(a),o.d(a,{default:()=>c});o(60173);var e=o(14941).call(void 0);const s={data:function(){return{url:"calidad/servicios",list_proyectos:[],proyecto:{},list_requis:[],isdatosLoading:!1,isGuardarLoading:!1,columns_requis:["id","folio","fecha_solicitud","descripcion_uso","estado_id"],options_requis:{headings:{id:"Acciones",fecha_solicitud:"Fecha sol.",descripcion_uso:"Descripción",folio:"Folio",estado_id:"Estado"},perPage:10,perPageValues:[],skin:e.skin,sortIcon:e.sortIcon,filterByColumn:!0,texts:e.texts},servicio_id:0,titulo_modal_servicios:"",tipoAccion_modal_servicios:0,servicios_modal:{}}},computed:{},methods:{CargarProyectos:function(){var t=this;axios.get("/generales/proyectos/1").then((function(a){t.list_proyectos=a.data.proyectos})).catch((function(t){console.error(t)}))},CambiarEstado:function(t){var a=this;axios.put("/cambiarestadorequi",{id:t.id,estado_id:0}).then((function(t){t.data.status?(toastr.success("Requisición actualizada"),a.Buscar()):toastr.error("Error")}))},Buscar:function(){var t=this;null!=this.proyecto&&null!=this.proyecto.id&&axios.get("/requisicion/"+this.proyecto.id).then((function(a){t.list_requis=[],a.data.forEach((function(a){t.list_requis.push(a.r)}))}))}},mounted:function(){this.CargarProyectos()}};var r=o(85072),i=o.n(r),n=o(26475),l={insert:"head",singleton:!1};i()(n.A,l);n.A.locals;const c=(0,o(14486).A)(s,(function(){var t=this,a=t._self._c;return a("div",{staticClass:"main"},[a("div",{staticClass:"card"},[t._m(0),t._v(" "),a("div",{staticClass:"card-body"},[a("div",{},[a("div",{},[a("div",{staticClass:"form-row"},[a("label",{staticClass:"col-md-2 form-control-label"},[t._v("Proyecto")]),t._v(" "),a("div",{staticClass:"col-md-4"},[a("v-select",{attrs:{options:t.list_proyectos,label:"nombre_corto"},model:{value:t.proyecto,callback:function(a){t.proyecto=a},expression:"proyecto"}})],1),t._v(" "),a("button",{staticClass:"col-md-1 btn btn-sm btn-dark",on:{click:t.Buscar}},[t._v("Buscar")])]),t._v(" "),a("br"),t._v(" "),a("br"),t._v(" "),a("vue-element-loading",{attrs:{active:t.isdatosLoading}}),t._v(" "),a("v-client-table",{attrs:{columns:t.columns_requis,data:t.list_requis,options:t.options_requis},scopedSlots:t._u([{key:"id",fn:function(o){return[a("div",{staticClass:"btn-group",attrs:{role:"group"}},[a("button",{staticClass:"btn btn-outline-dark dropdown-toggle",attrs:{id:"btn_nombre",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[a("i",{staticClass:"fas fa-grip-horizontal"}),t._v("  Acciones\n                                ")]),t._v(" "),a("div",{staticClass:"dropdown-menu"},[[a("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(a){return t.CambiarEstado(o.row)}}},[a("i",{staticClass:"fas fa-rotate-left"}),t._v(" Regresar\n                                        ")])]],2)])]}},{key:"estado_id",fn:function(o){return[0==o.row.estado_id?[a("button",{staticClass:"btn btn-uno",attrs:{type:"button"}},[a("i",{staticClass:"fas fa-plus"}),t._v(" Nuevo")])]:t._e(),t._v(" "),1==o.row.estado_id?[a("button",{staticClass:"btn btn-dos",attrs:{type:"button"}},[a("i",{staticClass:"fa fa-exclamation-circle"}),t._v(" En espera de validación por")])]:t._e(),t._v(" "),2==o.row.estado_id?[a("button",{staticClass:"btn btn-tres",attrs:{type:"button"}},[a("i",{staticClass:"fa fa-exclamation-triangle"}),t._v(" En espera de autorización")])]:t._e(),t._v(" "),3==o.row.estado_id?[a("button",{staticClass:"btn btn-cuatro",attrs:{type:"button"}},[a("i",{staticClass:"fa fa-check-circle"}),t._v(" En revisión por almacén")])]:t._e(),t._v(" "),5==o.row.estado_id?[a("button",{staticClass:"btn btn-nueve",attrs:{type:"button"}},[a("i",{staticClass:"fa fa-check-circle"}),t._v(" Autorizado por compras")])]:t._e(),t._v(" "),4==o.row.estado_id?[a("button",{staticClass:"btn btn-ocho",attrs:{type:"button"}},[a("i",{staticClass:"fa fa-times"}),t._v(" No autorizado")])]:t._e(),t._v(" "),6==o.row.estado_id?[a("button",{staticClass:"btn btn-siete",attrs:{type:"button"}},[a("i",{staticClass:"fa fa-caret-square-o-left"}),t._v(" Espera autorización compras")])]:t._e(),t._v(" "),7==o.row.estado_id?[a("button",{staticClass:"btn btn-seis",attrs:{type:"button"}},[a("i",{staticClass:"fa fa-caret-square-o-left"}),t._v(" Por Equivalente")])]:t._e(),t._v(" "),8==o.row.estado_id?[a("button",{staticClass:"btn btn-cinco",attrs:{type:"button"}},[a("i",{staticClass:"fa fa-caret-square-o-left"}),t._v(" En Espera (Calidad)")])]:t._e()]}}])})],1)])])])])}),[function(){var t=this._self._c;return t("div",{staticClass:"card-header"},[t("i",{staticClass:"fa fa-align-justify"}),this._v(" Cambiar estado de requisición\n        ")])}],!1,null,null,null).exports},8381:(t,a,o)=>{"use strict";o.r(a),o.d(a,{default:()=>i});var e=o(60173),s=o(14941).call(void 0);const r={data:function(){return{url:"sistema/consultas",sql:"",ver_error:!1,result_ok:!1,PermisosCRUD:{},consulta:{sql:"",error:""},list_data:[],headers:[],options_registros:{perPage:20,perPageValues:[],skin:s.skin,sortIcon:s.sortIcon,filterByColumn:!0,texts:s.texts}}},computed:{},methods:{BuscarSQL:function(){var t=this;this.list_data=[],this.ver_error=!1,this.consulta.error="",axios.post(this.url+"/sql",{sql:this.consulta.sql}).then((function(a){if(a.data.status){var o=a.data.result;if(0==o.count)return void toastr.warning("Sin resultados");t.result_ok=!0,t.list_data=o.data,t.headers=o.headers}else t.result_ok=!1,t.ver_error=!0,toastr.error("Error al realizar la consulta"),t.consulta.error=a.data.mensaje}))},LimpiarSQL:function(){this.consulta={},this.list_data=[],this.ver_error=!1,this.result_ok=!1},OnEnter:function(t){t.ctrlKey&&this.BuscarSQL()}},mounted:function(){this.PermisosCRUD=e.A.getCRUD(this.$route.path)}};const i=(0,o(14486).A)(r,(function(){var t=this,a=t._self._c;return a("main",{staticClass:"main"},[a("div",[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("i",{staticClass:"fa fa-align-justify"}),t._v(" Consultas\n                "),a("p",[t._v(" ")]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.consulta.sql,expression:"consulta.sql"}],staticClass:"form-control",attrs:{rows:"4"},domProps:{value:t.consulta.sql},on:{keydown:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.OnEnter.apply(null,arguments)},input:function(a){a.target.composing||t.$set(t.consulta,"sql",a.target.value)}}})]),t._v(" "),a("div",{staticClass:"col-6"},[a("button",{directives:[{name:"show",rawName:"v-show",value:t.PermisosCRUD.Create,expression:"PermisosCRUD.Create"}],staticClass:"btn btn-secondary mt-2",on:{click:t.BuscarSQL}},[a("i",{staticClass:"fas fa-search mr-1"}),t._v(" Buscar\n                        ")]),t._v(" "),a("button",{directives:[{name:"show",rawName:"v-show",value:t.PermisosCRUD.Delete,expression:"PermisosCRUD.Delete"}],staticClass:"btn btn-dark mt-2",on:{click:t.LimpiarSQL}},[a("i",{staticClass:"fas fa-trash mr-1"}),t._v("Limpiar\n                        ")])])]),t._v(" "),a("br"),t._v(" "),a("div",{staticClass:"row"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.ver_error,expression:"ver_error"}],staticClass:"col-md-12"},[t._v("\n                        Error\n                        "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.consulta.error,expression:"consulta.error"}],staticClass:"form-control text-danger",attrs:{minlength:"5",rows:"4",placeholder:"SELECT * FROM ..."},domProps:{value:t.consulta.error},on:{input:function(a){a.target.composing||t.$set(t.consulta,"error",a.target.value)}}})])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.ver_error&&t.result_ok,expression:"!ver_error && result_ok"}]},[a("v-client-table",{attrs:{columns:t.headers,data:t.list_data,options:t.options_registros}})],1),t._v(" "),a("br")])])])])}),[],!1,null,null,null).exports},24748:(t,a,o)=>{"use strict";o.r(a),o.d(a,{default:()=>i});var e=o(60173),s=o(14941).call(void 0);const r={data:function(){return{url:"/CRUD",PermisosCRUD:{},controles:{id:0,nombre:""},modal:0,tituloModal:"",tipoAccion:0,isLoading:!1,columns:["id","nombre"],tableData:[],options:{headings:{nombre:"Nombre del Control",id:"Acción"},perPage:10,perPageValues:[],skin:s.skin,sortIcon:s.sortIcon,sortable:["nombre"],filterable:["nombre"],filterByColumn:!0,texts:s.texts}}},computed:{},methods:{getData:function(){this.PermisosCRUD=e.A.getCRUD(this.$route.path);var t=this;axios.get(t.url).then((function(a){t.tableData=a.data})).catch((function(t){console.log(t)}))},guardarAccesorio:function(t){var a=this;this.$validator.validate().then((function(o){if(o){a.isLoading=!0;var e=a;axios({method:t?"POST":"PUT",url:t?e.url:e.url+"/"+a.id,data:{identificador:2,nombre:a.controles.nombre,id:a.controles.id}}).then((function(a){e.isLoading=!1,a.data.status?(e.cerrarModal(),e.getData(),t?toastr.success("Control registrado correctamente"):toastr.success("Control actualizado correctamente")):swal({type:"error",html:a.data.errors.join("<br>")})})).catch((function(t){console.log(t)}))}}))},cerrarModal:function(){this.modal=0,this.tituloModal="",e.A.resetObject(this.controles)},abrirModal:function(t,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if("controles"===t)switch(a){case"registrar":this.modal=1,this.tituloModal="Registrar Control",e.A.resetObject(this.controles),this.tipoAccion=1;break;case"actualizar":this.modal=1,this.tituloModal="Actualizar Control",this.tipoAccion=2,this.controles.id=o.id,this.controles.nombre=o.nombre}}},mounted:function(){this.getData(),this.$root.limpiarDashboard()}};const i=(0,o(14486).A)(r,(function(){var t=this,a=t._self._c;return a("main",{staticClass:"main"},[a("div",{staticClass:"container-fluid"},[a("br"),t._v(" "),a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("i",{staticClass:"fa fa-align-justify"}),t._v(" Controles del Sistema\n                "),a("button",{directives:[{name:"show",rawName:"v-show",value:t.PermisosCRUD.Create,expression:"PermisosCRUD.Create"}],staticClass:"btn btn-secondary float-sm-right",attrs:{type:"button"},on:{click:function(a){return t.abrirModal("controles","registrar")}}},[a("i",{staticClass:"icon-plus"}),t._v(" Nuevo\n                ")])]),t._v(" "),a("div",{staticClass:"card-body"},[a("v-client-table",{ref:"myTable",attrs:{columns:t.columns,data:t.tableData,options:t.options},scopedSlots:t._u([{key:"id",fn:function(o){return[a("button",{directives:[{name:"show",rawName:"v-show",value:t.PermisosCRUD.Update,expression:"PermisosCRUD.Update"}],staticClass:"btn btn-warning btn-sm",attrs:{type:"button"},on:{click:function(a){return t.abrirModal("controles","actualizar",o.row)}}},[a("i",{staticClass:"icon-pencil"})])]}}])})],1)])]),t._v(" "),a("div",{staticClass:"modal fade",class:{mostrar:t.modal},staticStyle:{display:"none"},attrs:{tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-primary modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",[a("vue-element-loading",{attrs:{active:t.isLoading}}),t._v(" "),a("div",{staticClass:"modal-header"},[a("h4",{staticClass:"modal-title",domProps:{textContent:t._s(t.tituloModal)}}),t._v(" "),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(a){return t.cerrarModal()}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),t._v(" "),a("div",{staticClass:"modal-body"},[a("input",{attrs:{type:"hidden",name:"id"}}),t._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-3 form-control-label",attrs:{for:"nombre"}},[t._v("Nombre")]),t._v(" "),a("div",{staticClass:"col-md-9"},[a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.controles.nombre,expression:"controles.nombre"}],staticClass:"form-control",attrs:{type:"text",name:"nombre",placeholder:"Tipo de controles",autocomplete:"off",id:"nombre"},domProps:{value:t.controles.nombre},on:{input:function(a){a.target.composing||t.$set(t.controles,"nombre",a.target.value)}}}),t._v(" "),a("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("nombre")))])])])]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(a){return t.cerrarModal()}}},[t._v("Cerrar")]),t._v(" "),1==t.tipoAccion?a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(a){return t.guardarAccesorio(1)}}},[t._v("Guardar")]):t._e(),t._v(" "),2==t.tipoAccion?a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(a){return t.guardarAccesorio(0)}}},[t._v("Actualizar")]):t._e()])],1)])])])])}),[],!1,null,null,null).exports},28200:(t,a,o)=>{"use strict";o.r(a),o.d(a,{default:()=>i});var e=o(60173),s=o(14941).call(void 0);const r={data:function(){return{elemento:{id:0,modulo_id:0,nombre:""},listaModulos:[],modal:0,tituloModal:"",tipoAccion:0,isLoading:!1,columns:["id","nombre","modulo"],tableData:[],options:{headings:{nombre:"Nombre",modulo:"Modulo",condicion:"Estado",id:"Acciones"},perPage:10,perPageValues:[],skin:s.skin,sortIcon:s.sortIcon,sortable:["nombre","modulo"],filterable:["nombre","modulo"],filterByColumn:!0,texts:s.texts}}},computed:{},methods:{getData:function(){var t=this;axios.get("/elementosdashboard").then((function(a){t.tableData=a.data})).catch((function(t){console.log(t)}))},getListaModulos:function(){var t=this;axios.get("/ModulosSistema").then((function(a){t.listaModulos=a.data})).catch((function(t){console.log(t)}))},guardarElemento:function(t){var a=this;this.$validator.validate().then((function(o){if(o){a.isLoading=!0;var e=a;axios({method:t?"POST":"PUT",url:t?"/elementosdashboard/registrar":"/elementosdashboard/actualizar",data:{nombre:a.elemento.nombre,modulo_id:a.elemento.modulo_id,id:a.elemento.id}}).then((function(a){e.isLoading=!1,a.data.status?(e.cerrarModal(),e.getData(),t?toastr.success("Elemento Registrado Correctamente"):toastr.success("Elemento Actualizado Correctamente")):swal({type:"error",html:a.data.errors.join("<br>")})})).catch((function(t){console.log(t)}))}}))},eliminar:function(t){var a=this;swal({title:"Esta seguro de eliminar este Elemento?",type:"warning",showCancelButton:!0,confirmButtonColor:"#4dbd74",cancelButtonColor:"#f86c6b",confirmButtonText:"Aceptar!",cancelButtonText:"Cancelar",reverseButtons:!0}).then((function(o){if(o.value){var e=a;axios.put("/elementosdashboard/eliminar",{id:t}).then((function(t){toastr.error("Elemento Desactivado Correctamente"),e.getData()})).catch((function(t){console.log(t)}))}}))},cerrarModal:function(){this.modal=0,this.tituloModal="",e.A.resetObject(this.elemento)},abrirModal:function(t,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if("elemento"===t)switch(a){case"registrar":this.modal=1,this.tituloModal="Registrar elemento",e.A.resetObject(this.elemento),this.tipoAccion=1;break;case"actualizar":this.modal=1,this.tituloModal="Actualizar elemento",this.tipoAccion=2,this.elemento.id=o.id,this.elemento.modulo_id=o.modulo_id,this.elemento.nombre=o.nombre}}},mounted:function(){this.getData(),this.getListaModulos()}};const i=(0,o(14486).A)(r,(function(){var t=this,a=t._self._c;return a("main",{staticClass:"main"},[a("div",{staticClass:"container-fluid"},[a("br"),t._v(" "),a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("i",{staticClass:"fa fa-align-justify"}),t._v(" Elementos Dashboard\n                "),a("button",{staticClass:"btn btn-dark float-sm-right",attrs:{type:"button"},on:{click:function(a){return t.abrirModal("elemento","registrar")}}},[a("i",{staticClass:"fas fa-plus"}),t._v(" Nuevo\n                ")])]),t._v(" "),a("div",{staticClass:"card-body"},[a("v-client-table",{ref:"myTable",attrs:{columns:t.columns,data:t.tableData,options:t.options},scopedSlots:t._u([{key:"id",fn:function(o){return[a("div",{staticClass:"btn-group",attrs:{role:"group","aria-label":"Button group with nested dropdown"}},[a("div",{staticClass:"btn-group dropup",attrs:{role:"group"}},[a("button",{staticClass:"btn btn-outline-dark dropdown-toggle",attrs:{id:"btnGroupDrop1",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[a("i",{staticClass:"fas fa-grip-horizontal"}),t._v("  Acciones\n                    ")]),t._v(" "),a("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"btnGroupDrop1"}},[[a("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(a){return t.abrirModal("elemento","actualizar",o.row)}}},[a("i",{staticClass:"icon-pencil"}),t._v("  Actualizar Elemento Dashboard\n                        ")])],t._v(" "),[a("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(a){return t.eliminar(o.row.id)}}},[a("i",{staticClass:"icon-trash"}),t._v("  Eliminar Elemento Dashboard\n                        ")])]],2)])])]}}])})],1)])]),t._v(" "),a("div",{staticClass:"modal fade",class:{mostrar:t.modal},staticStyle:{display:"none"},attrs:{tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel","aria-hidden":"true"}},[a("vue-element-loading",{attrs:{active:t.isLoading}}),t._v(" "),a("div",{staticClass:"modal-dialog modal-dark modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",[a("div",{staticClass:"modal-header"},[a("h4",{staticClass:"modal-title",domProps:{textContent:t._s(t.tituloModal)}}),t._v(" "),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(a){return t.cerrarModal()}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),t._v(" "),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-3 form-control-label",attrs:{for:"nombre"}},[t._v("Nombre")]),t._v(" "),a("div",{staticClass:"col-md-9"},[a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.elemento.nombre,expression:"elemento.nombre"}],staticClass:"form-control",attrs:{type:"text",name:"nombre",placeholder:"Nombre del elemento",autocomplete:"off",id:"nombre"},domProps:{value:t.elemento.nombre},on:{input:function(a){a.target.composing||t.$set(t.elemento,"nombre",a.target.value)}}}),t._v(" "),a("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("nombre")))])])]),t._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-3 form-control-label",attrs:{for:"modulo_id"}},[t._v("Modulo")]),t._v(" "),a("div",{staticClass:"col-md-9"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.elemento.modulo_id,expression:"elemento.modulo_id"},{name:"validate",rawName:"v-validate",value:"excluded:0",expression:"'excluded:0'"}],staticClass:"form-control",attrs:{id:"modulo_id",name:"modulo_id","data-vv-as":"Modulo"},on:{change:function(a){var o=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.elemento,"modulo_id",a.target.multiple?o:o[0])}}},t._l(t.listaModulos,(function(o){return a("option",{key:o.id,domProps:{value:o.id}},[t._v(t._s(o.nombre))])})),0),t._v(" "),a("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("modulo_id")))])])])]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-outline-dark",attrs:{type:"button"},on:{click:function(a){return t.cerrarModal()}}},[a("i",{staticClass:"fas fa-times"}),t._v(" Cerrar")]),t._v(" "),1==t.tipoAccion?a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(a){return t.guardarElemento(1)}}},[a("i",{staticClass:"fas fa-save"}),t._v(" Guardar")]):t._e(),t._v(" "),2==t.tipoAccion?a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(a){return t.guardarElemento(0)}}},[a("i",{staticClass:"fas fa-save"}),t._v(" Actualizar")]):t._e()])])])])],1)])}),[],!1,null,null,null).exports},32654:(t,a,o)=>{"use strict";o.r(a),o.d(a,{default:()=>i});var e=o(60173),s=o(14941).call(void 0);const r={data:function(){return{modalMenu:0,tituloModalMenu:"",tipoAccionMenu:0,modalSubmenu:0,tituloModalSubmenu:"",tipoAccionSubmenu:0,listaMenus:[],menu:{id:0,clase:"",name:"",page:"",modulo_id:0},submenu:{id:0,clase:"",name:"",submenu:"",page:"",elementos_menu_id:0},modulo:0,listaModulos:[],isLoading:!1,isLoadingMenu:!1,isLoadingSubmenu:!1,columns:["id","clase","name","submenu","page"],tableData:[],options:{headings:{id:"Acciones",clase:"Clase",name:"Menu",submenu:"Submenu",page:"Página"},perPage:10,perPageValues:[],skin:s.skin,sortIcon:s.sortIcon,filterByColumn:!0,texts:s.texts}}},methods:{getData:function(){var t=this;this.isLoading=!0,axios.get("/ModulosSistema").then((function(a){t.listaModulos=a.data,t.isLoading=!1})).catch((function(t){console.log(t)}))},buscar:function(){var t=this;this.isLoading=!0,axios.get("/elementospormodulo/"+this.modulo).then((function(a){t.tableData=a.data,t.isLoading=!1})).catch((function(t){console.log(t)}))},eliminar:function(t){var a=this;swal({title:t.es_menu?"¿Esta seguro de eliminar el Menu ?":"¿Esta seguro de eliminar el Submenu?",type:"warning",showCancelButton:!0,confirmButtonColor:"#4dbd74",cancelButtonColor:"#f86c6b",confirmButtonText:"Aceptar!",cancelButtonText:"Cancelar",reverseButtons:!0}).then((function(o){if(o.value){var e=a;e.isLoading=!0,axios.put(t.es_menu?"/eliminarmenu":"/eliminarsubmenu",{id:t.id}).then((function(a){e.isLoading=!1,e.buscar(),t.es_menu?toastr.success("Menu eliminado correctamente"):toastr.success("SubMenu eliminado correctamente")})).catch((function(t){console.log(t)}))}}))},cerrarModalMenu:function(){this.modalMenu=0,this.tituloModalMenu="",e.A.resetObject(this.menu)},cerrarModalSubmenu:function(){this.modalSubmenu=0,this.tituloModalSubmenu="",e.A.resetObject(this.submenu)},abrirModal:function(t,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];switch(t){case"menu":switch(a){case"registrar":this.modalMenu=1,this.tituloModalMenu="Registrar menu",e.A.resetObject(this.menu),this.tipoAccionMenu=1;break;case"actualizar":this.modalMenu=1,this.tituloModalMenu="Actualizar menu",this.tipoAccionMenu=2,this.menu.id=o.id,this.menu.clase=o.clase,this.menu.name=o.name,this.menu.page=o.page,this.menu.modulo_id=o.modulo_id}break;case"submenu":switch(a){case"registrar":var s=this;this.modalSubmenu=1,this.isLoadingSubmenu=!0,axios.get("/elementosmenupormodulo/"+this.modulo).then((function(t){s.listaMenus=t.data,s.isLoadingSubmenu=!1,s.tituloModalSubmenu="Registrar submenu",e.A.resetObject(s.submenu),s.tipoAccionSubmenu=1})).catch((function(t){console.log(t)}));break;case"actualizar":var r=this;this.modalSubmenu=1,this.isLoadingSubmenu=!0,axios.get("/elementosmenupormodulo/"+this.modulo).then((function(t){r.listaMenus=t.data,r.isLoadingSubmenu=!1,r.tituloModalSubmenu="Actualizar submenu",r.tipoAccionSubmenu=2,r.submenu.id=o.id,r.submenu.clase=o.clase,r.submenu.name=o.name,r.submenu.page=o.page,r.submenu.submenu=o.submenu,r.submenu.elementos_menu_id=o.elementos_menu_id})).catch((function(t){console.log(t)}))}}},guardarMenu:function(t){var a=this;this.$validator.validateAll("form-menu").then((function(o){if(o){a.isLoadingMenu=!0;var e=a;axios({method:t?"POST":"PUT",url:t?"/agregarmenu":"/actualizarmenu",data:{clase:a.menu.clase,page:a.menu.page,name:a.menu.name,id:a.menu.id,modulo_id:a.modulo}}).then((function(a){e.isLoadingMenu=!1,a.data.status?(e.cerrarModalMenu(),e.buscar(),t?toastr.success("Menu Registrado Correctamente"):toastr.success("Menu Actualizado Correctamente")):swal({type:"error",html:a.data.errors.join("<br>")})})).catch((function(t){console.log(t)}))}}))},guardarSubmenu:function(t){var a=this;this.$validator.validateAll("form-submenu").then((function(o){if(o){a.isLoadingSubmenu=!0;var e=a;axios({method:t?"POST":"PUT",url:t?"/agregarsubmenu":"/actualizarsubmenu",data:{clase:a.submenu.clase,page:a.submenu.page,name:$("#submenu_menu option:selected").text(),submenu:a.submenu.submenu,id:a.submenu.id,elementos_menu_id:a.submenu.elementos_menu_id}}).then((function(a){e.isLoadingSubmenu=!1,a.data.status?(e.cerrarModalSubmenu(),e.buscar(),t?toastr.success("Submenu Registrado Correctamente"):toastr.success("Submenu Actualizado Correctamente")):swal({type:"error",html:a.data.errors.join("<br>")})})).catch((function(t){console.log(t)}))}}))},Desactivar:function(t){var a=this;axios.put("sistema/desactivarmenu",{id:t.id,t:t.es_menu?1:2}).then((function(t){a.isLoading=!1,a.buscar()}))}},mounted:function(){this.getData()}};const i=(0,o(14486).A)(r,(function(){var t=this,a=t._self._c;return a("main",{staticClass:"main"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("i",{staticClass:"fa fa-align-justify"}),t._v(" Elementos Menu y Submenu\n                "),a("button",{staticClass:"btn btn-dark float-sm-right",attrs:{type:"button",disabled:0==t.modulo},on:{click:function(a){return t.abrirModal("submenu","registrar")}}},[a("i",{staticClass:"fas fa-plus"}),t._v(" Submenu\n                ")]),t._v(" "),a("button",{staticClass:"btn btn-dark float-sm-right",attrs:{type:"button",disabled:0==t.modulo},on:{click:function(a){return t.abrirModal("menu","registrar")}}},[a("i",{staticClass:"fas fa-plus"}),t._v(" Menu\n                ")])]),t._v(" "),a("div",{staticClass:"card-body"},[a("vue-element-loading",{attrs:{active:t.isLoading}}),t._v(" "),a("div",{staticClass:"form-group row"},[t._m(0),t._v(" "),a("div",{staticClass:"col-md-8 col-sm-8"},[a("div",{staticClass:"input-group"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.modulo,expression:"modulo"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{id:"modulo",name:"modulo",placeholder:"Modulo"},on:{change:function(a){var o=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.modulo=a.target.multiple?o:o[0]}}},t._l(t.listaModulos,(function(o){return a("option",{key:o.id,domProps:{value:o.id}},[t._v(t._s(o.nombre))])})),0)]),t._v(" "),a("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("modulo")))])]),t._v(" "),a("div",{staticClass:"col-md-2 col-sm-2"},[a("button",{staticClass:"btn btn-dark",attrs:{type:"button"},on:{click:function(a){return t.buscar()}}},[a("i",{staticClass:"fas fa-search"}),t._v("  Buscar")])])]),t._v(" "),a("v-client-table",{ref:"myTable",attrs:{columns:t.columns,data:t.tableData,options:t.options},scopedSlots:t._u([{key:"id",fn:function(o){return[a("div",{staticClass:"btn-group",attrs:{role:"group","aria-label":"Button group with nested dropdown"}},[a("div",{staticClass:"btn-group dropup",attrs:{role:"group"}},[a("button",{staticClass:"btn btn-outline-dark dropdown-toggle",attrs:{id:"btnGroupDrop1",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[a("i",{staticClass:"fas fa-grip-horizontal"}),t._v("  Acciones\n                                ")]),t._v(" "),a("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"btnGroupDrop1"}},[[a("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(a){t.abrirModal(o.row.es_menu?"menu":"submenu","actualizar",o.row)}}},[a("i",{staticClass:"icon-pencil"}),t._v(" Actualizar\n                                        ")])],t._v(" "),[a("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(a){return t.eliminar(o.row)}}},[a("i",{staticClass:"icon-trash"}),t._v(" Eliminar\n                                        ")]),t._v(" "),a("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(a){return t.Desactivar(o.row)}}},[a("i",{staticClass:"fas fa-ban"}),t._v(" Desactivar\n                                        ")])]],2)])])]}},{key:"clase",fn:function(t){return[a("i",{class:t.row.clase})]}}])})],1)])]),t._v(" "),a("div",{staticClass:"modal fade",class:{mostrar:t.modalMenu},staticStyle:{display:"none"},attrs:{tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel","aria-hidden":"true"}},[a("vue-element-loading",{attrs:{active:t.isLoadingMenu}}),t._v(" "),a("div",{staticClass:"modal-dialog modal-dark modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",[a("div",{staticClass:"modal-header"},[a("h4",{staticClass:"modal-title",domProps:{textContent:t._s(t.tituloModalMenu)}}),t._v(" "),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(a){return t.cerrarModalMenu()}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),t._v(" "),a("div",{staticClass:"modal-body"},[a("form",{staticClass:"form-horizontal",attrs:{action:"",method:"post",enctype:"multipart/form-data","data-vv-scope":"form-menu"}},[a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-3 form-control-label",attrs:{for:"menu_name"}},[t._v("Nombre")]),t._v(" "),a("div",{staticClass:"col-md-9"},[a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.menu.name,expression:"menu.name"}],staticClass:"form-control",attrs:{type:"text",name:"menu_name",placeholder:"Nombre",autocomplete:"off",id:"menu_name","data-vv-as":"Nombre",maxlength:"50"},domProps:{value:t.menu.name},on:{input:function(a){a.target.composing||t.$set(t.menu,"name",a.target.value)}}}),t._v(" "),a("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("form-menu.menu_name")))])])]),t._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-3 form-control-label",attrs:{for:"menu_page"}},[t._v("Página")]),t._v(" "),a("div",{staticClass:"col-md-9"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.menu.page,expression:"menu.page"}],staticClass:"form-control",attrs:{type:"text",name:"menu_page",placeholder:"Página",autocomplete:"off",id:"menu_page","data-vv-as":"Página",maxlength:"50"},domProps:{value:t.menu.page},on:{input:function(a){a.target.composing||t.$set(t.menu,"page",a.target.value)}}}),t._v(" "),a("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("form-menu.menu_page")))])])]),t._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-3 form-control-label",attrs:{for:"menu_clase"}},[t._v("Clase")]),t._v(" "),a("div",{staticClass:"col-md-9"},[a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.menu.clase,expression:"menu.clase"}],staticClass:"form-control",attrs:{type:"text",name:"menu_clase",placeholder:"Clase",autocomplete:"off",id:"menu_clase","data-vv-as":"Clase",maxlength:"50"},domProps:{value:t.menu.clase},on:{input:function(a){a.target.composing||t.$set(t.menu,"clase",a.target.value)}}}),t._v(" "),a("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("form-menu.menu_clase")))])])])])]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-outline-dark",attrs:{type:"button"},on:{click:function(a){return t.cerrarModalMenu()}}},[a("i",{staticClass:"fas fa-times"}),t._v(" Cerrar")]),t._v(" "),1==t.tipoAccionMenu?a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(a){return t.guardarMenu(1)}}},[a("i",{staticClass:"fas fa-save"}),t._v(" Guardar")]):t._e(),t._v(" "),2==t.tipoAccionMenu?a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(a){return t.guardarMenu(0)}}},[a("i",{staticClass:"fas fa-save"}),t._v(" Actualizar")]):t._e()])])])])],1),t._v(" "),a("div",{staticClass:"modal fade",class:{mostrar:t.modalSubmenu},staticStyle:{display:"none"},attrs:{tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-dark modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",[a("vue-element-loading",{attrs:{active:t.isLoadingSubmenu}}),t._v(" "),a("div",{staticClass:"modal-header"},[a("h4",{staticClass:"modal-title",domProps:{textContent:t._s(t.tituloModalSubmenu)}}),t._v(" "),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(a){return t.cerrarModalSubmenu()}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),t._v(" "),a("div",{staticClass:"modal-body"},[a("form",{staticClass:"form-horizontal",attrs:{action:"",method:"post",enctype:"multipart/form-data","data-vv-scope":"form-submenu"}},[a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-3 form-control-label",attrs:{for:"submenu_submenu"}},[t._v("Submenu")]),t._v(" "),a("div",{staticClass:"col-md-9"},[a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.submenu.submenu,expression:"submenu.submenu"}],staticClass:"form-control",attrs:{type:"text",name:"submenu_submenu",placeholder:"Nombre",autocomplete:"off",id:"submenu_submenu","data-vv-as":"Submenu",maxlength:"100"},domProps:{value:t.submenu.submenu},on:{input:function(a){a.target.composing||t.$set(t.submenu,"submenu",a.target.value)}}}),t._v(" "),a("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("form-submenu.submenu_submenu")))])])]),t._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-3 form-control-label",attrs:{for:"submenu_page"}},[t._v("Página")]),t._v(" "),a("div",{staticClass:"col-md-9"},[a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.submenu.page,expression:"submenu.page"}],staticClass:"form-control",attrs:{type:"text",name:"submenu_page",placeholder:"Página",autocomplete:"off",id:"submenu_page","data-vv-as":"Página",maxlength:"100"},domProps:{value:t.submenu.page},on:{input:function(a){a.target.composing||t.$set(t.submenu,"page",a.target.value)}}}),t._v(" "),a("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("form-submenu.submenu_page")))])])]),t._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-3 form-control-label",attrs:{for:"submenu_clase"}},[t._v("Clase")]),t._v(" "),a("div",{staticClass:"col-md-9"},[a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.submenu.clase,expression:"submenu.clase"}],staticClass:"form-control",attrs:{type:"text",name:"submenu_clase",placeholder:"Clase",autocomplete:"off",id:"submenu_clase","data-vv-as":"Clase",maxlength:"100"},domProps:{value:t.submenu.clase},on:{input:function(a){a.target.composing||t.$set(t.submenu,"clase",a.target.value)}}}),t._v(" "),a("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("form-submenu.submenu_clase")))])])]),t._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-3 form-control-label",attrs:{for:"submenu_menu"}},[t._v("Menu")]),t._v(" "),a("div",{attrs:{clasS:"col-md-9"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.submenu.elementos_menu_id,expression:"submenu.elementos_menu_id"},{name:"validate",rawName:"v-validate",value:"excluded:0",expression:"'excluded:0'"}],staticClass:"form-control",attrs:{id:"submenu_menu",name:"submenu_modulo_id","data-vv-as":"Menu"},on:{change:function(a){var o=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.submenu,"elementos_menu_id",a.target.multiple?o:o[0])}}},t._l(t.listaMenus,(function(o){return a("option",{key:o.id,domProps:{value:o.id}},[t._v(t._s(o.name))])})),0),t._v(" "),a("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("form-submenu.submenu_modulo_id")))])])])])]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-outline-dark",attrs:{type:"button"},on:{click:function(a){return t.cerrarModalSubmenu()}}},[a("i",{staticClass:"fas fa-times"}),t._v(" Cerrar")]),t._v(" "),1==t.tipoAccionSubmenu?a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(a){return t.guardarSubmenu(1)}}},[a("i",{staticClass:"fas fa-save"}),t._v(" Guardar")]):t._e(),t._v(" "),2==t.tipoAccionSubmenu?a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(a){return t.guardarSubmenu(0)}}},[a("i",{staticClass:"fas fa-save"}),t._v(" Actualizar")]):t._e()])],1)])])])])}),[function(){var t=this._self._c;return t("div",{staticClass:"col-md-2 col-sm-2"},[t("label",{attrs:{for:"modulo"}},[this._v("Modulo")])])}],!1,null,null,null).exports},98921:(t,a,o)=>{"use strict";o.r(a),o.d(a,{default:()=>r});o(60173);var e=o(14941).call(void 0);const s={data:function(){return{fecha:"",isLoading:!1,columns:["f","o.user","o.mensaje","o.file","o.line"],tableData:[],options:{headings:{f:"Fecha","o.user":"Usuario","o.mensaje":"Mensaje","o.file":"Archivo","o.line":"Linea"},perPage:10,perPageValues:[],skin:e.skin,sortIcon:e.sortIcon,sortable:["f","o.user","o.mensaje","o.file","o.line"],filterable:["f","o.user","o.mensaje","o.file","o.line"],filterByColumn:!0,texts:e.texts}}},computed:{},methods:{getData:function(){var t=this;axios.get("/errors").then((function(a){t.tableData=a.data})).catch((function(t){console.log(t)}))},buscar:function(){var t=this;this.$validator.validate().then((function(a){if(a){t.isLoading=!0;var o=t;axios.post("/errors",{fecha:o.fecha}).then((function(t){o.tableData=t.data,o.isLoading=!1})).catch((function(t){console.log(t)}))}}))}},mounted:function(){this.$root.limpiarDashboard()}};const r=(0,o(14486).A)(s,(function(){var t=this,a=t._self._c;return a("main",{staticClass:"main"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"card"},[t._m(0),t._v(" "),a("div",{staticClass:"card-body"},[a("vue-element-loading",{attrs:{active:t.isLoading}}),t._v(" "),a("div",{staticClass:"form-group row"},[a("div",{staticClass:"col-md-3 col-sm-3"},[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.fecha,expression:"fecha"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{id:"fecha",name:"fecha",placeholder:"Fecha",type:"date"},domProps:{value:t.fecha},on:{input:function(a){a.target.composing||(t.fecha=a.target.value)}}}),t._v("\n                                 \n                            "),a("span",{staticClass:"input-group-append"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(a){return t.buscar()}}},[t._v(" Buscar")])])]),t._v(" "),a("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("fecha")))])])]),t._v(" "),a("v-client-table",{ref:"myTable",attrs:{columns:t.columns,data:t.tableData,options:t.options}})],1)])])])}),[function(){var t=this._self._c;return t("div",{staticClass:"card-header"},[t("i",{staticClass:"fa fa-align-justify"}),this._v(" Errores\n            ")])}],!1,null,null,null).exports},43927:(t,a,o)=>{"use strict";o.r(a),o.d(a,{default:()=>i});var e=o(60173),s=o(14941).call(void 0);const r={data:function(){return{folio:{id:0,proyecto_id:0,tipo_doc:"",consecutivo:1},listaProyectos:[],modal:0,tituloModal:"",tipoAccion:0,isLoading:!1,columns:["id","nombre_corto","tipo_doc","consecutivo"],tableData:[],options:{headings:{nombre_corto:"Proyecto",tipo_doc:"Tipo Doc.",consecutivo:"Consecutivo",id:"Acciones"},perPage:10,perPageValues:[],skin:s.skin,sortIcon:s.sortIcon,sortable:["nombre_corto","tipo_doc","consecutivo"],filterable:["nombre_corto","tipo_doc","consecutivo"],filterByColumn:!0,texts:s.texts}}},computed:{},methods:{getData:function(){var t=this;axios.get("/folio").then((function(a){t.tableData=a.data})).catch((function(t){console.log(t)}))},getListaProyectos:function(){var t=this;axios.get("/proyecto").then((function(a){t.listaProyectos=a.data})).catch((function(t){console.log(t)}))},guardarFolio:function(t){var a=this;this.$validator.validate().then((function(o){if(o){a.isLoading=!0;var e=a;axios({method:t?"POST":"PUT",url:t?"/folio/registrar":"/folio/actualizar",data:{proyecto_id:a.folio.proyecto_id,consecutivo:a.folio.consecutivo,tipo_doc:a.folio.tipo_doc,id:a.folio.id}}).then((function(a){e.isLoading=!1,a.data.status?(e.cerrarModal(),e.getData(),t?toastr.success("Folio Registrado Correctamente"):toastr.success("Folio Actualizado Correctamente")):swal({type:"error",html:a.data.errors.join("<br>")})})).catch((function(t){console.log(t)}))}}))},eliminar:function(t){var a=this;swal({title:"Esta seguro de eliminar este Folio?",type:"warning",showCancelButton:!0,confirmButtonColor:"#4dbd74",cancelButtonColor:"#f86c6b",confirmButtonText:"Aceptar!",cancelButtonText:"Cancelar",reverseButtons:!0}).then((function(o){if(o.value){var e=a;axios.put("/folio/eliminar",{id:t}).then((function(t){toastr.error("Folio Desactivado Correctamente"),e.getData()})).catch((function(t){console.log(t)}))}}))},cerrarModal:function(){this.modal=0,this.tituloModal="",e.A.resetObject(this.folio)},abrirModal:function(t,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if("folio"===t)switch(a){case"registrar":this.modal=1,this.tituloModal="Registrar folio",e.A.resetObject(this.folio),this.tipoAccion=1;break;case"actualizar":this.modal=1,this.tituloModal="Actualizar folio",this.tipoAccion=2,this.folio.id=o.id,this.folio.proyecto_id=o.proyecto_id,this.folio.tipo_doc=o.tipo_doc,this.folio.consecutivo=o.consecutivo}}},mounted:function(){this.getData(),this.getListaProyectos()}};const i=(0,o(14486).A)(r,(function(){var t=this,a=t._self._c;return a("main",{staticClass:"main"},[a("div",{staticClass:"container-fluid"},[a("br"),t._v(" "),a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("i",{staticClass:"fa fa-align-justify"}),t._v(" Folios\n                "),a("button",{staticClass:"btn btn-dark float-sm-right",attrs:{type:"button"},on:{click:function(a){return t.abrirModal("folio","registrar")}}},[a("i",{staticClass:"fas fa-plus"}),t._v(" Nuevo\n                ")])]),t._v(" "),a("div",{staticClass:"card-body"},[a("v-client-table",{ref:"myTable",attrs:{columns:t.columns,data:t.tableData,options:t.options},scopedSlots:t._u([{key:"id",fn:function(o){return[a("div",{staticClass:"btn-group",attrs:{role:"group","aria-label":"Button group with nested dropdown"}},[a("div",{staticClass:"btn-group dropup",attrs:{role:"group"}},[a("button",{staticClass:"btn btn-outline-dark dropdown-toggle",attrs:{id:"btnGroupDrop1",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[a("i",{staticClass:"fas fa-grip-horizontal"}),t._v("  Acciones\n                    ")]),t._v(" "),a("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"btnGroupDrop1"}},[[a("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(a){return t.abrirModal("folio","actualizar",o.row)}}},[a("i",{staticClass:"icon-pencil"}),t._v("  Actualizar Folio\n                        ")])],t._v(" "),[a("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(a){return t.eliminar(o.row.id)}}},[a("i",{staticClass:"icon-trash"}),t._v("  Eliminar Folio\n                        ")])]],2)])])]}}])})],1)])]),t._v(" "),a("div",{staticClass:"modal fade",class:{mostrar:t.modal},staticStyle:{display:"none"},attrs:{tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-dark modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",[a("vue-element-loading",{attrs:{active:t.isLoading}}),t._v(" "),a("div",{staticClass:"modal-header"},[a("h4",{staticClass:"modal-title",domProps:{textContent:t._s(t.tituloModal)}}),t._v(" "),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(a){return t.cerrarModal()}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),t._v(" "),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-3 form-control-label",attrs:{for:"tipo_doc"}},[t._v("Nombre")]),t._v(" "),a("div",{staticClass:"col-md-9"},[a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.folio.tipo_doc,expression:"folio.tipo_doc"}],staticClass:"form-control",attrs:{type:"text",name:"tipo_doc",placeholder:"Tipo de doc.",autocomplete:"off",id:"tipo_doc"},domProps:{value:t.folio.tipo_doc},on:{input:function(a){a.target.composing||t.$set(t.folio,"tipo_doc",a.target.value)}}}),t._v(" "),a("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("tipo_doc")))])])]),t._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-3 form-control-label",attrs:{for:"consecutivo"}},[t._v("Consecutivo")]),t._v(" "),a("div",{staticClass:"col-md-9"},[a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.folio.consecutivo,expression:"folio.consecutivo"}],staticClass:"form-control",attrs:{type:"number",name:"consecutivo",placeholder:"Consecutivo",autocomplete:"off",id:"consecutivo"},domProps:{value:t.folio.consecutivo},on:{input:function(a){a.target.composing||t.$set(t.folio,"consecutivo",a.target.value)}}}),t._v(" "),a("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("consecutivo")))])])]),t._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-3 form-control-label",attrs:{for:"proyecto_id"}},[t._v("Proyecto")]),t._v(" "),a("div",{staticClass:"col-md-9"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.folio.proyecto_id,expression:"folio.proyecto_id"},{name:"validate",rawName:"v-validate",value:"excluded:0",expression:"'excluded:0'"}],staticClass:"form-control",attrs:{id:"proyecto_id",name:"proyecto_id","data-vv-as":"Modulo"},on:{change:function(a){var o=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.folio,"proyecto_id",a.target.multiple?o:o[0])}}},t._l(t.listaProyectos,(function(o){return a("option",{key:o.proyecto.id,domProps:{value:o.proyecto.id}},[t._v(t._s(o.proyecto.nombre_corto))])})),0),t._v(" "),a("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("proyecto_id")))])])])]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-outline-dark",attrs:{type:"button"},on:{click:function(a){return t.cerrarModal()}}},[a("i",{staticClass:"fas fa-times"}),t._v(" Cerrar")]),t._v(" "),1==t.tipoAccion?a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(a){return t.guardarFolio(1)}}},[a("i",{staticClass:"fas fa-save"}),t._v(" Guardar")]):t._e(),t._v(" "),2==t.tipoAccion?a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(a){return t.guardarFolio(0)}}},[a("i",{staticClass:"fas fa-save"}),t._v(" Actualizar")]):t._e()])],1)])])])])}),[],!1,null,null,null).exports},56385:(t,a,o)=>{"use strict";o.r(a),o.d(a,{default:()=>l});var e=o(60173);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function r(t,a,o){return(a=function(t){var a=function(t,a){if("object"!=s(t)||!t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var e=o.call(t,a||"default");if("object"!=s(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(t)}(t,"string");return"symbol"==s(a)?a:a+""}(a))in t?Object.defineProperty(t,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[a]=o,t}var i=o(14941).call(void 0);const n={data:function(){return{url:"/ModulosSistema",Modulo:{id:0,nombre:"",color:"",icono:"",page:"/",submenu:0},modal:0,tituloModal:"",tipoAccion:0,isLoading:!1,columns:["id","nombre"],tableData:[],options:{headings:{nombre:"Módulo",id:"Acciones"},perPage:10,perPageValues:[],skin:i.skin,sortIcon:i.sortIcon,sortable:["nombre"],filterable:["nombre"],filterByColumn:!0,texts:i.texts}}},filters:{uppercase:function(t){return t.toUpperCase()}},computed:{},methods:{getData:function(){var t=this;axios.get(t.url).then((function(a){t.tableData=a.data})).catch((function(t){console.log(t)}))},readFile:function(t){t.dataTransfer.files},guardarTipoNomina:function(t){var a=this;this.$validator.validate().then((function(o){if(o){a.isLoading=!0;var e=a;axios({method:t?"POST":"PUT",url:t?e.url:e.url+"/"+a.id,data:{icono:a.Modulo.icono,color:a.Modulo.color,nombre:a.Modulo.nombre,id:a.Modulo.id,page:a.Modulo.page,submenu:a.Modulo.submenu}}).then((function(a){var o;(e.isLoading=!1,a.data.status)?(e.cerrarModal(),e.getData(),t?toastr.success("Modulo Registrado Correctamente"):toastr.success("Modulo Actualizado Correctamente"),toastr.options=(r(r(r(r(r(r(r(r(r(r(o={closeButton:!1},"closeButton",!1),"debug",!1),"newestOnTop",!0),"progressBar",!0),"positionClass","toast-top-center"),"preventDuplicates",!1),"onclick",null),"showDuration","300"),"hideDuration","1000"),"timeOut","5000"),r(r(r(r(r(o,"extendedTimeOut","1000"),"showEasing","swing"),"hideEasing","linear"),"showMethod","fadeIn"),"hideMethod","fadeOut"))):swal({type:"error",html:a.data.errors.join("<br>")})})).catch((function(t){console.log(t)}))}}))},cerrarModal:function(){this.modal=0,this.tituloModal="",e.A.resetObject(this.Modulo)},abrirModal:function(t,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if("modulo"===t)switch(a){case"registrar":this.modal=1,this.tituloModal="Registrar Módulo",e.A.resetObject(this.Modulo),this.tipoAccion=1;break;case"actualizar":this.modal=1,this.tituloModal="Actualizar Módulo",this.tipoAccion=2,this.Modulo.id=o.id,this.Modulo.nombre=o.nombre,this.Modulo.color=o.color,this.Modulo.icono=o.icono,this.Modulo.page=o.page,this.Modulo.submenu=o.submenu}}},mounted:function(){this.getData()}};const l=(0,o(14486).A)(n,(function(){var t=this,a=t._self._c;return a("main",{staticClass:"main"},[a("div",{staticClass:"container-fluid"},[a("br"),t._v(" "),a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("i",{staticClass:"fa fa-align-justify"}),t._v(" Módulos del sistema\n                "),a("button",{staticClass:"btn btn-secondary float-sm-right",attrs:{type:"button"},on:{click:function(a){return t.abrirModal("modulo","registrar")}}},[a("i",{staticClass:"icon-plus"}),t._v(" Nuevo\n                ")])]),t._v(" "),a("div",{staticClass:"card-body"},[a("v-client-table",{ref:"myTable",attrs:{columns:t.columns,data:t.tableData,options:t.options},scopedSlots:t._u([{key:"id",fn:function(o){return[a("div",{staticClass:"btn-group",attrs:{role:"group","aria-label":"Button group with nested dropdown"}},[a("div",{staticClass:"btn-group dropup",attrs:{role:"group"}},[a("button",{staticClass:"btn btn-outline-dark dropdown-toggle",attrs:{id:"btnGroupDrop1",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[a("i",{staticClass:"fas fa-grip-horizontal"}),t._v("  Acciones\n                            ")]),t._v(" "),a("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"btnGroupDrop1"}},[[a("button",{staticClass:"dropdown-item",attrs:{type:"button",href:"#"},on:{click:function(a){return t.abrirModal("modulo","actualizar",o.row)}}},[a("i",{staticClass:"icon-pencil"}),t._v(" Actualizar Modulo\n                        ")])]],2)])])]}},{key:"nombre",fn:function(o){return[a("div",{staticStyle:{"text-align":"center"}},[a("div",{attrs:{id:"icon-grid"}},[a("div",{staticClass:"case-wrapper",attrs:{title:o.row.nombre}},[a("a",[a("div",{staticClass:"app-icon",style:"background-color:"+o.row.color,attrs:{title:o.row.nombre}},[a("i",{class:o.row.icono,attrs:{title:o.row.nombre}})])]),t._v(" "),a("div",{staticClass:"case-label ellipsis"},[a("span",{staticClass:"case-label-text",domProps:{textContent:t._s(o.row.nombre)}})])])])])]}}])})],1)])]),t._v(" "),a("div",{staticClass:"modal fade",class:{mostrar:t.modal},staticStyle:{display:"none"},attrs:{tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel","aria-hidden":"true"}},[a("vue-element-loading",{attrs:{active:t.isLoading}}),t._v(" "),a("div",{staticClass:"modal-dialog modal-dark modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",[a("div",{staticClass:"modal-header"},[a("h4",{staticClass:"modal-title",domProps:{textContent:t._s(t.tituloModal)}}),t._v(" "),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(a){return t.cerrarModal()}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),t._v(" "),a("div",{staticClass:"modal-body"},[a("input",{attrs:{type:"hidden",name:"id"}}),t._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-3 form-control-label",attrs:{for:"nombre"}},[t._v("Nombre:")]),t._v(" "),a("div",{staticClass:"col-md-3"},[a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.Modulo.nombre,expression:"Modulo.nombre"}],staticClass:"form-control",attrs:{type:"text",name:"nombre",placeholder:"Nombre del tipo de Horario",autocomplete:"off",id:"nombre"},domProps:{value:t.Modulo.nombre},on:{input:function(a){a.target.composing||t.$set(t.Modulo,"nombre",a.target.value)}}}),t._v(" "),a("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("nombre")))])]),t._v(" "),a("label",{staticClass:"col-md-3 form-control-label",attrs:{for:"color"}},[t._v("Color:")]),t._v(" "),a("div",{staticClass:"col-md-3"},[a("i",{staticClass:"fas fa-eye-dropper"}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.Modulo.color,expression:"Modulo.color"}],attrs:{type:"color",name:"color",value:"#B7B6B6"},domProps:{value:t.Modulo.color},on:{input:function(a){a.target.composing||t.$set(t.Modulo,"color",a.target.value)}}}),t._v(" "),a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.Modulo.color,expression:"Modulo.color"}],staticClass:"form-control",attrs:{type:"text",name:"color",placeholder:"Color del tipo de Horario",autocomplete:"off",id:"color"},domProps:{value:t.Modulo.color},on:{input:function(a){a.target.composing||t.$set(t.Modulo,"color",a.target.value)}}}),t._v(" "),a("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("color")))])])]),t._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-3 form-control-label",attrs:{for:"icono"}},[t._v("Ícono:")]),t._v(" "),a("div",{staticClass:"col-md-3"},[a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.Modulo.icono,expression:"Modulo.icono"}],staticClass:"form-control",attrs:{type:"text",name:"icono",placeholder:"Ícono",autocomplete:"off",id:"icono"},domProps:{value:t.Modulo.icono},on:{input:function(a){a.target.composing||t.$set(t.Modulo,"icono",a.target.value)}}}),t._v(" "),a("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("icono")))])]),t._v(" "),a("label",{staticClass:"col-md-3 form-control-label",attrs:{for:"page"}},[t._v("Page:")]),t._v(" "),a("div",{staticClass:"col-md-3"},[a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.Modulo.page,expression:"Modulo.page"}],staticClass:"form-control",attrs:{type:"text",name:"page",placeholder:"Page",autocomplete:"off",id:"page"},domProps:{value:t.Modulo.page},on:{input:function(a){a.target.composing||t.$set(t.Modulo,"page",a.target.value)}}}),t._v(" "),a("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("page")))])])]),t._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-3 form-control-label",attrs:{for:"submenu"}},[t._v("Submenú:")]),t._v(" "),a("div",{staticClass:"col-md-3"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.Modulo.submenu,expression:"Modulo.submenu"}],staticClass:"form-control",attrs:{id:"submenu",name:"submenu","data-vv-as":"Submenú"},on:{change:function(a){var o=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.Modulo,"submenu",a.target.multiple?o:o[0])}}},[a("option",{attrs:{value:"1"}},[t._v("SI")]),t._v(" "),a("option",{attrs:{value:"0"}},[t._v("NO")])]),t._v(" "),a("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("submenu")))])])]),t._v(" "),a("div",{staticClass:"form-group row"},[a("div",{staticClass:"col-sm-10 col-sm-offset-1 hid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-6 col-sm-offset-4 text-center"}),t._v(" "),a("div",{staticClass:"col-sm-4 col-sm-offset-4 text-center"},[a("div",{staticStyle:{"text-align":"center"}},[a("div",{attrs:{id:"icon-grid"}},[a("div",{staticClass:"case-wrapper",attrs:{title:t.Modulo.nombre}},[a("a",[a("div",{staticClass:"app-icon",style:"background-color:"+t.Modulo.color,attrs:{title:t.Modulo.nombre}},[a("i",{class:t.Modulo.icono,attrs:{title:t.Modulo.nombre}})])]),t._v(" "),a("div",{staticClass:"case-label ellipsis"},[a("span",{staticClass:"case-label-text",domProps:{textContent:t._s(t.Modulo.nombre)}})])])])])])])])])]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-outline-dark",attrs:{type:"button"},on:{click:function(a){return t.cerrarModal()}}},[a("i",{staticClass:"fas fa-times"}),t._v(" Cerrar")]),t._v(" "),1==t.tipoAccion?a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(a){return t.guardarTipoNomina(1)}}},[a("i",{staticClass:"fas fa-save"}),t._v(" Guardar")]):t._e(),t._v(" "),2==t.tipoAccion?a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(a){return t.guardarTipoNomina(0)}}},[a("i",{staticClass:"fas fa-save"}),t._v(" Actualizar")]):t._e()])])])])],1)])}),[],!1,null,null,null).exports},46960:(t,a,o)=>{"use strict";o.r(a),o.d(a,{default:()=>s});o(60173),o(14941).call(void 0);const e={data:function(){return{url:"/usuario",tipoPermisos:{usuario_id:0,control_id:0,ruta:0,nombre:"",id:0},tipoAccion:0,isLoading:!1,tableMenus:[],menus:[],modulo:[],listaModulos:[],listaRutas:[],user:0,control:[],listaUsuarios:[],arreglos:[]}},methods:{getData:function(){var t=this;axios.get(t.url).then((function(a){t.listaUsuarios=a.data.usuarios})).catch((function(t){console.log(t)})),axios.get("/permisocrud").then((function(a){t.arreglos=a.data})).catch((function(t){console.log(t)})),axios.get("/ModulosSistema").then((function(a){t.listaModulos=a.data,t.isLoading=!1})).catch((function(t){console.log(t)}))},onChangePagina:function(){var t=this;axios.get("/elementospormodulos/"+this.modulo).then((function(a){t.listaRutas=a.data,t.tipoPermisos.ruta=0,t.control=[]})).catch((function(t){console.log(t)}))},onChangeElementos:function(){var t=this;t.tipoPermisos.ruta=0,t.modulo=0,t.control=[]},menusupdate:function(t){var a=this;this.$validator.validate().then((function(o){if(o){var e=a;0!=e.tipoPermisos.ruta&&0!=e.modulo&&axios({method:t?"POST":"PUT",url:t?e.url:"/PermisosCrud/"+a.tipoPermisos.id+"/actualizar",data:{usuario_id:a.user,ruta:a.tipoPermisos.ruta,control:a.control}}).then((function(t){t.data.status?toastr.success(" Actualizada Correctamente"):swal({type:"error",html:t.data.errors.join("<br>")})})).catch((function(t){console.log(t)}))}}))},permisorec:function(){var t=this,a=[];axios.post("/menusidempc",{usuario_id:this.user,ruta:this.tipoPermisos.ruta}).then((function(o){for(var e=0;e<o.data.length;e++)a.push(o.data[e].control_id);t.control=a,console.log(o)})).catch((function(t){console.error(t)}))},guardarTodos:function(){if(0!=this.user){this.isLoading=!0;var t=this;axios({method:"POST",url:"/permisocrud/todos",data:{usuario_id:this.user}}).then((function(a){t.isLoading=!1,a.data.status?toastr.success("Se asignaron todos los permisos CRUD"):swal({type:"error",html:a.data.errors.join("<br>")})})).catch((function(t){console.log(t)}))}else toastr.error("Seleccionar usuario.")}},mounted:function(){this.getData()}};const s=(0,o(14486).A)(e,(function(){var t=this,a=t._self._c;return a("main",{staticClass:"main"},[a("div",{},[a("div",{staticClass:"card"},[t._m(0),t._v(" "),a("div",{staticClass:"card-body"},[a("vue-element-loading",{attrs:{active:t.isLoading}}),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"usuario"}},[t._v("Selecciona Usuario")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.user,expression:"user"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control col-md-4",attrs:{id:"user","data-vv-name":"user",placeholder:"Usuario"},on:{change:[function(a){var o=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.user=a.target.multiple?o:o[0]},t.onChangeElementos]}},[a("option",{attrs:{value:"0"}},[t._v("---Usuario---")]),t._v(" "),t._l(t.listaUsuarios,(function(o){return a("option",{key:o.id,domProps:{value:o.id}},[t._v(t._s(o.name))])}))],2),t._v(" "),a("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("user")))])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"modulo"}},[t._v("Selecciona Módulo")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.modulo,expression:"modulo"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control col-md-4",attrs:{id:"modulo",name:"modulo",placeholder:"Modulo"},on:{change:[function(a){var o=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.modulo=a.target.multiple?o:o[0]},t.onChangePagina]}},[a("option",{attrs:{value:"0"}},[t._v("---Modulo---")]),t._v(" "),t._l(t.listaModulos,(function(o){return a("option",{key:o.id,domProps:{value:o.id}},[t._v(t._s(o.nombre))])}))],2),t._v(" "),a("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("modulo")))])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"usuario"}},[t._v("Selecciona la Ruta")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.tipoPermisos.ruta,expression:"tipoPermisos.ruta"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control col-md-4",attrs:{id:"ruta",name:"ruta",placeholder:"Ruta"},on:{change:[function(a){var o=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.tipoPermisos,"ruta",a.target.multiple?o:o[0])},t.permisorec]}},[a("option",{attrs:{value:"0"}},[t._v("---Rutas---")]),t._v(" "),t._l(t.listaRutas,(function(o,e){return a("option",{key:e,attrs:{pk:o.id},domProps:{value:o.page}},[t._v(t._s(o.page))])}))],2),t._v(" "),a("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("ruta")))])]),t._v(" "),a("div",{staticClass:"form-group row"},[t._m(1),t._v(" "),t._l(t.arreglos,(function(o){return a("div",{key:o.id,staticClass:"form-group"},[t._v("\n                 \n              "+t._s(o.nombre)+"\n              "),a("label",{staticClass:"switch switch-default switch-pill switch-dark"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.control,expression:"control"}],staticClass:"switch-input",attrs:{type:"checkbox",checked:""},domProps:{value:o.id,checked:Array.isArray(t.control)?t._i(t.control,o.id)>-1:t.control},on:{change:function(a){var e=t.control,s=a.target,r=!!s.checked;if(Array.isArray(e)){var i=o.id,n=t._i(e,i);s.checked?n<0&&(t.control=e.concat([i])):n>-1&&(t.control=e.slice(0,n).concat(e.slice(n+1)))}else t.control=r}}}),t._v(" "),a("span",{staticClass:"switch-label"}),t._v(" "),a("span",{staticClass:"switch-handle"})]),t._v("\n                 \n            ")])}))],2),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-outline-dark",attrs:{type:"button"},on:{click:function(a){return t.menusupdate(0)}}},[a("i",{staticClass:"fas fa-save"}),t._v(" Guardar")]),t._v(" "),a("button",{staticClass:"btn btn-outline-danger",attrs:{type:"button"},on:{click:function(a){return t.guardarTodos()}}},[a("i",{staticClass:"fas fa-save"}),t._v(" Todos")])])],1)])])])}),[function(){var t=this._self._c;return t("div",{staticClass:"card-header"},[t("i",{staticClass:"fa fa-align-justify"}),this._v("Asignar permisos de CRUD.\n          ")])},function(){var t=this._self._c;return t("div",{staticClass:"col-md-2 col-sm-2"},[t("label",{attrs:{for:"usuario"}},[this._v("Asigna permisos")])])}],!1,null,"60d1b8fd",null).exports},63511:(t,a,o)=>{"use strict";o.r(a),o.d(a,{default:()=>i});var e=o(60173),s=o(14941).call(void 0);const r={data:function(){return{permiso:{id:0,elemento_dashboard_id:0,user_id:0},listaElementos:[],listaUsuarios:[],modal:0,tituloModal:"",tipoAccion:0,isLoading:!1,columns:["id","modulo","elemento","usuario"],tableData:[],options:{headings:{elemento:"Elemento",modulo:"Modulo",usuario:"Usuario",id:"Acción"},perPage:10,perPageValues:[],skin:s.skin,sortIcon:s.sortIcon,sortable:["elemento","usuario","modulo"],filterable:["elemento","usuario","modulo"],filterByColumn:!0,texts:s.texts}}},computed:{},methods:{getData:function(){var t=this;axios.get("/permisosdashboard").then((function(a){t.tableData=a.data})).catch((function(t){console.log(t)}))},getListaElementosDashboard:function(){var t=this;axios.get("/elementosdashboard").then((function(a){t.listaElementos=a.data})).catch((function(t){console.log(t)}))},getListaUsuarios:function(){var t=this;axios.get("/usuario").then((function(a){t.listaUsuarios=a.data.usuarios})).catch((function(t){console.log(t)}))},guardarPermiso:function(){var t=this;this.$validator.validate().then((function(a){if(a){console.log(t.permiso.elemento_dashboard_id),console.log(t.permiso.user_id),console.log(t.permiso.id),t.isLoading=!0;var o=t;axios({method:"POST",url:"/permisosdashboard/registrar",data:{elemento_dashboard_id:t.permiso.elemento_dashboard_id,user_id:t.permiso.user_id,id:t.permiso.id}}).then((function(t){o.isLoading=!1,t.data.status?(o.cerrarModal(),o.getData(),toastr.success("Permiso Registrado Correctamente")):swal({type:"error",html:t.data.errors.join("<br>")})})).catch((function(t){console.log(t)}))}}))},eliminar:function(t){var a=this;swal({title:"Esta seguro de eliminar este Permiso?",type:"warning",showCancelButton:!0,confirmButtonColor:"#4dbd74",cancelButtonColor:"#f86c6b",confirmButtonText:"Aceptar!",cancelButtonText:"Cancelar",reverseButtons:!0}).then((function(o){if(o.value){var e=a;axios.put("/permisosdashboard/eliminar",{id:t}).then((function(t){toastr.error("Permiso Desactivado Correctamente"),e.getData()})).catch((function(t){console.log(t)}))}}))},cerrarModal:function(){this.modal=0,this.tituloModal="",e.A.resetObject(this.permiso)},abrirModal:function(t,a){if("permiso"===t)if("registrar"===a)this.modal=1,this.tituloModal="Registrar permiso",e.A.resetObject(this.permiso),this.tipoAccion=1}},mounted:function(){this.getData(),this.getListaElementosDashboard(),this.getListaUsuarios()}};const i=(0,o(14486).A)(r,(function(){var t=this,a=t._self._c;return a("main",{staticClass:"main"},[a("div",{},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("i",{staticClass:"fa fa-align-justify"}),t._v(" Permisos Dashboard\n                "),a("button",{staticClass:"btn btn-dark float-sm-right",attrs:{type:"button"},on:{click:function(a){return t.abrirModal("permiso","registrar")}}},[a("i",{staticClass:"fas fa-plus"}),t._v(" Nuevo\n                ")])]),t._v(" "),a("div",{staticClass:"card-body"},[a("v-client-table",{ref:"myTable",attrs:{columns:t.columns,data:t.tableData,options:t.options},scopedSlots:t._u([{key:"id",fn:function(o){return[a("div",{staticClass:"btn-group",attrs:{role:"group","aria-label":"Button group with nested dropdown"}},[a("div",{staticClass:"btn-group dropup",attrs:{role:"group"}},[a("button",{staticClass:"btn btn-outline-dark dropdown-toggle",attrs:{id:"btnGroupDrop1",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[a("i",{staticClass:"fas fa-grip-horizontal"}),t._v("  Acciones\n                            ")]),t._v(" "),a("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"btnGroupDrop1"}},[[a("button",{staticClass:"dropdown-item",attrs:{type:"button",href:"#"},on:{click:function(a){return t.eliminar(o.row.id)}}},[a("i",{staticClass:"icon-trash"}),t._v("  Eliminar Permiso Dashboard\n                        ")])]],2)])])]}}])})],1)])]),t._v(" "),a("div",{staticClass:"modal fade",class:{mostrar:t.modal},staticStyle:{display:"none"},attrs:{tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel","aria-hidden":"true"}},[a("vue-element-loading",{attrs:{active:t.isLoading}}),t._v(" "),a("div",{staticClass:"modal-dialog modal-dark modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",[a("div",{staticClass:"modal-header"},[a("h4",{staticClass:"modal-title",domProps:{textContent:t._s(t.tituloModal)}}),t._v(" "),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(a){return t.cerrarModal()}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v(" ×")])])]),t._v(" "),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-3 form-control-label",attrs:{for:"elemento_dashboard_id"}},[t._v("Modulo-Elemento")]),t._v(" "),a("div",{staticClass:"col-md-9"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.permiso.elemento_dashboard_id,expression:"permiso.elemento_dashboard_id"},{name:"validate",rawName:"v-validate",value:"excluded:0",expression:"'excluded:0'"}],staticClass:"form-control",attrs:{id:"elemento_dashboard_id",name:"elemento_dashboard_id","data-vv-as":"Elemento Dashboard"},on:{change:function(a){var o=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.permiso,"elemento_dashboard_id",a.target.multiple?o:o[0])}}},t._l(t.listaElementos,(function(o){return a("option",{key:o.id,domProps:{value:o.id}},[t._v(t._s(o.modulo)+" - "+t._s(o.nombre))])})),0),t._v(" "),a("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("elemento_dashboard_id")))])])]),t._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-3 form-control-label",attrs:{for:"user_id"}},[t._v("Usuario")]),t._v(" "),a("div",{staticClass:"col-md-9"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.permiso.user_id,expression:"permiso.user_id"},{name:"validate",rawName:"v-validate",value:"excluded:0",expression:"'excluded:0'"}],staticClass:"form-control",attrs:{id:"user_id",name:"user_id","data-vv-as":"Usuario"},on:{change:function(a){var o=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.permiso,"user_id",a.target.multiple?o:o[0])}}},t._l(t.listaUsuarios,(function(o,e){return a("option",{key:e,domProps:{value:o.id}},[t._v(t._s(o.name))])})),0),t._v(" "),a("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("user_id")))])])])]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-outline-dark",attrs:{type:"button"},on:{click:function(a){return t.cerrarModal()}}},[a("i",{staticClass:"fas fa-times"}),t._v(" Cerrar")]),t._v(" "),1==t.tipoAccion?a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(a){return t.guardarPermiso()}}},[a("i",{staticClass:"fas fa-save"}),t._v(" Guardar")]):t._e()])])])])],1)])}),[],!1,null,null,null).exports},50220:(t,a,o)=>{"use strict";o.r(a),o.d(a,{default:()=>u});var e=o(60173),s=o(14941).call(void 0);const r={data:function(){return{url:"/usuario",tipoPermisos:{id:0,nombre:""},modal:0,tituloModal:"",tipoAccion:0,isLoading:!1,columns:["id","name","name_user"],list_usuarios:[],tableModulos:[],tableMenus:[],events:[],tableSubMenus:[],menus:[],submenus:[],options:{headings:{name:"Usuario",id:"Acciones",name_user:"Usuario"},perPage:10,perPageValues:[],skin:s.skin,sortIcon:s.sortIcon,filterByColumn:!0,texts:s.texts}}},methods:{GetUsers:function(){var t=this;axios.get("sistema/usuariosactivos").then((function(a){t.list_usuarios=a.data.usuarios}))},crear:function(){var t=this;axios.get("/PermisoUser/create").then((function(a){t.tableModulos=a.data})).catch((function(t){console.log(t)}))},editado:function(){var t=this;axios.get("/PermisoUser/edit").then((function(a){t.tableSubMenus=a.data})).catch((function(t){console.log(t)}))},tablamenu:function(){var t=this;axios.get("/PermisoUser/0").then((function(a){t.tableMenus=a.data})).catch((function(t){console.log(t)}))},menusupdate:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2?arguments[2]:void 0;axios({method:o?"POST":"PUT",url:o?this.url:"/PermisoUser/"+t+"/actualizar",data:{modulo:a.modulo_id,id:t,id_menu:a.id}}).then((function(t){t.data.status?toastr.success(" Actualizada Correctamente"):swal({type:"error",html:t.data.errors.join("<br>")})})).catch((function(t){console.log(t)}))},submenusupdate:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2?arguments[2]:void 0;axios({method:o?"POST":"PUT",url:o?this.url:"/PermisoUser/"+t+"/actualizarsub",data:{menu_id:a.elementos_menu_id,id:t,id_submenu:a.id}}).then((function(t){t.data.status?toastr.success(" Actualizada Correctamente"):swal({type:"error",html:t.data.errors.join("<br>")})})).catch((function(t){console.log(t)}))},cerrarModal:function(){this.modal=0,this.tituloModal="",e.A.resetObject(this.tipoPermisos)},abrirModal:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.modal=1,this.tituloModal="Actualizar Permisos",this.tipoAccion=2,this.tipoPermisos.id=t.id;var a=t.id;this.tipoPermisos.nombre=t.name;var o=[],e=[];axios.get("/menusidemp/"+a).then((function(t){for(var a=0;a<t.data.length;a++)o.push(t.data[a].elementos_menu_id),e.push(t.data[a].elementos_submenu_id)})),this.menus=o,this.submenus=e}},mounted:function(){this.GetUsers(),this.crear(),this.editado(),this.tablamenu()}};var i=o(85072),n=o.n(i),l=o(19485),c={insert:"head",singleton:!1};n()(l.A,c);l.A.locals;const u=(0,o(14486).A)(r,(function(){var t=this,a=t._self._c;return a("main",{staticClass:"main"},[a("div",{},[a("div",{staticClass:"card"},[t._m(0),t._v(" "),a("div",{staticClass:"card-body"},[a("v-client-table",{ref:"myTable",attrs:{columns:t.columns,data:t.list_usuarios,options:t.options},scopedSlots:t._u([{key:"id",fn:function(o){return[a("div",{staticClass:"btn-group",attrs:{role:"group","aria-label":"Button group with nested dropdown"}},[a("div",{staticClass:"btn-group dropup",attrs:{role:"group"}},[a("button",{staticClass:"btn btn-outline-dark dropdown-toggle",attrs:{id:"btnGroupDrop1",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[a("i",{staticClass:"fas fa-grip-horizontal mr-1"}),t._v("Acciones\n                                ")]),t._v(" "),a("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"btnGroupDrop1"}},[[a("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(a){return t.abrirModal(o.row)}}},[a("i",{staticClass:"fas fa-edit"}),t._v("Actualizar Permisos\n                                        ")])]],2)])])]}}])})],1)])]),t._v(" "),a("div",{staticClass:"modal fade",class:{mostrar:t.modal},staticStyle:{display:"none"},attrs:{tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel","aria-hidden":"true"}},[a("vue-element-loading",{attrs:{active:t.isLoading}}),t._v(" "),a("div",{staticClass:"modal-dialog modal-dark modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",[a("div",{staticClass:"modal-header"},[a("h4",{staticClass:"modal-title",domProps:{textContent:t._s(t.tituloModal)}}),t._v(" "),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(a){return t.cerrarModal()}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("x")])])]),t._v(" "),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"form-group row"},[a("label",{staticClass:"ml-3 form-control-label font-weight-bold",attrs:{for:"nombre"}},[t._v("Usuario")]),t._v(" "),a("div",{staticClass:"col-md-6"},[null!=t.tipoPermisos?[a("label",[t._v(t._s(t.tipoPermisos.nombre))])]:t._e()],2)]),t._v(" "),a("div",{staticClass:"table-scroll"},[a("table",{staticClass:"table-main table"},[a("thead",{staticClass:"thead-dark"},[a("tr",{staticClass:"header-modulo"},[t._l(t.tableModulos,(function(o,e){return[a("td",{key:e,staticClass:"a"},[a("div",{staticClass:"text-center1 item"},[t._v("\n                                                    "+t._s(o.nombre)+"\n                                                ")])])]}))],2),t._v(" "),a("tr",t._l(t.tableModulos,(function(o){return a("td",{key:o.id},t._l(t.tableMenus,(function(e){return a("div",{key:e.id},[o.id==e.m.modulo_id?a("div",{staticClass:"form-check checkbox"},[null!=e.m.page?[a("input",{directives:[{name:"model",rawName:"v-model",value:t.menus,expression:"menus"}],attrs:{id:"smn_"+e.m.id,type:"checkbox"},domProps:{value:e.m.id,checked:Array.isArray(t.menus)?t._i(t.menus,e.m.id)>-1:t.menus},on:{change:[function(a){var o=t.menus,s=a.target,r=!!s.checked;if(Array.isArray(o)){var i=e.m.id,n=t._i(o,i);s.checked?n<0&&(t.menus=o.concat([i])):n>-1&&(t.menus=o.slice(0,n).concat(o.slice(n+1)))}else t.menus=r},function(a){return t.menusupdate(t.tipoPermisos.id,e.m,0)}]}}),t._v(" "),a("label",{staticClass:"form-check-label",staticStyle:{"margin-left":"-1rem"},attrs:{for:"smn_"+e.m.id}},[t._v("\n                                                            "+t._s(e.m.name)+"\n                                                        ")])]:t._e(),t._v(" "),null==e.m.page?[a("a",{staticClass:"nav-link",attrs:{href:"#",role:"tab"}},[t._v(t._s(e.m.name))]),t._v(" "),t._l(e.s,(function(o){return a("div",{key:o.id},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.submenus,expression:"submenus"}],attrs:{id:"mn_"+o.id,type:"checkbox"},domProps:{value:o.id,checked:Array.isArray(t.submenus)?t._i(t.submenus,o.id)>-1:t.submenus},on:{change:[function(a){var e=t.submenus,s=a.target,r=!!s.checked;if(Array.isArray(e)){var i=o.id,n=t._i(e,i);s.checked?n<0&&(t.submenus=e.concat([i])):n>-1&&(t.submenus=e.slice(0,n).concat(e.slice(n+1)))}else t.submenus=r},function(a){return t.submenusupdate(t.tipoPermisos.id,o,0)}]}}),t._v(" "),a("label",{staticClass:"form-check-label",attrs:{for:"mn_"+o.id}},[t._v("\n                                                                "+t._s(o.submenu)+"\n                                                            ")])])}))]:t._e()],2):t._e()])})),0)})),0)])])])]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-outline-dark",attrs:{type:"button"},on:{click:function(a){return t.cerrarModal()}}},[a("i",{staticClass:"fas fa-times"}),t._v(" Cerrar")])])])])])],1)])}),[function(){var t=this._self._c;return t("div",{staticClass:"card-header"},[t("i",{staticClass:"fa fa-align-justify"}),this._v(" Asignar permisos\n            ")])}],!1,null,null,null).exports},50258:(t,a,o)=>{"use strict";o.r(a),o.d(a,{default:()=>l});var e=o(60173);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function r(t,a,o){return(a=function(t){var a=function(t,a){if("object"!=s(t)||!t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var e=o.call(t,a||"default");if("object"!=s(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(t)}(t,"string");return"symbol"==s(a)?a:a+""}(a))in t?Object.defineProperty(t,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[a]=o,t}var i=o(14941).call(void 0);const n={data:function(){return{url:"/sis/soliviaticos",ver_modal_permisosviaticos:0,columns_permisosviaticos:["propietario","permitido","empresa"],list_permisosviaticos:[],options_permisosviaticos:{headings:{propietario_id:"Propietario",empleado_permitido_id:"Permiso a"},perPage:10,perPageValues:[],skin:i.skin,sortIcon:i.sortIcon,filterByColumn:!0,texts:i.texts},titulo_modal_permisosviaticos:"",tipoAccion_modal_permisosviaticos:0,permisosviaticos_modal:r({empleado_permitido:{}},"empleado_permitido",{}),listaEmpleados:[]}},computed:{},methods:{CargarPermisos:function(){var t=this;axios.get(this.url).then((function(a){a.data.status?t.list_permisosviaticos=a.data.permisos:t.Error("cargar los permisos")}))},AbrirModalPermisosviaticos:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.ver_modal_permisosviaticos=!0,this.CargarEmpleados(),t?(this.titulo_modal_permisosviaticos="Registrar Permisos viaticos",this.tipoAccion_modal_permisosviaticos=1):(this.titulo_modal_permisosviaticos="Actualizar Permisos viaticos",this.tipoAccion_modal_permisosviaticos=2,this.permisosviaticos_modal=a)},GuardarPermisosviaticos:function(){var t=this;this.permisosviaticos_modal.propietario_id,this.$validator.validate().then((function(a){a&&(t.permisosviaticos_modal.propietario.id!=t.permisosviaticos_modal.empleado_permitido.id?axios.post(t.url,{empresa:t.permisosviaticos_modal.empresa_id,propietario_id:t.permisosviaticos_modal.propietario.id,empleado_permitido_id:t.permisosviaticos_modal.empleado_permitido.id}).then((function(a){a.data.status?(t.CerrarModalPermisosviaticos(),t.CargarPermisos(),toastr.success("Permisos registrados correctamente")):t.Error("registrar los permisos")})):toastr.warning("Los empleados no pueden ser iguales"))}))},CargarEmpleados:function(){var t=this;axios.get("generales/empleadoactivos").then((function(a){a.data.status?t.listaEmpleados=a.data.empleados:toastr.error(a.data.mensaje)}))},CerrarModalPermisosviaticos:function(){this.ver_modal_permisosviaticos=!1,e.A.resetObject(this.permisosviaticos_modal)},Error:function(t){toastr.error("Error al "+t)}},mounted:function(){this.CargarPermisos()}};const l=(0,o(14486).A)(n,(function(){var t=this,a=t._self._c;return a("div",{staticClass:"main"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("i",{staticClass:"fa fa-align-justify"}),t._v(" Permisos Viaticos Conserflow\n            "),a("button",{staticClass:"btn btn-dark float-sm-right",attrs:{type:"button"},on:{click:function(a){return t.AbrirModalPermisosviaticos(!0)}}},[a("i",{staticClass:"fas fa-plus"},[t._v(" ")]),t._v("Nuevo\n            ")])]),t._v(" "),a("div",{staticClass:"card-body"},[a("div",{},[a("div",{},[a("v-client-table",{ref:"tbl_permisosviaticos",attrs:{columns:t.columns_permisosviaticos,data:t.list_permisosviaticos,options:t.options_permisosviaticos},scopedSlots:t._u([{key:"id",fn:function(o){return[a("div",{staticClass:"btn-group",attrs:{role:"group"}},[a("button",{staticClass:"btn btn-outline-dark dropdown-toggle",attrs:{id:"btn_id",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[a("i",{staticClass:"fas fa-grip-horizontal"}),t._v("  Acciones\n                                ")]),t._v(" "),a("div",{staticClass:"dropdown-menu"},[[a("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(a){return t.AbrirModalPermisosviaticos(!1,o.row)}}},[a("i",{staticClass:"icon-pencil"}),t._v(" Actualizar\n                                        ")])]],2)])]}},{key:"empresa",fn:function(o){return[1==o.row.empresa?a("button",{staticClass:"btn btn-primary"},[t._v("Conserflow")]):a("button",{staticClass:"btn btn-secondary"},[t._v("Constructora")])]}}])})],1)])])]),t._v(" "),a("div",{staticClass:"modal fade",class:{mostrar:t.ver_modal_permisosviaticos},staticStyle:{display:"none"},attrs:{tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-dark modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h4",{staticClass:"modal-title",domProps:{textContent:t._s(t.titulo_modal_permisosviaticos)}}),t._v(" "),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(a){return t.CerrarModalPermisosviaticos()}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),t._v(" "),a("div",{staticClass:"modal-body"},[a("form",{staticClass:"form-horizontal",attrs:{action:"",method:"",enctype:"multipart/form-data"}},[a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-3 form-control-label"},[t._v("Empresa")]),t._v(" "),a("div",{staticClass:"col-md-9"},[a("select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.permisosviaticos_modal.empresa_id,expression:"permisosviaticos_modal.empresa_id"}],staticClass:"form-control",attrs:{name:"empresa"},on:{change:function(a){var o=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.permisosviaticos_modal,"empresa_id",a.target.multiple?o:o[0])}}},[a("option",{attrs:{value:"1"}},[t._v("Conserflow")]),t._v(" "),a("option",{attrs:{value:"2"}},[t._v("Constructora")])]),t._v(" "),a("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("empresa")))])])]),t._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-3 form-control-label"},[t._v("Propietario")]),t._v(" "),a("div",{staticClass:"col-md-9"},[a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{id:"proyectos",name:"propietario",label:"nombre",options:t.listaEmpleados},model:{value:t.permisosviaticos_modal.propietario,callback:function(a){t.$set(t.permisosviaticos_modal,"propietario",a)},expression:"permisosviaticos_modal.propietario"}}),t._v(" "),a("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("propietario")))])],1)]),t._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-3 form-control-label"},[t._v("Permitir a")]),t._v(" "),a("div",{staticClass:"col-md-9"},[a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{id:"proyectos",name:"permitido",label:"nombre",options:t.listaEmpleados},model:{value:t.permisosviaticos_modal.empleado_permitido,callback:function(a){t.$set(t.permisosviaticos_modal,"empleado_permitido",a)},expression:"permisosviaticos_modal.empleado_permitido"}}),t._v(" "),a("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("permitido")))])],1)])])]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-outline-dark",attrs:{type:"button"},on:{click:function(a){return t.CerrarModalPermisosviaticos()}}},[a("i",{staticClass:"fas fa-times"}),t._v(" Cerrar")]),t._v(" "),1==t.tipoAccion_modal_permisosviaticos?a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(a){return t.GuardarPermisosviaticos(1)}}},[a("i",{staticClass:"fas fa-save"}),t._v(" Guardar")]):t._e(),t._v(" "),2==t.tipoAccion_modal_permisosviaticos?a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(a){return t.GuardarPermisosviaticos(0)}}},[a("i",{staticClass:"fas fa-save"}),t._v(" Actualizar")]):t._e()])])])])])}),[],!1,null,null,null).exports},12390:(t,a,o)=>{"use strict";o.r(a),o.d(a,{default:()=>l});function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}function s(){s=function(){return a};var t,a={},o=Object.prototype,r=o.hasOwnProperty,i=Object.defineProperty||function(t,a,o){t[a]=o.value},n="function"==typeof Symbol?Symbol:{},l=n.iterator||"@@iterator",c=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function d(t,a,o){return Object.defineProperty(t,a,{value:o,enumerable:!0,configurable:!0,writable:!0}),t[a]}try{d({},"")}catch(t){d=function(t,a,o){return t[a]=o}}function m(t,a,o,e){var s=a&&a.prototype instanceof g?a:g,r=Object.create(s.prototype),n=new E(e||[]);return i(r,"_invoke",{value:L(t,o,n)}),r}function v(t,a,o){try{return{type:"normal",arg:t.call(a,o)}}catch(t){return{type:"throw",arg:t}}}a.wrap=m;var p="suspendedStart",f="suspendedYield",b="executing",_="completed",h={};function g(){}function C(){}function y(){}var w={};d(w,l,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x(U([])));k&&k!==o&&r.call(k,l)&&(w=k);var M=y.prototype=g.prototype=Object.create(w);function P(t){["next","throw","return"].forEach((function(a){d(t,a,(function(t){return this._invoke(a,t)}))}))}function A(t,a){function o(s,i,n,l){var c=v(t[s],t,i);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==e(d)&&r.call(d,"__await")?a.resolve(d.__await).then((function(t){o("next",t,n,l)}),(function(t){o("throw",t,n,l)})):a.resolve(d).then((function(t){u.value=t,n(u)}),(function(t){return o("throw",t,n,l)}))}l(c.arg)}var s;i(this,"_invoke",{value:function(t,e){function r(){return new a((function(a,s){o(t,e,a,s)}))}return s=s?s.then(r,r):r()}})}function L(a,o,e){var s=p;return function(r,i){if(s===b)throw Error("Generator is already running");if(s===_){if("throw"===r)throw i;return{value:t,done:!0}}for(e.method=r,e.arg=i;;){var n=e.delegate;if(n){var l=S(n,e);if(l){if(l===h)continue;return l}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(s===p)throw s=_,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);s=b;var c=v(a,o,e);if("normal"===c.type){if(s=e.done?_:f,c.arg===h)continue;return{value:c.arg,done:e.done}}"throw"===c.type&&(s=_,e.method="throw",e.arg=c.arg)}}}function S(a,o){var e=o.method,s=a.iterator[e];if(s===t)return o.delegate=null,"throw"===e&&a.iterator.return&&(o.method="return",o.arg=t,S(a,o),"throw"===o.method)||"return"!==e&&(o.method="throw",o.arg=new TypeError("The iterator does not provide a '"+e+"' method")),h;var r=v(s,a.iterator,o.arg);if("throw"===r.type)return o.method="throw",o.arg=r.arg,o.delegate=null,h;var i=r.arg;return i?i.done?(o[a.resultName]=i.value,o.next=a.nextLoc,"return"!==o.method&&(o.method="next",o.arg=t),o.delegate=null,h):i:(o.method="throw",o.arg=new TypeError("iterator result is not an object"),o.delegate=null,h)}function D(t){var a={tryLoc:t[0]};1 in t&&(a.catchLoc=t[1]),2 in t&&(a.finallyLoc=t[2],a.afterLoc=t[3]),this.tryEntries.push(a)}function N(t){var a=t.completion||{};a.type="normal",delete a.arg,t.completion=a}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(D,this),this.reset(!0)}function U(a){if(a||""===a){var o=a[l];if(o)return o.call(a);if("function"==typeof a.next)return a;if(!isNaN(a.length)){var s=-1,i=function o(){for(;++s<a.length;)if(r.call(a,s))return o.value=a[s],o.done=!1,o;return o.value=t,o.done=!0,o};return i.next=i}}throw new TypeError(e(a)+" is not iterable")}return C.prototype=y,i(M,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:C,configurable:!0}),C.displayName=d(y,u,"GeneratorFunction"),a.isGeneratorFunction=function(t){var a="function"==typeof t&&t.constructor;return!!a&&(a===C||"GeneratorFunction"===(a.displayName||a.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,d(t,u,"GeneratorFunction")),t.prototype=Object.create(M),t},a.awrap=function(t){return{__await:t}},P(A.prototype),d(A.prototype,c,(function(){return this})),a.AsyncIterator=A,a.async=function(t,o,e,s,r){void 0===r&&(r=Promise);var i=new A(m(t,o,e,s),r);return a.isGeneratorFunction(o)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},P(M),d(M,u,"Generator"),d(M,l,(function(){return this})),d(M,"toString",(function(){return"[object Generator]"})),a.keys=function(t){var a=Object(t),o=[];for(var e in a)o.push(e);return o.reverse(),function t(){for(;o.length;){var e=o.pop();if(e in a)return t.value=e,t.done=!1,t}return t.done=!0,t}},a.values=U,E.prototype={constructor:E,reset:function(a){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!a)for(var o in this)"t"===o.charAt(0)&&r.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(a){if(this.done)throw a;var o=this;function e(e,s){return n.type="throw",n.arg=a,o.next=e,s&&(o.method="next",o.arg=t),!!s}for(var s=this.tryEntries.length-1;s>=0;--s){var i=this.tryEntries[s],n=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(t,a){for(var o=this.tryEntries.length-1;o>=0;--o){var e=this.tryEntries[o];if(e.tryLoc<=this.prev&&r.call(e,"finallyLoc")&&this.prev<e.finallyLoc){var s=e;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=a&&a<=s.finallyLoc&&(s=null);var i=s?s.completion:{};return i.type=t,i.arg=a,s?(this.method="next",this.next=s.finallyLoc,h):this.complete(i)},complete:function(t,a){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&a&&(this.next=a),h},finish:function(t){for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a];if(o.finallyLoc===t)return this.complete(o.completion,o.afterLoc),N(o),h}},catch:function(t){for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a];if(o.tryLoc===t){var e=o.completion;if("throw"===e.type){var s=e.arg;N(o)}return s}}throw Error("illegal catch attempt")},delegateYield:function(a,o,e){return this.delegate={iterator:U(a),resultName:o,nextLoc:e},"next"===this.method&&(this.arg=t),h}},a}function r(t,a,o,e,s,r,i){try{var n=t[r](i),l=n.value}catch(t){return void o(t)}n.done?a(l):Promise.resolve(l).then(e,s)}var i=o(14941).call(void 0);const n={data:function(){return{fecha:"",isRegistros_Loading:!1,columns_registros:["model_id","fecha_hora","usuario","modelo","nuevo","cambios"],list_registros:[],options_registros:{headings:{model_id:"Id",fecha_hora:"Fecha"},perPage:30,perPageValues:[],skin:i.skin,sortIcon:i.sortIcon,filterByColumn:!0,texts:i.texts}}},computed:{},methods:{Buscar:function(){var t,a=this;return(t=s().mark((function t(){var o;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.isRegistros_Loading=!0,t.next=3,axios.get("sistema/auditoria/obtener/"+a.fecha);case 3:o=t.sent,a.isRegistros_Loading=!1,o.data.status?a.list_registros=o.data.registros:toastr.error(o.data.mensaje);case 6:case"end":return t.stop()}}),t)})),function(){var a=this,o=arguments;return new Promise((function(e,s){var i=t.apply(a,o);function n(t){r(i,e,s,n,l,"next",t)}function l(t){r(i,e,s,n,l,"throw",t)}n(void 0)}))})()}},mounted:function(){var t=new Date,a=String(t.getDate()).padStart(2,"0"),o=String(t.getMonth()+1).padStart(2,"0"),e=t.getFullYear();this.fecha="".concat(e,"-").concat(o,"-").concat(a),this.Buscar()}};const l=(0,o(14486).A)(n,(function(){var t=this,a=t._self._c;return a("main",{staticClass:"main"},[a("div",{},[a("div",{staticClass:"card"},[t._m(0),t._v(" "),a("div",{staticClass:"card-body"},[a("div",{staticClass:"form-group row"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.fecha,expression:"fecha"}],staticClass:"form-control col-sm-2 ml-3",attrs:{type:"date"},domProps:{value:t.fecha},on:{input:function(a){a.target.composing||(t.fecha=a.target.value)}}}),t._v(" "),a("button",{staticClass:"btn btn-dark",on:{click:function(a){return t.Buscar()}}},[a("i",{staticClass:"fas fa-search"})])]),t._v(" "),a("vue-element-loading",{attrs:{active:t.isRegistros_Loading}}),t._v(" "),a("v-client-table",{attrs:{columns:t.columns_registros,data:t.list_registros,options:t.options_registros}})],1)])])])}),[function(){var t=this._self._c;return t("div",{staticClass:"card-header"},[t("i",{staticClass:"fa fa-align-justify"}),this._v(" Auditoria\n            ")])}],!1,null,null,null).exports},24141:(t,a,o)=>{"use strict";o.r(a),o.d(a,{default:()=>l});function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}function s(){s=function(){return a};var t,a={},o=Object.prototype,r=o.hasOwnProperty,i=Object.defineProperty||function(t,a,o){t[a]=o.value},n="function"==typeof Symbol?Symbol:{},l=n.iterator||"@@iterator",c=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function d(t,a,o){return Object.defineProperty(t,a,{value:o,enumerable:!0,configurable:!0,writable:!0}),t[a]}try{d({},"")}catch(t){d=function(t,a,o){return t[a]=o}}function m(t,a,o,e){var s=a&&a.prototype instanceof g?a:g,r=Object.create(s.prototype),n=new E(e||[]);return i(r,"_invoke",{value:L(t,o,n)}),r}function v(t,a,o){try{return{type:"normal",arg:t.call(a,o)}}catch(t){return{type:"throw",arg:t}}}a.wrap=m;var p="suspendedStart",f="suspendedYield",b="executing",_="completed",h={};function g(){}function C(){}function y(){}var w={};d(w,l,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x(U([])));k&&k!==o&&r.call(k,l)&&(w=k);var M=y.prototype=g.prototype=Object.create(w);function P(t){["next","throw","return"].forEach((function(a){d(t,a,(function(t){return this._invoke(a,t)}))}))}function A(t,a){function o(s,i,n,l){var c=v(t[s],t,i);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==e(d)&&r.call(d,"__await")?a.resolve(d.__await).then((function(t){o("next",t,n,l)}),(function(t){o("throw",t,n,l)})):a.resolve(d).then((function(t){u.value=t,n(u)}),(function(t){return o("throw",t,n,l)}))}l(c.arg)}var s;i(this,"_invoke",{value:function(t,e){function r(){return new a((function(a,s){o(t,e,a,s)}))}return s=s?s.then(r,r):r()}})}function L(a,o,e){var s=p;return function(r,i){if(s===b)throw Error("Generator is already running");if(s===_){if("throw"===r)throw i;return{value:t,done:!0}}for(e.method=r,e.arg=i;;){var n=e.delegate;if(n){var l=S(n,e);if(l){if(l===h)continue;return l}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(s===p)throw s=_,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);s=b;var c=v(a,o,e);if("normal"===c.type){if(s=e.done?_:f,c.arg===h)continue;return{value:c.arg,done:e.done}}"throw"===c.type&&(s=_,e.method="throw",e.arg=c.arg)}}}function S(a,o){var e=o.method,s=a.iterator[e];if(s===t)return o.delegate=null,"throw"===e&&a.iterator.return&&(o.method="return",o.arg=t,S(a,o),"throw"===o.method)||"return"!==e&&(o.method="throw",o.arg=new TypeError("The iterator does not provide a '"+e+"' method")),h;var r=v(s,a.iterator,o.arg);if("throw"===r.type)return o.method="throw",o.arg=r.arg,o.delegate=null,h;var i=r.arg;return i?i.done?(o[a.resultName]=i.value,o.next=a.nextLoc,"return"!==o.method&&(o.method="next",o.arg=t),o.delegate=null,h):i:(o.method="throw",o.arg=new TypeError("iterator result is not an object"),o.delegate=null,h)}function D(t){var a={tryLoc:t[0]};1 in t&&(a.catchLoc=t[1]),2 in t&&(a.finallyLoc=t[2],a.afterLoc=t[3]),this.tryEntries.push(a)}function N(t){var a=t.completion||{};a.type="normal",delete a.arg,t.completion=a}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(D,this),this.reset(!0)}function U(a){if(a||""===a){var o=a[l];if(o)return o.call(a);if("function"==typeof a.next)return a;if(!isNaN(a.length)){var s=-1,i=function o(){for(;++s<a.length;)if(r.call(a,s))return o.value=a[s],o.done=!1,o;return o.value=t,o.done=!0,o};return i.next=i}}throw new TypeError(e(a)+" is not iterable")}return C.prototype=y,i(M,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:C,configurable:!0}),C.displayName=d(y,u,"GeneratorFunction"),a.isGeneratorFunction=function(t){var a="function"==typeof t&&t.constructor;return!!a&&(a===C||"GeneratorFunction"===(a.displayName||a.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,d(t,u,"GeneratorFunction")),t.prototype=Object.create(M),t},a.awrap=function(t){return{__await:t}},P(A.prototype),d(A.prototype,c,(function(){return this})),a.AsyncIterator=A,a.async=function(t,o,e,s,r){void 0===r&&(r=Promise);var i=new A(m(t,o,e,s),r);return a.isGeneratorFunction(o)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},P(M),d(M,u,"Generator"),d(M,l,(function(){return this})),d(M,"toString",(function(){return"[object Generator]"})),a.keys=function(t){var a=Object(t),o=[];for(var e in a)o.push(e);return o.reverse(),function t(){for(;o.length;){var e=o.pop();if(e in a)return t.value=e,t.done=!1,t}return t.done=!0,t}},a.values=U,E.prototype={constructor:E,reset:function(a){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!a)for(var o in this)"t"===o.charAt(0)&&r.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(a){if(this.done)throw a;var o=this;function e(e,s){return n.type="throw",n.arg=a,o.next=e,s&&(o.method="next",o.arg=t),!!s}for(var s=this.tryEntries.length-1;s>=0;--s){var i=this.tryEntries[s],n=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(t,a){for(var o=this.tryEntries.length-1;o>=0;--o){var e=this.tryEntries[o];if(e.tryLoc<=this.prev&&r.call(e,"finallyLoc")&&this.prev<e.finallyLoc){var s=e;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=a&&a<=s.finallyLoc&&(s=null);var i=s?s.completion:{};return i.type=t,i.arg=a,s?(this.method="next",this.next=s.finallyLoc,h):this.complete(i)},complete:function(t,a){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&a&&(this.next=a),h},finish:function(t){for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a];if(o.finallyLoc===t)return this.complete(o.completion,o.afterLoc),N(o),h}},catch:function(t){for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a];if(o.tryLoc===t){var e=o.completion;if("throw"===e.type){var s=e.arg;N(o)}return s}}throw Error("illegal catch attempt")},delegateYield:function(a,o,e){return this.delegate={iterator:U(a),resultName:o,nextLoc:e},"next"===this.method&&(this.arg=t),h}},a}function r(t,a,o,e,s,r,i){try{var n=t[r](i),l=n.value}catch(t){return void o(t)}n.done?a(l):Promise.resolve(l).then(e,s)}var i=o(14941).call(void 0);const n={data:function(){return{url:"/usuario",modal:0,swal_titulo:"",swal_msg:"",swal_tle:"",empleado_id:0,tipo_ubicacion_id:"",listaUbicaciones:[],listaEmpleados:[],id:0,ver_id:!1,name:"",name_user:"",password:"",ubicacion:"",email:"",tituloModal:"",tipoAccion:0,error:0,session_id:0,isLoading:!1,columns:["id","name","name_user","email","condicion"],tableData:[],options:{headings:{id:"Acciones",name:"Nombre",name_user:"Usuario",email:"Email",condicion:"Estado",session_id:"Conexión"},perPage:10,perPageValues:[],skin:i.skin,sortIcon:i.sortIcon,filterByColumn:!0,listColumns:{"usuario.condicion":[{id:1,text:"Activo"},{id:0,text:"Baja"}]},texts:i.texts}}},methods:{ObtenerEmpleados:function(){var t=this;axios.get("generales/empleadoactivos").then((function(a){a.data.status?t.listaEmpleados=a.data.empleados:toas.error(a.data.mensaje)}))},ObtenerUbicaciones:function(){var t=this;axios.get("/rh/catalogos/tipoubicacion").then((function(a){t.listaUbicaciones=a.data.ubicaciones}))},GetUsers:function(){var t=this;this.isLoading=!0,axios.get(this.url).then((function(a){t.isLoading=!1,t.tableData=a.data.usuarios}))},GuardarUsuario:function(){var t,a=arguments,o=this;return(t=s().mark((function t(){var e,r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=!(a.length>0&&void 0!==a[0])||a[0],t.next=3,o.$validator.validate();case 3:if(t.sent){t.next=6;break}return t.abrupt("return");case 6:o.isLoading=!0,r=new FormData,e||r.append("id",o.id),r.append("name_user",o.name_user),r.append("name",o.empleado_id.nombre),r.append("password",o.password),r.append("email",o.email),r.append("tipo_ubicacion_id",o.tipo_ubicacion_id),r.append("empleado_id",o.empleado_id.id),axios.post(o.url,r).then((function(t){o.isLoading=!1,t.data.status?(o.cerrarModal(),toastr.success("Usuario Registrado Correctamente"),o.GetUsers()):toastr.error(t.data.mensaje)}));case 16:case"end":return t.stop()}}),t)})),function(){var a=this,o=arguments;return new Promise((function(e,s){var i=t.apply(a,o);function n(t){r(i,e,s,n,l,"next",t)}function l(t){r(i,e,s,n,l,"throw",t)}n(void 0)}))})()},Desactivar:function(t){var a=this;swal({title:"Desactivar este usuario",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Aceptar",cancelButtonText:"Cancelar",confirmButtonClass:"btn btn-success",cancelButtonClass:"btn btn-danger",buttonsStyling:!1,reverseButtons:!0}).then((function(o){o.value&&axios.get(a.url+"/"+t+"/edit").then((function(t){toastr.success("Desactivado correctamente"),a.GetUsers()}))}))},cerrarModal:function(){this.modal=0,this.name="",this.name_user="",this.password="",this.tipo_ubicacion_id="",this.email="",this.tipoAccion=1,this.empleado_id=0},abrirModal:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.ObtenerEmpleados(),this.ObtenerUbicaciones(),this.modal=1,t?(this.tituloModal="Registrar Usuario",this.tipoAccion=1):(this.tituloModal="Actualizar Usuario ",this.id=a.id,this.name_user=a.name_user,this.email=a.email,this.tipo_ubicacion_id=a.tipo_ubicacion_id,this.empleado_id={id:a.e_id,nombre:a.name},this.name=this.empleado_id.nombre,this.tipoAccion=2)},Ver:function(t){axios.post("sistema/permisos/cambiar",{user_id:t}).then((function(t){}))}},mounted:function(){this.GetUsers()}};const l=(0,o(14486).A)(n,(function(){var t=this,a=t._self._c;return a("main",{staticClass:"main"},[a("div",{},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("i",{staticClass:"fa fa-align-justify"}),t._v(" Usuarios\n                "),a("button",{staticClass:"btn btn-dark float-sm-right",attrs:{type:"button"},on:{click:function(a){return t.abrirModal()}}},[a("i",{staticClass:"fas fa-plus mr-1"}),t._v("Nuevo\n                ")]),t._v(" "),a("button",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"btn btn-dark float-sm-right",attrs:{type:"button"},on:{click:function(a){t.ver_id=!0}}},[a("i",{staticClass:"fas fa-list mr-1"}),t._v("Yolo\n                ")])]),t._v(" "),a("div",{staticClass:"card-body"},[a("div",[a("vue-element-loading",{attrs:{active:t.isLoading}}),t._v(" "),a("v-client-table",{ref:"myTable",attrs:{columns:t.columns,data:t.tableData,options:t.options},scopedSlots:t._u([{key:"id",fn:function(o){return[a("div",{staticClass:"btn-group",attrs:{role:"group","aria-label":"Button group with nested dropdown"}},[a("div",{staticClass:"btn-group dropup",attrs:{role:"group"}},[a("button",{staticClass:"btn btn-outline-dark dropdown-toggle",attrs:{id:"btnGroupDrop1",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[a("i",{staticClass:"fas fa-grip-horizontal"}),t._v(" Acciones\n                                    ")]),t._v(" "),a("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"btnGroupDrop1"}},[[a("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(a){return t.abrirModal(0,o.row)}}},[a("i",{staticClass:"fas fa-edit mr-1"}),t._v("Actualizar\n                                            ")]),t._v(" "),a("button",{directives:[{name:"show",rawName:"v-show",value:t.ver_id,expression:"ver_id"}],staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(a){return t.Ver(o.row.id)}}},[a("i",{staticClass:"fas fa-edit mr-1"}),t._v("Ver\n                                            ")])],t._v(" "),o.row.condicion?[a("button",{staticClass:"dropdown-item",on:{click:function(a){return t.Desactivar(o.row.id,0)}}},[a("i",{staticClass:"fas fa-ban mr-1"}),t._v("Desactivar\n                                            ")])]:t._e()],2)])])]}},{key:"condicion",fn:function(o){return[o.row.condicion?[a("button",{staticClass:"btn btn-outline-success",attrs:{type:"button"}},[t._v("Activo")])]:[a("button",{staticClass:"btn btn-outline-danger",attrs:{type:"button"}},[t._v("Dado de Baja")])]]}},{key:"session_id",fn:function(o){return[o.row.session_id?[a("button",{staticClass:"btn btn-success",attrs:{type:"button"}},[t._v("Online")])]:[a("button",{staticClass:"btn btn-danger",attrs:{type:"button"}},[t._v("Offline")])]]}}])})],1)])])]),t._v(" "),a("div",{staticClass:"modal fade",class:{mostrar:t.modal},staticStyle:{display:"none"},attrs:{tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel","aria-hidden":"true"}},[a("vue-element-loading",{attrs:{active:t.isLoading}}),t._v(" "),a("div",{staticClass:"modal-dialog modal-dark modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",[a("div",{staticClass:"modal-header"},[a("h4",{staticClass:"modal-title",domProps:{textContent:t._s(t.tituloModal)}}),t._v(" "),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(a){return t.cerrarModal()}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("x")])])]),t._v(" "),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"form form-horizontal"},[a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-2",attrs:{for:"text-input"}},[t._v("Usuario")]),t._v(" "),a("div",{staticClass:"col-md-4"},[a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.name_user,expression:"name_user"}],staticClass:"form-control",attrs:{type:"text",name:"name_user",placeholder:"Nombre de Usuario"},domProps:{value:t.name_user},on:{input:function(a){a.target.composing||(t.name_user=a.target.value)}}}),t._v(" "),a("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("name_user")))])])]),t._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-2",attrs:{for:"text-input"}},[t._v("Correo")]),t._v(" "),a("div",{staticClass:"col-md-4"},[a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"text","data-vv-name":"Correo",autocomplete:"false",pattern:"^\\w+\\.\\w+@conserflow.com$",placeholder:"Correo"},domProps:{value:t.email},on:{input:function(a){a.target.composing||(t.email=a.target.value)}}}),t._v(" "),a("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Correo")))])]),t._v(" "),a("label",{staticClass:"col-md-2",attrs:{for:"text-input"}},[t._v("Password")]),t._v(" "),a("div",{staticClass:"col-md-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",name:"password",placeholder:"Nueva Contraseña","data-vv-name":"Contraseña"},domProps:{value:t.password},on:{input:function(a){a.target.composing||(t.password=a.target.value)}}}),t._v(" "),a("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Contraseña")))])])]),t._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-2",attrs:{for:"text-input"}},[t._v("Ubicacion")]),t._v(" "),a("div",{staticClass:"col-md-4"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.tipo_ubicacion_id,expression:"tipo_ubicacion_id"},{name:"validate",rawName:"v-validate",value:"excluded:0",expression:"'excluded:0'"}],staticClass:"form-control",attrs:{id:"tipo_ubicacion_id",name:"tipo_ubicacion_id","data-vv-as":"Ubicacion"},on:{change:function(a){var o=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.tipo_ubicacion_id=a.target.multiple?o:o[0]}}},t._l(t.listaUbicaciones,(function(o){return a("option",{key:o.id,domProps:{value:o.id}},[t._v(t._s(o.nombre))])})),0),t._v(" "),a("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("tipo_ubicacion_id")))])])]),t._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-2 form-control-label",attrs:{form:"text-empleado"}},[t._v("Empleado")]),t._v(" "),a("div",{staticClass:"col-md-6"},[a("v-select",{attrs:{label:"nombre",options:t.listaEmpleados,"data-vv-name":"empleado"},model:{value:t.empleado_id,callback:function(a){t.empleado_id=a},expression:"empleado_id"}}),t._v(" "),a("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("empleado")))])],1)])])]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-outline-dark",attrs:{type:"button"},on:{click:function(a){return t.cerrarModal()}}},[a("i",{staticClass:"fas fa-window-close"}),t._v(" Cerrar")]),t._v(" "),1==t.tipoAccion?a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(a){return t.GuardarUsuario()}}},[a("i",{staticClass:"fas fa-save"}),t._v(" Guardar")]):t._e(),t._v(" "),2==t.tipoAccion?a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(a){return t.GuardarUsuario(0)}}},[a("i",{staticClass:"fas fa-save"}),t._v(" Actualizar")]):t._e()])])])])],1)])}),[],!1,null,null,null).exports},97989:(t,a,o)=>{"use strict";o.r(a),o.d(a,{default:()=>i});var e=o(60173),s=o(14941).call(void 0);const r={data:function(){return{permiso:{id:0,proyecto_categoria_id:0,proyecto_subcategoria_id:0,user_id:0},listaCategorias:[],listaSubcategorias:[],listaUsuarios:[],modal:0,tituloModal:"",tipoAccion:0,isLoading:!1,isLoadingCat:!1,isLoadingSubcat:!1,columns:["id","categoria","subcategoria","usuario"],tableData:[],options:{headings:{categoria:"Categoria",subcategoria:"Subcategoria",usuario:"Usuario",id:"Acción"},perPage:10,perPageValues:[],skin:s.skin,sortIcon:s.sortIcon,sortable:["categoria","usuario","subcategoria"],filterable:["categoria","usuario","subcategoria"],filterByColumn:!0,texts:s.texts}}},computed:{},methods:{getData:function(){var t=this;axios.get("/usuariocategoria").then((function(a){t.tableData=a.data})).catch((function(t){console.log(t)}))},getListaCategorias:function(){var t=this;t.isLoadingCat=!0,axios.get("/procategoria/getlist").then((function(a){t.listaCategorias=a.data,t.isLoadingCat=!1})).catch((function(t){console.log(t)}))},getListaSubcategorias:function(){var t=this;t.isLoadingSubcat=!0,axios.get("/prosubcategoria/getlist").then((function(a){t.listaSubcategorias=a.data,t.isLoadingSubcat=!1})).catch((function(t){console.log(t)}))},subcat:function(){var t=this;t.isLoadingSubcat=!0,axios.get("/prosubcategoria/getlistbycat/"+this.permiso.proyecto_categoria_id).then((function(a){t.listaSubcategorias=a.data,t.isLoadingSubcat=!1})).catch((function(t){console.log(t)}))},getListaUsuarios:function(){var t=this;axios.get("/usuario").then((function(a){t.listaUsuarios=a.data.usuarios})).catch((function(t){console.log(t)}))},guardarTodos:function(){this.isLoading=!0;var t=this;axios({method:"POST",url:"/usuariocategoria/todos",data:{user_id:this.permiso.user_id}}).then((function(a){t.isLoading=!1,a.data.status?(t.cerrarModal(),t.getData(),toastr.success("Se asignaron todas las subcategorias correctamente")):swal({type:"error",html:a.data.errors.join("<br>")})})).catch((function(t){console.log(t)}))},guardarPermiso:function(){var t=this;this.$validator.validate().then((function(a){if(a){t.isLoading=!0;var o=t;axios({method:"POST",url:"/usuariocategoria/registrar",data:{proyecto_categoria_id:t.permiso.proyecto_categoria_id,proyecto_subcategoria_id:t.permiso.proyecto_subcategoria_id,user_id:t.permiso.user_id,id:t.permiso.id}}).then((function(t){o.isLoading=!1,t.data.status?(o.cerrarModal(),o.getData(),toastr.success("Permiso Registrado Correctamente")):swal({type:"error",html:t.data.errors.join("<br>")})})).catch((function(t){console.log(t)}))}}))},eliminar:function(t){var a=this;swal({title:"Esta seguro de eliminar este Permiso?",type:"warning",showCancelButton:!0,confirmButtonColor:"#4dbd74",cancelButtonColor:"#f86c6b",confirmButtonText:"Aceptar!",cancelButtonText:"Cancelar",reverseButtons:!0}).then((function(o){if(o.value){var e=a;axios.put("/usuariocategoria/eliminar",{id:t}).then((function(t){toastr.error("Permiso Desactivado Correctamente"),e.getData()})).catch((function(t){console.log(t)}))}}))},cerrarModal:function(){this.modal=0,this.tituloModal="",e.A.resetObject(this.permiso)},abrirModal:function(t,a){if("permiso"===t)if("registrar"===a)this.modal=1,this.tituloModal="Registrar usuario-categoria-subcategoria",e.A.resetObject(this.permiso),this.tipoAccion=1}},mounted:function(){this.getData(),this.getListaCategorias(),this.getListaUsuarios()}};const i=(0,o(14486).A)(r,(function(){var t=this,a=t._self._c;return a("main",{staticClass:"main"},[a("div",{},[a("br"),t._v(" "),a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("i",{staticClass:"fa fa-align-justify"}),t._v(" Usuarios Categorias Subcategorias\n                "),a("button",{staticClass:"btn btn-dark float-sm-right",attrs:{type:"button"},on:{click:function(a){return t.abrirModal("permiso","registrar")}}},[a("i",{staticClass:"fas fa-plus"}),t._v(" Nuevo\n                ")])]),t._v(" "),a("div",{staticClass:"card-body"},[a("v-client-table",{ref:"myTable",attrs:{columns:t.columns,data:t.tableData,options:t.options},scopedSlots:t._u([{key:"id",fn:function(o){return[a("div",{staticClass:"btn-group",attrs:{role:"group","aria-label":"Button group with nested dropdown"}},[a("div",{staticClass:"btn-group dropup",attrs:{role:"group"}},[a("button",{staticClass:"btn btn-outline-dark dropdown-toggle",attrs:{id:"btnGroupDrop1",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[a("i",{staticClass:"fas fa-grip-horizontal"}),t._v("  Acciones\n                            ")]),t._v(" "),a("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"btnGroupDrop1"}},[[a("button",{staticClass:"dropdown-item",attrs:{type:"button",href:"#"},on:{click:function(a){return t.eliminar(o.row.id)}}},[a("i",{staticClass:"icon-trash"}),t._v("  Eliminar Usuario Categoria\n                        ")])]],2)])])]}}])})],1)])]),t._v(" "),a("div",{staticClass:"modal fade",class:{mostrar:t.modal},staticStyle:{display:"none"},attrs:{tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel","aria-hidden":"true"}},[a("vue-element-loading",{attrs:{active:t.isLoading}}),t._v(" "),a("div",{staticClass:"modal-dialog modal-dark modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",[a("div",{staticClass:"modal-header"},[a("h4",{staticClass:"modal-title",domProps:{textContent:t._s(t.tituloModal)}}),t._v(" "),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(a){return t.cerrarModal()}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v(" ×")])])]),t._v(" "),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"form-group row"},[a("vue-element-loading",{attrs:{active:t.isLoadingCat}}),t._v(" "),a("label",{staticClass:"col-md-3 form-control-label",attrs:{for:"proyecto_categoria_id"}},[t._v("Categoria")]),t._v(" "),a("div",{staticClass:"col-md-9"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.permiso.proyecto_categoria_id,expression:"permiso.proyecto_categoria_id"},{name:"validate",rawName:"v-validate",value:"excluded:0",expression:"'excluded:0'"}],staticClass:"form-control",attrs:{id:"proyecto_categoria_id",name:"proyecto_categoria_id","data-vv-as":"Elemento Dashboard"},on:{change:[function(a){var o=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.permiso,"proyecto_categoria_id",a.target.multiple?o:o[0])},t.subcat]}},t._l(t.listaCategorias,(function(o){return a("option",{key:o.id,domProps:{value:o.id}},[t._v(t._s(o.nombre))])})),0),t._v(" "),a("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("proyecto_categoria_id")))])])],1),t._v(" "),a("div",{staticClass:"form-group row"},[a("vue-element-loading",{attrs:{active:t.isLoadingSubcat}}),t._v(" "),a("label",{staticClass:"col-md-3 form-control-label",attrs:{for:"proyecto_subcategoria_id"}},[t._v("Subcategoria")]),t._v(" "),a("div",{staticClass:"col-md-9"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.permiso.proyecto_subcategoria_id,expression:"permiso.proyecto_subcategoria_id"},{name:"validate",rawName:"v-validate",value:"excluded:0",expression:"'excluded:0'"}],staticClass:"form-control",attrs:{id:"proyecto_subcategoria_id",name:"proyecto_subcategoria_id","data-vv-as":"Elemento Dashboard"},on:{change:function(a){var o=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.permiso,"proyecto_subcategoria_id",a.target.multiple?o:o[0])}}},t._l(t.listaSubcategorias,(function(o){return a("option",{key:o.id,domProps:{value:o.id}},[t._v(t._s(o.nombre))])})),0),t._v(" "),a("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("proyecto_subcategoria_id")))])])],1),t._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-3 form-control-label",attrs:{for:"user_id"}},[t._v("Usuario")]),t._v(" "),a("div",{staticClass:"col-md-9"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.permiso.user_id,expression:"permiso.user_id"},{name:"validate",rawName:"v-validate",value:"excluded:0",expression:"'excluded:0'"}],staticClass:"form-control",attrs:{id:"user_id",name:"user_id","data-vv-as":"Usuario"},on:{change:function(a){var o=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.permiso,"user_id",a.target.multiple?o:o[0])}}},t._l(t.listaUsuarios,(function(o){return a("option",{key:o.id,domProps:{value:o.id}},[t._v(t._s(o.name))])})),0),t._v(" "),a("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("user_id")))])])])]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-outline-dark",attrs:{type:"button"},on:{click:function(a){return t.cerrarModal()}}},[a("i",{staticClass:"fas fa-times"}),t._v(" Cerrar")]),t._v(" "),1==t.tipoAccion?a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(a){return t.guardarPermiso()}}},[a("i",{staticClass:"fas fa-save"}),t._v(" Guardar")]):t._e(),t._v(" "),1==t.tipoAccion?a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(a){return t.guardarTodos()}}},[a("i",{staticClass:"fas fa-save"}),t._v(" Todos")]):t._e()])])])])],1)])}),[],!1,null,null,null).exports}}]);