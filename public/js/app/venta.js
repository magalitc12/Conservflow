(self.webpackChunk=self.webpackChunk||[]).push([[735],{14941:e=>{e.exports=function(){return{dateColumns:[],listColumns:{},datepickerOptions:{locale:{cancelLabel:"Clear"}},datepickerPerColumnOptions:{},initialPage:1,perPage:10,perPageValues:[10,25,50,100],groupBy:!1,collapseGroups:!1,destroyEventBus:!1,sendEmptyFilters:!1,params:{},sortable:!0,filterable:!0,groupMeta:[],initFilters:{},customFilters:[],templates:{},debounce:250,dateFormat:"DD/MM/YYYY",dateFormatPerColumn:{},toMomentFormat:!1,skin:"table table-striped table-bordered table-hover table-sm",skinBusqueda:"table table-striped table-bordered table-hover table-sm busqueda",columnsDisplay:{},columnsDropdown:!1,texts:{count:"Mostrando del {from} al  {to} de {count} registros|{count} registros|Un registro",first:"Primero",last:"Ultimo",filter:"Buscar:",filterPlaceholder:"Buscar...",limit:"Registros:",page:"Pagina:",noResults:"No se encontraron registros",filterBy:"Filtrar por {column}",loading:"Cargando...",defaultOption:"Seleccionar {column}",columns:"Columnas"},sortIcon:{base:"fa",up:"fa-chevron-up",down:"fa-chevron-down",is:"fa-sort"},sortingAlgorithm:function(e,t){return e.sort(this.getSortFn(t))},customSorting:{},multiSorting:{},clientMultiSorting:!0,serverMultiSorting:!1,filterByColumn:!1,highlightMatches:!1,orderBy:!1,descOrderColumns:[],footerHeadings:!1,headings:{},headingsTooltips:{},pagination:{dropdown:!1,chunk:10,edge:!1,align:"center",nav:"fixed"},childRow:!1,childRowTogglerFirst:!0,uniqueKey:"id",requestFunction:!1,requestAdapter:function(e){return e},responseAdapter:function(e){var t=this.getResponseData(e);return{data:t.data,count:t.count}},requestKeys:{query:"query",limit:"limit",orderBy:"orderBy",ascending:"ascending",page:"page",byColumn:"byColumn"},rowClassCallback:!1,preserveState:!1,saveState:!1,storage:"local",columnsClasses:{},columnCondicion:[{id:1,text:"Activo"},{id:0,text:"Desactivado"}]}}},60173:(e,t,a)=>{"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}a.d(t,{A:()=>o});const o={resetObject:function(e){for(var t in e)"string"==typeof e[t]?e[t]="":"number"==typeof e[t]?e[t]=0:void 0===i(e[t])?e[t]=null:"object"===i(e[t])&&(e[t]={})},getCRUD:function(e){var t=new FormData;t.append("ruta",e),t.append("identificador",1);var a={Create:!1,Read:!1,Update:!1,Delete:!1,Download:!1,Upload:!1};return axios.post("/CRUD",t).then((function(e){for(var t=0;t<e.data.length;t++)1==e.data[t].control_id&&(a.Create=!0),2==e.data[t].control_id&&(a.Read=!0),3==e.data[t].control_id&&(a.Update=!0),4==e.data[t].control_id&&(a.Delete=!0),5==e.data[t].control_id&&(a.Download=!0),6==e.data[t].control_id&&(a.Upload=!0)})).catch((function(e){console.log(e)})),a}}},38560:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});var i=a(60173),o=a(14941).call(void 0);const s={data:function(){return{detallecontacto:!1,PermisosCRUD:{},tituloModal:"",isClientesLoading:!1,modal:0,columns:["id","nombre","rfc","contacto","telefono","nombre_empleado","regimen_fiscal"],listClientes:[],tipoAccion:0,optionsvs:[],isLoading:!1,listaEmpleados:[],listaContacto:[],clientes:{id:0,nombre:"",rfc:"",domicilio_fiscal:"",domicilio_alterno:"NA",contacto:"",telefono:"",ejecutivo_asignado_id:"",calle:"",numero_interior:"",numero_exterior:"",codigo_postal:"",colonia:"",municipio:"",regimen_fiscal:"",entidad_federativa:""},options:{headings:{id:"Acciones",rfc:"RFC",domicilio_fiscal:"Domicilio fiscal",domicilio_alterno:"Domicilio alterno",nombre_empleado:"Ejecutivo Asignado",telefono:"Teléfono",cn:"Contacto"},perPage:10,perPageValues:[],skin:o.skin,sortIcon:o.sortIcon,filterByColumn:!0,texts:o.texts},list_regimen:[]}},components:{},methods:{getData:function(){this.PermisosCRUD=i.A.getCRUD(this.$route.path),this.ObtenerClientes()},ObtenerClientes:function(){var e=this;this.isClientesLoading=!0,axios.get("/clientes").then((function(t){e.isClientesLoading=!1,t.data.status?e.listClientes=t.data.clientes:toastr.error(t.data.mensaje)}))},ObtenerEmpleados:function(){var e=this;axios.get("generales/empleadoactivos").then((function(t){t.data.status?e.listaEmpleados=t.data.empleados:toastr.error(t.data.mensaje)})).catch((function(e){console.log(e)}))},abrirModal:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.ObtenerEmpleados(),this.ObtenerRegimen(),this.modal=1,e?(this.tituloModal="Registrar Cliente",this.tipoAccion=1,this.clientes.domicilio_alterno="N/D"):(this.tituloModal="Actualizar Cliente",this.tipoAccion=2,this.clientes.id=t.id,this.clientes.nombre=t.nombre,this.clientes.rfc=t.rfc,this.clientes.domicilio_fiscal=t.domicilio_fiscal,this.clientes.domicilio_alterno=t.domicilio_alterno,this.clientes.contacto=t.contacto,this.clientes.telefono=t.telefono,this.clientes.calle=t.calle,this.clientes.numero_interior=t.numero_interior,this.clientes.numero_exterior=t.numero_exterior,this.clientes.codigo_postal=t.codigo_postal,this.clientes.colonia=t.colonia,this.clientes.municipio=t.municipio,this.clientes.entidad_federativa=t.entidad_federativa,this.clientes.ejecutivo_asignado_id=t.ejecutivo_asignado_id,this.clientes.regimen_fiscal=t.regimen_fiscal)},cerrarModal:function(){this.modal=0,i.A.resetObject(this.clientes)},guardar:function(e){var t=this;this.$validator.validate().then((function(a){if(a){t.isLoading=!0;var i=t.clientes.domicilio_alterno;""==i&&(i="NA"),axios({method:e?"POST":"PUT",url:e?"/clientes":"/clientes/"+t.clientes.id,data:{nombre:t.clientes.nombre.toUpperCase(),rfc:t.clientes.rfc.toUpperCase(),domicilio_alterno:i.toUpperCase(),contacto:t.clientes.contacto,regimen_fiscal:t.clientes.regimen_fiscal,telefono:t.clientes.telefono,calle:t.clientes.calle,numero_interior:t.clientes.numero_interior,numero_exterior:t.clientes.numero_exterior,codigo_postal:t.clientes.codigo_postal,colonia:t.clientes.colonia,municipio:t.clientes.municipio,entidad_federativa:t.clientes.entidad_federativa}}).then((function(a){t.isLoading=!1,a.data.status?(t.cerrarModal(),t.ObtenerClientes(),e?toastr.success("Cliente Registrado Correctamente"):toastr.success("Cliente Actualizado Correctamente")):toastr.error(a.data.mensaje)})).catch((function(e){console.log(e)}))}}))},maestro:function(){this.detallecontacto=!1},ObtenerRegimen:function(){var e=this;this.isObtener_loading=!0,axios.get("ventas/catalogos/regimenfiscal").then((function(t){t.data.status?e.list_regimen=t.data.list_regimen:toastr.error(t.data.mensaje)}))}},mounted:function(){this.getData()}};const n=(0,a(14486).A)(s,(function(){var e=this,t=e._self._c;return t("main",{staticClass:"main"},[t("div",{staticClass:"container-fluid"},[t("br"),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:!e.detallecontacto,expression:"!detallecontacto"}],staticClass:"card"},[t("div",{staticClass:"card-header"},[t("i",{staticClass:"fa fa-align-justify"}),e._v(" Clientes\n                "),t("button",{directives:[{name:"show",rawName:"v-show",value:e.PermisosCRUD.Create,expression:"PermisosCRUD.Create"}],staticClass:"btn btn-dark float-sm-right",attrs:{type:"button"},on:{click:function(t){return e.abrirModal()}}},[t("i",{staticClass:"fas fa-plus"}),e._v(" Nuevo\n                ")])]),e._v(" "),t("div",{staticClass:"card-body"},[t("vue-element-loading",{attrs:{active:e.isClientesLoading}}),e._v(" "),t("v-client-table",{ref:"myTable",attrs:{columns:e.columns,data:e.listClientes,options:e.options},scopedSlots:e._u([{key:"id",fn:function(a){return[t("div",{staticClass:"btn-group",attrs:{role:"group","aria-label":"Button group with nested dropdown"}},[t("div",{staticClass:"btn-group dropup",attrs:{role:"group"}},[t("button",{staticClass:"btn btn-outline-dark dropdown-toggle",attrs:{id:"btnGroupDrop1",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t("i",{staticClass:"fas fa-grip-horizontal"}),e._v(" Acciones\n                                ")]),e._v(" "),t("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"btnGroupDrop1"}},[t("button",{directives:[{name:"show",rawName:"v-show",value:e.PermisosCRUD.Update,expression:"PermisosCRUD.Update"}],staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(t){return e.abrirModal(!1,a.row)}}},[t("i",{staticClass:"icon-pencil"}),e._v("  Actualizar cliente.\n                                    ")])])])])]}}])})],1)]),e._v(" "),t("div",{staticClass:"modal fade",class:{mostrar:e.modal},staticStyle:{display:"none"},attrs:{tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel","aria-hidden":"true"}},[t("div",{staticClass:"modal-dialog modal-dark modal-lg",attrs:{role:"document"}},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header"},[t("h4",{staticClass:"modal-title",domProps:{textContent:e._s(e.tituloModal)}}),e._v(" "),t("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(t){return e.cerrarModal()}}},[t("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])]),e._v(" "),t("div",{staticClass:"modal-body"},[t("vue-element-loading",{attrs:{active:e.isLoading}}),e._v(" "),t("div",{staticClass:"container"},[t("div",{staticClass:"form-row"},[t("div",{staticClass:"form-group col-md-6"},[t("label",[e._v(" Nombre")]),e._v(" "),t("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:e.clientes.nombre,expression:"clientes.nombre"}],staticClass:"form-control",attrs:{type:"text","data-vv-name":"nombre",placeholder:"Nombre"},domProps:{value:e.clientes.nombre},on:{input:function(t){t.target.composing||e.$set(e.clientes,"nombre",t.target.value)}}}),e._v(" "),t("span",{staticClass:"text-danger"},[e._v(e._s(e.errors.first("nombre")))])]),e._v(" "),t("div",{staticClass:"form-group col-md-6"},[t("label",[e._v(" RFC")]),e._v(" "),t("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:e.clientes.rfc,expression:"clientes.rfc"}],staticClass:"form-control",attrs:{type:"text","data-vv-name":"RFC",placeholder:"RFC"},domProps:{value:e.clientes.rfc},on:{input:function(t){t.target.composing||e.$set(e.clientes,"rfc",t.target.value)}}}),e._v(" "),t("span",{staticClass:"text-danger"},[e._v(e._s(e.errors.first("RFC")))])])]),e._v(" "),t("div",{staticClass:"form-row"},[t("div",{staticClass:"form-group col-md-6"},[t("label",[e._v("Calle ")]),e._v(" "),t("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:e.clientes.calle,expression:"clientes.calle"}],staticClass:"form-control",attrs:{type:"text","data-vv-name":"Calle",placeholder:"Calle"},domProps:{value:e.clientes.calle},on:{input:function(t){t.target.composing||e.$set(e.clientes,"calle",t.target.value)}}}),e._v(" "),t("span",{staticClass:"text-danger"},[e._v(e._s(e.errors.first("Calle")))])]),e._v(" "),t("div",{staticClass:"form-group col-md-3"},[t("label",[e._v(" No. Exterior ")]),e._v(" "),t("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:e.clientes.numero_exterior,expression:"clientes.numero_exterior"}],staticClass:"form-control",attrs:{type:"text","data-vv-name":"No. exterior",placeholder:"No. exterior"},domProps:{value:e.clientes.numero_exterior},on:{input:function(t){t.target.composing||e.$set(e.clientes,"numero_exterior",t.target.value)}}}),e._v(" "),t("span",{staticClass:"text-danger"},[e._v(e._s(e.errors.first("No. exterior")))])]),e._v(" "),t("div",{staticClass:"form-group col-md-3"},[t("label",[e._v(" No. Interior ")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.clientes.numero_interior,expression:"clientes.numero_interior"}],staticClass:"form-control",attrs:{type:"text","data-vv-name":"No. interior",placeholder:"No. interior"},domProps:{value:e.clientes.numero_interior},on:{input:function(t){t.target.composing||e.$set(e.clientes,"numero_interior",t.target.value)}}}),e._v(" "),t("span",{staticClass:"text-danger"},[e._v(e._s(e.errors.first("No. interior")))])])]),e._v(" "),t("div",{staticClass:"form-row"},[t("div",{staticClass:"form-group col-md-6"},[t("label",[e._v("Régimen Fiscal")]),e._v(" "),t("select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:e.clientes.regimen_fiscal,expression:"clientes.regimen_fiscal"}],staticClass:"form-control",attrs:{"data-vv-name":"Régimen Fiscal"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.clientes,"regimen_fiscal",t.target.multiple?a:a[0])}}},e._l(e.list_regimen,(function(a,i){return t("option",{key:i,domProps:{value:a.clave}},[e._v(e._s(a.clave)+" - "+e._s(a.nombre))])})),0),e._v(" "),t("span",{staticClass:"text-danger"},[e._v(e._s(e.errors.first("Régimen Fiscal")))])])]),e._v(" "),t("div",{staticClass:"form-row"},[t("div",{staticClass:"form-group col-md-3"},[t("label",[e._v("Código Postal ")]),e._v(" "),t("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:e.clientes.codigo_postal,expression:"clientes.codigo_postal"}],staticClass:"form-control",attrs:{type:"text","data-vv-name":"Código postal",placeholder:"Código postal"},domProps:{value:e.clientes.codigo_postal},on:{input:function(t){t.target.composing||e.$set(e.clientes,"codigo_postal",t.target.value)}}}),e._v(" "),t("span",{staticClass:"text-danger"},[e._v(e._s(e.errors.first("Código postal")))])]),e._v(" "),t("div",{staticClass:"form-group col-md-6"},[t("label",[e._v("Colonia ")]),e._v(" "),t("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:e.clientes.colonia,expression:"clientes.colonia"}],staticClass:"form-control",attrs:{type:"text","data-vv-name":"Colonia",placeholder:"Colonia"},domProps:{value:e.clientes.colonia},on:{input:function(t){t.target.composing||e.$set(e.clientes,"colonia",t.target.value)}}}),e._v(" "),t("span",{staticClass:"text-danger"},[e._v(e._s(e.errors.first("Colonia")))])])]),e._v(" "),t("div",{staticClass:"form-row"},[t("div",{staticClass:"form-group col-md-4"},[t("label",[e._v("Municipio ")]),e._v(" "),t("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:e.clientes.municipio,expression:"clientes.municipio"}],staticClass:"form-control",attrs:{type:"text","data-vv-name":"Municipio",placeholder:"Municipio"},domProps:{value:e.clientes.municipio},on:{input:function(t){t.target.composing||e.$set(e.clientes,"municipio",t.target.value)}}}),e._v(" "),t("span",{staticClass:"text-danger"},[e._v(e._s(e.errors.first("Municipio")))])]),e._v(" "),t("div",{staticClass:"form-group col-md-4"},[t("label",[e._v(" Entidad federativa ")]),e._v(" "),t("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:e.clientes.entidad_federativa,expression:"clientes.entidad_federativa"}],staticClass:"form-control",attrs:{type:"text","data-vv-name":"Entidad federativa",placeholder:"Entidad federativa"},domProps:{value:e.clientes.entidad_federativa},on:{input:function(t){t.target.composing||e.$set(e.clientes,"entidad_federativa",t.target.value)}}}),e._v(" "),t("span",{staticClass:"text-danger"},[e._v(e._s(e.errors.first("Entidad federativa")))])])]),e._v(" "),t("div",{staticClass:"form-group"},[t("label",[e._v(" Domicilio alterno")]),e._v(" "),t("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:e.clientes.domicilio_alterno,expression:"clientes.domicilio_alterno"}],staticClass:"form-control",attrs:{type:"text","data-vv-name":"Domicilio Alterno",placeholder:"Domicilio Alterno"},domProps:{value:e.clientes.domicilio_alterno},on:{input:function(t){t.target.composing||e.$set(e.clientes,"domicilio_alterno",t.target.value)}}}),e._v(" "),t("span",{staticClass:"text-danger"},[e._v(e._s(e.errors.first("Domicilio Alterno")))])]),e._v(" "),t("div",{staticClass:"form-row"},[t("div",{staticClass:"form-group col-md-6"},[t("label",{attrs:{for:"inputCity"}},[e._v("Contacto")]),e._v(" "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.clientes.contacto,expression:"clientes.contacto"}],staticClass:"form-control",attrs:{id:"contacto","data-vv-name":"contacto",name:"contacto"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.clientes,"contacto",t.target.multiple?a:a[0])}}},e._l(e.listaContacto,(function(a){return t("option",{key:a.id,domProps:{value:a.nombre_contacto}},[e._v(e._s(a.nombre_contacto))])})),0)]),e._v(" "),t("div",{staticClass:"form-group col-md-6"},[t("label",[e._v(" Teléfono")]),e._v(" "),t("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:e.clientes.telefono,expression:"clientes.telefono"}],staticClass:"form-control",attrs:{type:"text","data-vv-name":"Telefono",placeholder:"Teléfono"},domProps:{value:e.clientes.telefono},on:{input:function(t){t.target.composing||e.$set(e.clientes,"telefono",t.target.value)}}}),e._v(" "),t("span",{staticClass:"text-danger"},[e._v(e._s(e.errors.first("Telefono")))])])]),e._v(" "),t("div",{staticClass:"form-row"},[t("div",{staticClass:"form-group col-md-6"},[t("label",{attrs:{for:"inputCity"}},[e._v("Ejecutivo asignado")]),e._v(" "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.clientes.ejecutivo_asignado_id,expression:"clientes.ejecutivo_asignado_id"}],staticClass:"form-control",attrs:{id:"empleado_id","data-vv-name":"ejecutivo asignado",name:"empleado_id"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.clientes,"ejecutivo_asignado_id",t.target.multiple?a:a[0])}}},e._l(e.listaEmpleados,(function(a){return t("option",{key:a.id,domProps:{value:a.id}},[e._v(e._s(a.nombre))])})),0)])])])],1),e._v(" "),t("div",{staticClass:"modal-footer"},[t("vue-element-loading",{attrs:{active:e.isLoading}}),e._v(" "),t("div",[t("button",{staticClass:"btn btn-outline-dark",on:{click:function(t){return e.cerrarModal()}}},[t("i",{staticClass:"fas fa-times"}),e._v(" Cerrar")]),e._v(" "),1==e.tipoAccion?t("button",{staticClass:"btn btn-secondary",on:{click:function(t){return e.guardar(1)}}},[t("i",{staticClass:"fas fa-save"}),e._v(" Guardar")]):e._e(),e._v(" "),2==e.tipoAccion?t("button",{staticClass:"btn btn-secondary",on:{click:function(t){return e.guardar(0)}}},[t("i",{staticClass:"fas fa-save"}),e._v(" Actualizar")]):e._e()])],1)])])])])])}),[],!1,null,null,null).exports}}]);